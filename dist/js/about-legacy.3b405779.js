(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[443],{71021:function(e,t,a){"use strict";a.d(t,{Z:function(){return v}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"VommondCheckBoxWrapper"},[e._m(0),e.label?a("span",{staticClass:"VommondCheckBoxLabel"},[e._v(e._s(e.label))]):e._e()])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"VommondCheckBox"},[a("span",{staticClass:"VommondCheckBoxHook",attrs:{"data-dojo-attach-point":"hook"}})])}],i=a(40282),o=a(28379),r=a(75790),c=a(59344),l=a(48039),u=a(54524),d={name:"CheckBox",mixins:[i.Z],data:function(){return{checked:!1}},props:["label","value"],components:{},methods:{postCreate:function(){this.log=new u.Z("CheckBox"),this.own((0,l.Z)(this.domNode,r.Z.press,c.Z.hitch(this,"onChange"))),(this.value||"true"===this.value)&&this.setValue(!0)},getValue:function(){return this.checked},setValue:function(e){this.checked=e,e?o.Z.add(this.domNode,"VommondCheckBoxChecked"):o.Z.remove(this.domNode,"VommondCheckBoxChecked")},setLabel:function(e){this.label=e},onChange:function(e){this.stopEvent(e),this.setValue(!this.checked),this.emit("change",this.checked),this.emit("input",this.checked)}},watch:{value:function(e){this.setValue(e)}},mounted:function(){this.log.log(10,"mounted","enter")}},m=d,h=a(1001),p=(0,h.Z)(m,n,s,!1,null,null,null),v=p.exports},52782:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"MatcHelp"},[e.loading?a("span",{staticClass:"MatchHint"},[e._v(" Loading... ")]):a("div",{staticClass:"MatcHelpContentCntr"},[a("h2",[e._v(e._s(e.current.title))]),a("p",{staticClass:"MatcHelpContentParagraph",domProps:{innerHTML:e._s(e.current.body)}}),e.current.image?a("div",{staticClass:"MatcHelpContenImage"},[a("img",{attrs:{src:e.current.image.src}})]):e._e(),e.current.image&&e.current.image.caption?a("caption",[e._v(e._s(e.current.image.caption))]):e._e(),a("div",{staticClass:"MatcHelpContentVideo"},[e.current.video?a("iframe",{attrs:{width:560*e.videoScaleFactor,height:315*e.videoScaleFactor,src:e.current.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()]),e.current.hasContact?a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.contactName,expression:"contactName"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:e.contactName},on:{input:function(t){t.target.composing||(e.contactName=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.contactEmail,expression:"contactEmail"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:e.contactEmail},on:{input:function(t){t.target.composing||(e.contactEmail=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Message")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contactMessage,expression:"contactMessage"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:e.contactMessage},on:{input:function(t){t.target.composing||(e.contactMessage=t.target.value)}}})]),a("div",{staticClass:"MatcButtonBar"},[a("div",{staticClass:"MatcButton MatcButtonPrimary",on:{click:e.sendContact}},[e._v("Send")]),a("span",{staticClass:"MatcError"},[e._v(" "+e._s(e.contactError)+" ")]),a("span",{staticClass:"MatcSuccess"},[e._v(" "+e._s(e.concatSucess)+" ")])])]):e._e(),e._l(e.current.paragraphs,(function(t){return a("div",{key:t.id,ref:"paragraph",refInFor:!0,class:"MatcHelpContentParagraph "+t.css,attrs:{pid:t.id}},[t.title?a("h3",[e._v(" "+e._s(t.title)+" ")]):e._e(),a("p",{domProps:{innerHTML:e._s(t.body)}}),t.image?a("div",{staticClass:"MatcHelpContenImage"},[a("img",{attrs:{src:t.image.src}})]):e._e(),t.image&&t.image.caption?a("caption",[e._v(e._s(t.image.caption))]):e._e(),t.video?a("iframe",{attrs:{width:560*e.videoScaleFactor,height:315*e.videoScaleFactor,src:t.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()])}))],2),a("div",{},[e.hasSideBar?a("div",{staticClass:"MatcHelpTopics"},[e.hasSearch?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:" MatcCreateSearch MatcIgnoreOnKeyPress form-control",attrs:{type:"search",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]):e._e(),e.loading?a("span",{staticClass:"MatchHint"},[e._v(" Loading... ")]):e._e(),a("div",{staticClass:"MatcHelpTopicsCntr"},[e.standalone?a("div",[e._l(e.topics,(function(t){return[a("a",{key:t.id,class:[{selected:t.id===e.selected&&!e.selectedParagraph},t.css],attrs:{href:"#/help/"+t.id+".html"}},[e._v(" "+e._s(t.name)+" ")]),t.id===e.selected?[e._l(t.paragraphs,(function(n,s){return[n.title?a("a",{key:s,class:["MatcHelpSubTopic",{selected:n.id===e.selectedParagraph}],attrs:{href:"#/help/"+t.id+"/"+n.id+".html"}},[e._v(" "+e._s(n.title)+" ")]):e._e()]}))]:e._e()]}))],2):a("div",[e._l(e.topics,(function(t){return[a("a",{key:t.id,class:[{selected:t.id===e.selected&&!e.selectedParagraph},t.css],on:{click:function(a){return e.setTopic(t.id)}}},[e._v(" "+e._s(t.name)+" ")]),t.id===e.selected?[e._l(t.paragraphs,(function(t,n){return[t.title?a("a",{key:n,class:["MatcHelpSubTopic",{selected:t.id===e.selectedParagraph}],on:{click:function(a){return a.stopPropagation(),e.setSupTopic(t.id)}}},[e._v(" "+e._s(t.title)+" ")]):e._e()]}))]:e._e()]}))],2)])]):e._e()])])},s=[],i=a(67906),o=a(16198),r=(a(69826),a(41539),a(74916),a(64765),a(57327),a(2707),a(92222),a(21249),a(40282)),c=a(77259),l=a(20144),u={name:"HelpButton",mixins:[r.Z],props:["help","standalone"],data:function(){return{texts:[],selected:"getting_started",selectedParagraph:"",search:"",hasSideBar:!0,hasSearch:!1,hasNotifications:!0,contactName:"",contactEmail:"",contactMessage:"",contactError:"",concatSucess:"",videoScaleFactor:1.2}},components:{},computed:{loading:function(){return 0===this.texts.length},current:function(){var e=this,t=this.texts.find((function(t){return t.id===e.selected}));return t||(t=this.texts[0]),t},topics:function(){var e=this.search.toLowerCase();return e.length>2?this.texts.filter((function(t){if(t._all&&t._all.indexOf(e)>=0)return!0})):this.texts}},methods:{setTopic:function(e){this.selected=e,this.selectedParagraph=""},setSupTopic:function(e){var t=this;this.selectedParagraph=e,l.Z.nextTick((function(){t.focus(e)}))},focus:function(e){if(this.$refs.paragraph){var t=this.$refs.paragraph.find((function(t){return t.getAttribute("pid")===e}));t&&t.scrollIntoView()}},convertNotification:function(e){var t={id:"notifications."+e.id,title:e.title,body:e.more};if(e.video){var a=e.video;a.indexOf('src="')>0&&(a=a.substring(a.indexOf('src="')+5),a=a.substring(0,a.indexOf('"'))),t.video={src:a}}return t},sendContact:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.contactEmail||!e.contactMessage){t.next=7;break}return t.next=3,c.Z.getUserService().contact(e.contactName,e.contactEmail,e.contactMessage);case 3:a=t.sent,a&&(e.$root.$emit("Success","Thanks for contacting us! The dialog will close automatically"),e.concatSucess="Thanks for contacting us! The dialog will close automatically",e.contactError="",setTimeout((function(){e.selected="default"}),2e3)),t.next=9;break;case 7:e.contactError="Please fill out the form",e.concatSucess="";case 9:case"end":return t.stop()}}),t)})))()},setTopicByRoute:function(){this.$route.params.topic&&this.setTopic(this.$route.params.topic),this.$route.params.subtopic&&this.setSupTopic(this.$route.params.subtopic)}},watch:{$route:function(){this.setTopicByRoute()}},mounted:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a,n;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.standalone&&(e.hasNotifications=!1,e.videoScaleFactor=.9),t.next=3,c.Z.getHelpService().getAll();case 3:if(a=t.sent,!e.hasNotifications){t.next=9;break}return t.next=7,c.Z.getUserService().getNotications();case 7:n=t.sent,n&&(n.sort((function(e,t){return t.lastUpdate-e.lastUpdate})),a=[{id:"notifications",name:"News",title:"News",body:"\n                    ",paragraphs:n.map((function(t){return e.convertNotification(t)}))}].concat(a),e.selected="notifications");case 9:e.texts=a,e.selectedParagraph&&l.Z.nextTick((function(){e.focus(e.selectedParagraph)})),e.standalone&&e.setTopicByRoute();case 12:case"end":return t.stop()}}),t)})))()}},d=u,m=a(1001),h=(0,m.Z)(d,n,s,!1,null,"1380e7b6",null),p=h.exports},36470:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"VommondContentContainer"},[a("div",{staticClass:"MatcHeader MactMainGradient MatcHeaderTab bs-docs-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row MatcHeaderTopRow"},[a("div",{staticClass:"col-md-12"},[e._v(" Ooopss... Something went wrong! ")])]),a("div",{staticClass:"row MatcHeaderBottomRow"},[a("div",{staticClass:"col-md-12 MatcRight"})])])]),a("div",{staticClass:"MatcContent MatcAbout"},[a("div",{staticClass:"MatcSection MatcSectionOdd"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[e._v(" Something went wrong ")])])])])])])])}],i=a(67906),o=a(16198),r=(a(68309),a(77259)),c={name:"Page404",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},methods:{send:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.Z.getUserService().contact(e.name,e.email,e.message);case 2:a=t.sent,a&&(e.done=!0);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},l=c,u=a(1001),d=(0,u.Z)(l,n,s,!1,null,null,null),m=d.exports},75126:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"VommondContentContainer"},[a("div",{staticClass:"MatcContent MatcMarginTopXXL"},[a("div",{staticClass:"MatcSection MatcSectionOdd"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 MatcPaddingBottomXXL"},[a("Help",{attrs:{standalone:!0}})],1)])])])])])])},s=[],i=a(67906),o=a(16198),r=(a(68309),a(77259)),c=a(52782),l={name:"HelpPage",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},components:{Help:c.Z},methods:{send:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.Z.getUserService().contact(e.name,e.email,e.message);case 2:a=t.sent,a&&(e.done=!0);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},u=l,d=a(1001),m=(0,d.Z)(u,n,s,!1,null,null,null),h=m.exports},84005:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"VommondContentContainer"},[a("div",{staticClass:"MatcContent MatcAbout"},[a("div",{staticClass:"MatcSection MatcSectionOdd"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[e._v(" For login has expired. Please login again. ")])])])])])])])}],i=a(77259),o={name:"LogoutPage",mixins:[],data:function(){return{}},methods:{},mounted:function(){setTimeout((function(){i.Z.getUserService().logout(),location.href="/"}),3e3)}},r=o,c=a(1001),l=(0,c.Z)(r,n,s,!1,null,null,null),u=l.exports},76780:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"VommondContentContainer"},[a("div",{staticClass:"MatcContent MatcMarginTopXXL "},[a("div",{staticClass:"MatcSection"},[e.user?a("div",{staticClass:"container"},[a("h2",[e._v("My Account")]),a("p",{staticClass:"MatcLead MatcMarginBottomXL"},[e._v(" Change your personal settings here! ")]),a("div",{staticClass:"row"},[e.isQuxAuth?a("div",{staticClass:"col-md-6"},[a("div",{attrs:{"data-dojo-type":"de/vommond/Form"}},[a("div",{staticClass:"form-group MatcHoverHint",on:{dblclick:function(t){e.isEmailDisabled=!1}}},[a("label",[e._v(" Email "),e.isEmailDisabled?a("span",{staticClass:"MatcHint"},[e._v("(double click to edit)")]):e._e()]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],ref:"emailField",staticClass:"form-control",attrs:{type:"email",disabled:e.isEmailDisabled,placeholder:"Your email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your name","data-binding-required":"true"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Lastname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastname,expression:"user.lastname"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your lastname","data-binding-required":"true"},domProps:{value:e.user.lastname},on:{input:function(t){t.target.composing||e.$set(e.user,"lastname",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Homepage")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.homepage,expression:"user.homepage"}],staticClass:"form-control",attrs:{type:"text",placeholder:"http://www.yourpage.com"},domProps:{value:e.user.homepage},on:{input:function(t){t.target.composing||e.$set(e.user,"homepage",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"To change, enter new password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Newsletter")]),a("div",[a("CheckBox",{attrs:{label:"I want to receive the newsletter"},model:{value:e.user.newsletter,callback:function(t){e.$set(e.user,"newsletter",t)},expression:"user.newsletter"}})],1)]),a("div",{staticClass:"MatcErrorLabel"},[e._v(" "+e._s(e.error)+" ")]),a("div",{staticClass:"MatcButtonBar"},[a("a",{staticClass:"MatcButton",on:{click:e.save}},[e._v("Save")]),a("a",{staticClass:"MatcLinkButton",attrs:{href:"#/apps/my-apps.html"}},[e._v("Cancel")])])])]):a("div",{staticClass:"col-md-6"},[a("p",{staticClass:"MatcLead MatcMarginBottomXL"},[e._v(" Your credentials are managed in Keycloak. Contact your admin for help. ")])]),a("div",{staticClass:"col-md-2 col-md-offset-1 visible-md-block visible-lg-block"},[a("Label",[e._v("Image")]),a("UserImage",{attrs:{user:e.user},on:{change:e.onImageChanged}})],1),a("div",{staticClass:"col-md-1 col-md-offset-1"},[a("a",{staticClass:"MatcButton MatcButtonDanger",on:{click:e.retire}},[e._v("Delete")])])])]):e._e()])])])},s=[],i=a(67906),o=a(16198),r=(a(68309),a(41539),a(59344)),c=a(48039),l=a(96200),u=a(17386),d=a(54524),m=a(40282),h=a(77259),p=a(71021),v=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},f=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"MatcUser MatcUserImageUploader"},[a("div",{staticClass:"MatcCenter MatcInline"},[a("div",{staticClass:"MatcUserImageCntr",attrs:{"data-dojo-attach-point":"imageCntr"}}),a("div",{staticClass:"MatcActionBar",attrs:{"data-dojo-attach-point":"imageActions"}})])])}],g=a(28379),C=a(75790),w={name:"UserImage",mixins:[m.Z],props:["user"],data:function(){return{value:{}}},components:{},methods:{constructor:function(){this.logger=new d.Z("UserImageUploader"),this.logger.log(2,"constructor","entry")},postCreate:function(){this._initFileDnD(document.documentElement),this.value=this.user,this.render(this.value)},render:function(e){this.cleanUp();var t=new u.Z;if(e.image){t.img("rest/user/"+e.id+"/images/"+e.name+"_"+e.lastname+"/"+e.image,"MatcUserImage").build(this.imageCntr);var a=t.div("MatcActionBarBtn MatcUploadButton","Change").build(this.imageActions);this.file=t.file("MatcImageUploadFile").build(a),this.tempOwn((0,c.Z)(this.file,"change",r.Z.hitch(this,"_onFileChange")));var n=t.a("MatcActionBarBtn","Remove").build(this.imageActions);this.tempOwn((0,c.Z)(n,C.Z.press,r.Z.hitch(this,"_deleteImage")))}else{var s=t.span(" mdi mdi-plus-circle","").build(this.imageCntr);this.file=t.file("MatcImageUploadFile").build(s),this.tempOwn((0,c.Z)(this.file,"change",r.Z.hitch(this,"_onFileChange"))),g.Z.add(this.imageCntr,"MatcImageUploadAdd"),t.span("MatcHint","Click or Drop file to upload an image").build(this.imageActions)}},cleanUp:function(){this.imageCntr.innerHTML="",this.imageActions.innerHTML="",g.Z.remove(this.domNode,"MatcImageUploadDND"),g.Z.remove(this.imageCntr,"MatcImageUploadAdd"),this.cleanUpTempListener()},_stop:function(e,t){return t.preventDefault,t.preventDefault(),e?g.Z.remove(this.domNode,"MatcImageUploadDND"):g.Z.add(this.domNode,"MatcImageUploadDND"),!1},onFileDropped:function(e){e.preventDefault,e.preventDefault(),this.stopEvent(e);var t=e.dataTransfer;return this._files=t.files,g.Z.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles(),!1},_onFileChange:function(e){this.stopEvent(e),this._files=this.file.files,g.Z.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles()},_sendFiles:function(){for(var e=this,t=h.Z.getUserService().getToken(),a=new FormData,n=0;n<this._files.length;n++)a.append("file",this._files[n]);var s=new XMLHttpRequest;s.open("POST","rest/user/"+this.user.id+"/images/"),s.setRequestHeader("Authorization","Bearer "+t),s.onload=function(){200===s.status?e.onUploadDone():e.onUploadError()},s.send(a)},_deleteImage:function(e){var t=this;return(0,o.Z)((0,i.Z)().mark((function a(){return(0,i.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.stopEvent(e),a.next=3,h.Z.getUserService().deleteImage(t.value);case 3:t.load(),t.$emit("change");case 5:case"end":return a.stop()}}),a)})))()},onUploadDone:function(){this.load(),this.$emit("change")},load:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.Z.getUserService().loadById(e.value.id);case 2:a=t.sent,e.setUser(a);case 4:case"end":return t.stop()}}),t)})))()},setUser:function(e){this.value=e,this.render(e)},onUploadError:function(){},_initFileDnD:function(e){this._fileDnDListeners=[],this._fileDnDListeners.push((0,c.Z)(e,"dragenter",r.Z.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,c.Z)(e,"dragover",r.Z.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,c.Z)(e,"dragleave",r.Z.hitch(this,"_stop",!0))),this._fileDnDListeners.push((0,c.Z)(e,"drop",r.Z.hitch(this,"onFileDropped")))},_destroyFileDnD:function(){if(this._fileDnDListeners)for(var e=0;e<this._fileDnDListeners.length;e++)this._fileDnDListeners[e].remove();delete this._fileDnDListeners},destroy:function(){this.cleanUpTempListener(),this._destroyFileDnD()}},mounted:function(){}},Z=w,_=a(1001),M=(0,_.Z)(Z,v,f,!1,null,null,null),x=M.exports,k={name:"Finish",mixins:[m.Z],data:function(){return{isEmailDisabled:!0,password:"",error:"",user:null,errorHomepage:!1,errorName:!1,errorLastName:!1}},watch:{},components:{CheckBox:p.Z,UserImage:x},computed:{isQuxAuth:function(){return"keycloak"!==h.Z.getConfig().auth}},methods:{retire:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a,n,s,o,d,m,h;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger.log(0,"retire","entry"),a=new u.Z,n=a.div("MatcDialog").build(),s=e.user.name?e.user.name:e.user.email,a.h3("",e.getNLS("user.retire.hi")+s+",").build(n),a.div("MatcMarginTop",e.getNLS("user.retire.msg"),!0).build(n),o=a.div("MatcButtonBar MatcMarginTopXXL").build(n),d=a.a("MatcButton MatcButtonDanger",e.getNLS("btn.delete")).build(o),m=a.a("MatcLinkButton",e.getNLS("btn.cancel")).build(o),h=new l.Z,h.popup(n,e.$refs.retireBUTTON),h.own((0,c.Z)(d,"click",r.Z.hitch(e,"_retireUser",h,n))),h.own((0,c.Z)(m,"click",(function(){h.close()})));case 13:case"end":return t.stop()}}),t)})))()},_retireUser:function(e,t){var a=this;h.Z.getUserService().retire(this.user),e.shake(),t.innerHTML=this.getNLS("user.retire.cusoon"),e.own((0,c.Z)(e,"close",(function(){a.$root.$emit("logout")})))},confirm:function(){var e=this;return new Promise((function(t){var a=new u.Z,n=a.div("MatcDialog").build(),s=e.user.name?e.user.name:e.user.email,i=e.getNLS("user.change.email")+e.user.email;a.h3("",e.getNLS("user.change.hi")+s+",").build(n),a.div("MatcMarginTop",i,!0).build(n);var o=a.div("MatcButtonBar MatcMarginTopXXL").build(n),r=a.a("MatcButton MatcButtonRed",e.getNLS("btn.save")).build(o),d=a.a("MatcLinkButton",e.getNLS("btn.cancel")).build(o),m=new l.Z;m.popup(n,e.$refs.emailField),m.own((0,c.Z)(r,"click",(function(){t(!0),m.close()}))),m.own((0,c.Z)(d,"click",(function(){m.close()}))),m.on("close",(function(){t(!1)}))}))},save:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a,n,s;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.logger.log(0,"save","entry"),a={name:e.user.name,lastname:e.user.lastname,homepage:e.user.homepage,newsletter:e.user.newsletter},e.orginalEmail===e.user.email){t.next=9;break}return t.next=5,e.confirm();case 5:if(n=t.sent,n){t.next=8;break}return t.abrupt("return");case 8:a.email=e.user.email;case 9:if(!(e.password>0)){t.next=17;break}if(!(e.password.length<6)){t.next=16;break}return console.warn("Password too short"),e.error="The password must have at least 6 characters",t.abrupt("return");case 16:a.password=e.password;case 17:return t.next=19,h.Z.getUserService().save(e.user._id,a);case 19:s=t.sent,s.errors?(e.logger.error("save","Email taken",e.user.email),e.showError("Email is taken..."),e.error="The email is already taken"):(e.$root.$emit("user",s),e.showSuccess("Account updated"));case 21:case"end":return t.stop()}}),t)})))()},onImageChanged:function(){this.showSuccess("Image changed")}},mounted:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var a;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new d.Z("Finish"),a=h.Z.getUserService().load(),h.Z.getUserService().loadById(a.id).then((function(t){e.user=t,e.orginalEmail=e.user.email,e.logger.info("mounted","exit >> "+e.user.email)}));case 3:case"end":return t.stop()}}),t)})))()}},b=k,S=(0,_.Z)(b,n,s,!1,null,null,null),y=S.exports},81150:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},64765:function(e,t,a){"use strict";var n=a(46916),s=a(27007),i=a(19670),o=a(84488),r=a(81150),c=a(41340),l=a(58173),u=a(97651);s("search",(function(e,t,a){return[function(t){var a=o(this),s=void 0==t?void 0:l(t,e);return s?n(s,t,a):new RegExp(t)[e](c(a))},function(e){var n=i(this),s=c(e),o=a(t,n,s);if(o.done)return o.value;var l=n.lastIndex;r(l,0)||(n.lastIndex=0);var d=u(n,s);return r(n.lastIndex,l)||(n.lastIndex=l),null===d?-1:d.index}]}))},96200:function(e,t,a){"use strict";a.d(t,{Z:function(){return C}});var n=a(76133),s=a(92751),i=a(99418),o=a(49161),r=a(28379),c=a(59344),l=a(16328),u=a(48039),d=a(78449),m=a(75790),h=a(77050),p=a(19721),v=a(54524),f=a(5356),g=null,C=function(e){(0,i.Z)(a,e);var t=(0,o.Z)(a);function a(e){var s;return(0,n.Z)(this,a),s=t.call(this),s.autoClose=!0,s.wrapperClass="",s.overflow=!1,s.isFullScreen=!1,s.hasCSSAnimation=!0,e&&e.overflow&&(s.overflow=e.overflow),e&&e.hasCSSAnimation&&(s.hasCSSAnimation=e.hasCSSAnimation),s.log=new v.Z("Dialog"),s}return(0,s.Z)(a,[{key:"destroy",value:function(){this.log.info("destroy","enter"),g=null,this.cleanUpEvented()}},{key:"setFullScreen",value:function(e){this.hasFullScreen=!0,this.fullScreenListener=e}},{key:"popup",value:function(e,t,a){var n=this;this.log.log(1,"popup","enter"),g=this,p.Z.publish("vommond/dialog/open",{});var s=document.createElement("div");if(r.Z.add(s,"VommondDialogBackground VommondDialogHidden VommondDialogContentHidden"),this.hasFullScreen){var i=document.createElement("span");r.Z.add(i,"VommondDialogFullScreen mdi mdi-fullscreen"),s.appendChild(i),this.own((0,u.Z)(i,m.Z.press,c.Z.hitch(this,"toggleFullScreen",i)))}var o=document.createElement("div");r.Z.add(o,"VommondDialogContainer"),s.appendChild(o);var v=document.createElement("div");r.Z.add(v,"VommondDialogWrapper"),this.overflow&&r.Z.add(v,"VommondDialogWrapperOverflow"),a&&r.Z.add(v,a),r.Z.add(v,this.wrapperClass),o.appendChild(v);var f=document.createElement("div");r.Z.add(f,"VommondDialogContent"),(0,d.Z)("mobile")&&(r.Z.add(f,"VommondDialogContentMobile"),r.Z.add(v,"VommondDialogWrapperMobile")),v.appendChild(f),f.appendChild(e),l.Z.body().appendChild(s),this.own((0,u.Z)(s,"onmousewheel",c.Z.hitch(this,"stopScroll"))),this.own((0,u.Z)(s,"mousewheel",c.Z.hitch(this,"stopScroll"))),this.own((0,u.Z)(s,"DOMMouseScroll",c.Z.hitch(this,"stopScroll"))),this.own(p.Z.subscribe("matc/canvas/esc",c.Z.hitch(this,"close")));var C=this.getStartPos(t),w=h.Z.position(v),Z=h.Z.position(s);if(this.autoClose&&this.own((0,u.Z)(s,m.Z.press,c.Z.hitch(this,"onBackClick"))),v.style.top=C.y+"px",v.style.height=C.h+"px",v.style.width=C.w+"px",v.style.left=C.x+"px",this.hasCSSAnimation){var _=C.w/w.w,M=C.h/w.h,x=" scale("+_+","+M+")";v.style.transform=x}setTimeout((function(){r.Z.remove(s,"VommondDialogHidden")}),1),setTimeout((function(){r.Z.remove(s,"VommondDialogContentHidden")}),350),setTimeout((function(){n.hasCSSAnimation&&(v.style.transform="scale(1,1)"),v.style.top=Math.round((Z.h-w.h)/2)+"px",v.style.height=w.h+"px",v.style.width=w.w+"px",v.style.left=Math.round((Z.w-w.w)/2)+"px"}),100),this.hasCSSAnimation&&setTimeout((function(){v.style.transform=""}),500),setTimeout((function(){return n.emitOpen()}),500),this._dialogBackground=s,this.node=e,this.wrapper=v}},{key:"onOpen",value:function(e){this._onOpenCallback=e}},{key:"emitOpen",value:function(){this._onOpenCallback&&this._onOpenCallback()}},{key:"getStartPos",value:function(e){if(e)return h.Z.position(e);var t=h.Z.position(l.Z.body());return{w:0,h:0,x:t.w/2,y:t.h/2}}},{key:"resize",value:function(e){var t=this.wrapper,a=this._dialogBackground;e.appendChild&&(e=h.Z.position(e,!0));var n=h.Z.position(a);t.style.top=Math.round((n.h-e.h)/2)+"px",t.style.height=e.h+"px",t.style.width=e.w+"px",t.style.left=Math.round((n.w-e.w)/2)+"px"}},{key:"stopScroll",value:function(e){if(this._dialogBackground==e.target)return this.stopEvent(e),!1}},{key:"onBackClick",value:function(e){var t=e.target;t==this._dialogBackground&&(this.stopEvent(e),r.Z.add(this._dialogBackground," VommondDialogHidden"),setTimeout(c.Z.hitch(this,"close"),300))}},{key:"shake",value:function(){var e=h.Z.position(this.wrapper);r.Z.add(this.wrapper,"VommondDialogWrapperShake");var t=this.wrapper;setTimeout((function(){t.style.left=e.x+50+"px"}),1),setTimeout((function(){t.style.left=e.x-50+"px"}),51),setTimeout((function(){t.style.left=e.x+50+"px"}),101),setTimeout((function(){t.style.left=e.x-50+"px"}),151),setTimeout((function(){t.style.left=e.x+"px",r.Z.remove(t,"VommondDialogWrapperShake")}),201)}},{key:"toggleFullScreen",value:function(e){this.isFullScreen=!this.isFullScreen,this.fullScreenListener&&this.fullScreenListener(this.isFullScreen),this.isFullScreen?(r.Z.remove(e,"mdi-fullscreen"),r.Z.add(e,"mdi-fullscreen-exit")):(r.Z.add(e,"mdi-fullscreen"),r.Z.remove(e,"mdi-fullscreen-exit"))}},{key:"hide",value:function(){this.close()}},{key:"close",value:function(){this.emit("close",{}),this._dialogBackground&&l.Z.body().removeChild(this._dialogBackground),this.destroy()}}],[{key:"getCurrentDialog",value:function(){return g}}]),a}(f.Z)}}]);
//# sourceMappingURL=about-legacy.3b405779.js.map