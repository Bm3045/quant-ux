"use strict";(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[443],{71021:function(t,e,s){s.d(e,{Z:function(){return v}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"VommondCheckBoxWrapper"},[t._m(0),t.label?s("span",{staticClass:"VommondCheckBoxLabel"},[t._v(t._s(t.label))]):t._e()])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"VommondCheckBox"},[s("span",{staticClass:"VommondCheckBoxHook",attrs:{"data-dojo-attach-point":"hook"}})])}],o=s(60245),r=s(28379),n=s(75790),l=s(59344),c=s(48039),d=s(54524),u={name:"CheckBox",mixins:[o.Z],data:function(){return{checked:!1}},props:["label","value"],components:{},methods:{postCreate(){this.log=new d.Z("CheckBox"),this.own((0,c.Z)(this.domNode,n.Z.press,l.Z.hitch(this,"onChange"))),(this.value||"true"===this.value)&&this.setValue(!0)},getValue(){return this.checked},setValue(t){this.checked=t,t?r.Z.add(this.domNode,"VommondCheckBoxChecked"):r.Z.remove(this.domNode,"VommondCheckBoxChecked")},setLabel(t){this.label=t},onChange(t){this.stopEvent(t),this.setValue(!this.checked),this.emit("change",this.checked),this.emit("input",this.checked)}},watch:{value(t){this.setValue(t)}},mounted(){this.log.log(10,"mounted","enter")}},h=u,m=s(1001),p=(0,m.Z)(h,a,i,!1,null,null,null),v=p.exports},11138:function(t,e,s){s.d(e,{Z:function(){return h}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MatcHelp"},[t.loading?s("span",{staticClass:"MatchHint"},[t._v(" Loading... ")]):s("div",{staticClass:"MatcHelpContentCntr"},[s("h2",[t._v(t._s(t.current.title))]),s("p",{staticClass:"MatcHelpContentParagraph",domProps:{innerHTML:t._s(t.current.body)}}),t.current.image?s("div",{staticClass:"MatcHelpContenImage"},[s("img",{attrs:{src:t.current.image.src}})]):t._e(),t.current.image&&t.current.image.caption?s("caption",[t._v(t._s(t.current.image.caption))]):t._e(),s("div",{staticClass:"MatcHelpContentVideo"},[t.current.video?s("iframe",{attrs:{width:560*t.videoScaleFactor,height:315*t.videoScaleFactor,src:t.current.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):t._e()]),t.current.hasContact?s("div",[s("div",{staticClass:"form-group"},[s("label",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.contactName,expression:"contactName"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:t.contactName},on:{input:function(e){e.target.composing||(t.contactName=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.contactEmail,expression:"contactEmail"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:t.contactEmail},on:{input:function(e){e.target.composing||(t.contactEmail=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Message")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contactMessage,expression:"contactMessage"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:t.contactMessage},on:{input:function(e){e.target.composing||(t.contactMessage=e.target.value)}}})]),s("div",{staticClass:"MatcButtonBar"},[s("div",{staticClass:"MatcButton MatcButtonPrimary",on:{click:t.sendContact}},[t._v("Send")]),s("span",{staticClass:"MatcError"},[t._v(" "+t._s(t.contactError)+" ")]),s("span",{staticClass:"MatcSuccess"},[t._v(" "+t._s(t.concatSucess)+" ")])])]):t._e(),t._l(t.current.paragraphs,(function(e){return s("div",{key:e.id,ref:"paragraph",refInFor:!0,class:"MatcHelpContentParagraph "+e.css,attrs:{pid:e.id}},[e.title?s("h3",[t._v(" "+t._s(e.title)+" ")]):t._e(),s("p",{domProps:{innerHTML:t._s(e.body)}}),e.image?s("div",{staticClass:"MatcHelpContenImage"},[s("img",{attrs:{src:e.image.src}})]):t._e(),e.image&&e.image.caption?s("caption",[t._v(t._s(e.image.caption))]):t._e(),e.video?s("iframe",{attrs:{width:560*t.videoScaleFactor,height:315*t.videoScaleFactor,src:e.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):t._e()])}))],2),s("div",{},[t.hasSideBar?s("div",{staticClass:"MatcHelpTopics"},[t.hasSearch?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:" MatcCreateSearch MatcIgnoreOnKeyPress form-control",attrs:{type:"search",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]):t._e(),t.loading?s("span",{staticClass:"MatchHint"},[t._v(" Loading... ")]):t._e(),s("div",{staticClass:"MatcHelpTopicsCntr"},[t.standalone?s("div",[t._l(t.topics,(function(e){return[s("a",{key:e.id,class:[{selected:e.id===t.selected&&!t.selectedParagraph},e.css],attrs:{href:"#/help/"+e.id+".html"}},[t._v(" "+t._s(e.name)+" ")]),e.id===t.selected?[t._l(e.paragraphs,(function(a,i){return[a.title?s("a",{key:i,class:["MatcHelpSubTopic",{selected:a.id===t.selectedParagraph}],attrs:{href:"#/help/"+e.id+"/"+a.id+".html"}},[t._v(" "+t._s(a.title)+" ")]):t._e()]}))]:t._e()]}))],2):s("div",[t._l(t.topics,(function(e){return[s("a",{key:e.id,class:[{selected:e.id===t.selected&&!t.selectedParagraph},e.css],on:{click:function(s){return t.setTopic(e.id)}}},[t._v(" "+t._s(e.name)+" ")]),e.id===t.selected?[t._l(e.paragraphs,(function(e,a){return[e.title?s("a",{key:a,class:["MatcHelpSubTopic",{selected:e.id===t.selectedParagraph}],on:{click:function(s){return s.stopPropagation(),t.setSupTopic(e.id)}}},[t._v(" "+t._s(e.title)+" ")]):t._e()]}))]:t._e()]}))],2)])]):t._e()])])},i=[],o=s(60245),r=s(77259),n=s(20144),l={name:"HelpButton",mixins:[o.Z],props:["help","standalone"],data:function(){return{texts:[],selected:"getting_started",selectedParagraph:"",search:"",hasSideBar:!0,hasSearch:!0,hasNotifications:!0,contactName:"",contactEmail:"",contactMessage:"",contactError:"",concatSucess:"",videoScaleFactor:1.2}},components:{},computed:{loading(){return 0===this.texts.length},current(){let t=this.texts.find((t=>t.id===this.selected));return t||(t=this.texts[0]),t},topics(){let t=this.search.toLowerCase();return t.length>2?this.texts.filter((e=>{if(e._all&&e._all.indexOf(t)>=0)return!0})):this.texts}},methods:{setTopic(t){this.selected=t,this.selectedParagraph=""},setSupTopic(t){this.selectedParagraph=t,n.Z.nextTick((()=>{this.focus(t)}))},focus(t){if(this.$refs.paragraph){let e=this.$refs.paragraph.find((e=>e.getAttribute("pid")===t));e&&e.scrollIntoView()}},convertNotification(t){let e={id:"notifications."+t.id,title:t.title,body:t.more};if(t.video){let s=t.video;s.indexOf('src="')>0&&(s=s.substring(s.indexOf('src="')+5),s=s.substring(0,s.indexOf('"'))),e.video={src:s}}return e},async sendContact(){if(this.contactEmail&&this.contactMessage){let t=await r.Z.getUserService().contact(this.contactName,this.contactEmail,this.contactMessage);t&&(this.$root.$emit("Success","Thanks for contacting us! The dialog will close automatically"),this.concatSucess="Thanks for contacting us! The dialog will close automatically",this.contactError="",setTimeout((()=>{this.selected="default"}),2e3))}else this.contactError="Please fill out the form",this.concatSucess=""},setTopicByRoute(){this.$route.params.topic&&this.setTopic(this.$route.params.topic),this.$route.params.subtopic&&this.setSupTopic(this.$route.params.subtopic)}},watch:{$route(){this.setTopicByRoute()}},async mounted(){this.standalone&&(this.hasNotifications=!1,this.videoScaleFactor=.9);let t=await r.Z.getHelpService().getAll();if(this.hasNotifications){let e=await r.Z.getUserService().getNotications();e&&(e.sort((function(t,e){return e.lastUpdate-t.lastUpdate})),t=[{id:"notifications",name:"News",title:"News",body:"\n                    ",paragraphs:e.map((t=>this.convertNotification(t)))}].concat(t),this.selected="notifications")}this.texts=t,this.selectedParagraph&&n.Z.nextTick((()=>{this.focus(this.selectedParagraph)})),this.standalone&&this.setTopicByRoute()}},c=l,d=s(1001),u=(0,d.Z)(c,a,i,!1,null,"0340ad3b",null),h=u.exports},36470:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcHeader MactMainGradient MatcHeaderTab bs-docs-header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row MatcHeaderTopRow"},[s("div",{staticClass:"col-md-12"},[t._v(" Ooopss... Something went wrong! ")])]),s("div",{staticClass:"row MatcHeaderBottomRow"},[s("div",{staticClass:"col-md-12 MatcRight"})])])]),s("div",{staticClass:"MatcContent MatcAbout"},[s("div",{staticClass:"MatcSection MatcSectionOdd"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[t._v(" Something went wrong ")])])])])])])])}],o=s(77259),r={name:"Page404",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},methods:{async send(){let t=await o.Z.getUserService().contact(this.name,this.email,this.message);t&&(this.done=!0)}},mounted(){}},n=r,l=s(1001),c=(0,l.Z)(n,a,i,!1,null,null,null),d=c.exports},75126:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcContent MatcMarginTopXXL"},[s("div",{staticClass:"MatcSection MatcSectionOdd"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 MatcPaddingBottomXXL"},[s("Help",{attrs:{standalone:!0}})],1)])])])])])])},i=[],o=s(77259),r=s(11138),n={name:"HelpPage",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},components:{Help:r.Z},methods:{async send(){let t=await o.Z.getUserService().contact(this.name,this.email,this.message);t&&(this.done=!0)}},mounted(){}},l=n,c=s(1001),d=(0,c.Z)(l,a,i,!1,null,null,null),u=d.exports},84005:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcContent MatcAbout"},[s("div",{staticClass:"MatcSection MatcSectionOdd"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[t._v(" For login has expired. Please login again. ")])])])])])])])}],o=s(77259),r={name:"LogoutPage",mixins:[],data:function(){return{}},methods:{},mounted(){setTimeout((()=>{o.Z.getUserService().logout(),location.href="/"}),3e3)}},n=r,l=s(1001),c=(0,l.Z)(n,a,i,!1,null,null,null),d=c.exports},44667:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcContent MatcAbout "},[s("div",{staticClass:"MatcSection"},[t.user?s("div",{staticClass:"container"},[s("h2",[t._v("My Account")]),s("p",{staticClass:"MatcLead MatcMarginBottomXL"},[t._v(" Change your personal settings here! ")]),s("div",{staticClass:"row"},[t.isQuxAuth?s("div",{staticClass:"col-md-6"},[s("div",{attrs:{"data-dojo-type":"de/vommond/Form"}},[s("div",{staticClass:"form-group MatcHoverHint",on:{dblclick:function(e){t.isEmailDisabled=!1}}},[s("label",[t._v(" Email "),t.isEmailDisabled?s("span",{staticClass:"MatcHint"},[t._v("(double click to edit)")]):t._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],ref:"emailField",staticClass:"form-control",attrs:{type:"email",disabled:t.isEmailDisabled,placeholder:"Your email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your name","data-binding-required":"true"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Lastname")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastname,expression:"user.lastname"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your lastname","data-binding-required":"true"},domProps:{value:t.user.lastname},on:{input:function(e){e.target.composing||t.$set(t.user,"lastname",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Homepage")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.homepage,expression:"user.homepage"}],staticClass:"form-control",attrs:{type:"text",placeholder:"http://www.yourpage.com"},domProps:{value:t.user.homepage},on:{input:function(e){e.target.composing||t.$set(t.user,"homepage",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"To change, enter new password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Newsletter")]),s("div",[s("CheckBox",{attrs:{label:"I want to receive the newsletter"},model:{value:t.user.newsletter,callback:function(e){t.$set(t.user,"newsletter",e)},expression:"user.newsletter"}})],1)]),s("div",{staticClass:"MatcErrorLabel"},[t._v(" "+t._s(t.error)+" ")]),s("div",{staticClass:"MatcButtonBar"},[s("a",{staticClass:"MatcButton",on:{click:t.save}},[t._v("Save")]),s("a",{attrs:{href:"#/apps/my-apps.html"}},[t._v("Cancel")])])])]):s("div",{staticClass:"col-md-6"},[s("p",{staticClass:"MatcLead MatcMarginBottomXL"},[t._v(" Your credentials are managed in Keycloak. Contact your admin for help. ")])]),s("div",{staticClass:"col-md-2 col-md-offset-1 visible-md-block visible-lg-block"},[s("Label",[t._v("Image")]),s("UserImage",{attrs:{user:t.user}})],1),s("div",{staticClass:"col-md-1 col-md-offset-1"},[s("a",{staticClass:"MatcButton MatcButtonDanger",on:{click:t.retire}},[t._v("Delete")])])])]):t._e()])])])},i=[],o=s(59344),r=s(48039),n=s(96200),l=s(17386),c=s(54524),d=s(60245),u=s(77259),h=s(71021),m=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MatcUser"},[s("div",{staticClass:"MatcCenter MatcInline"},[s("div",{staticClass:"MatcUserImageCntr",attrs:{"data-dojo-attach-point":"imageCntr"}}),s("div",{staticClass:"MatcActionBar",attrs:{"data-dojo-attach-point":"imageActions"}})])])}],v=s(28379),g=s(75790),f={name:"UserImage",mixins:[d.Z],props:["user"],data:function(){return{value:{}}},components:{},methods:{constructor(){this.logger=new c.Z({className:"de.vommond.matc.page.User"}),this.logger.log(2,"constructor","entry")},postCreate(){this._initFileDnD(document.documentElement),this.value=this.user,this.render(this.value)},render(t){this.cleanUp();var e=new l.Z;if(t.image){e.img("rest/user/"+t.id+"/images/"+t.name+"_"+t.lastname+"/"+t.image,"MatcUserImage").build(this.imageCntr);var s=e.div("MatcActionBarBtn MatcUploadButton","Change").build(this.imageActions);this.file=e.file("MatcImageUploadFile").build(s),this.tempOwn((0,r.Z)(this.file,"change",o.Z.hitch(this,"_onFileChange")));var a=e.a("MatcActionBarBtn","Remove").build(this.imageActions);this.tempOwn((0,r.Z)(a,g.Z.press,o.Z.hitch(this,"_deleteImage")))}else{var i=e.span(" mdi mdi-plus-circle","").build(this.imageCntr);this.file=e.file("MatcImageUploadFile").build(i),this.tempOwn((0,r.Z)(this.file,"change",o.Z.hitch(this,"_onFileChange"))),v.Z.add(this.imageCntr,"MatcImageUploadAdd"),e.span("MatcHint","Click or Drop file to upload an image").build(this.imageActions)}},cleanUp(){this.imageCntr.innerHTML="",this.imageActions.innerHTML="",v.Z.remove(this.domNode,"MatcImageUploadDND"),v.Z.remove(this.imageCntr,"MatcImageUploadAdd"),this.cleanUpTempListener()},_stop(t,e){return e.preventDefault,e.preventDefault(),t?v.Z.remove(this.domNode,"MatcImageUploadDND"):v.Z.add(this.domNode,"MatcImageUploadDND"),!1},onFileDropped(t){t.preventDefault,t.preventDefault(),this.stopEvent(t);var e=t.dataTransfer;return this._files=e.files,v.Z.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles(),!1},_onFileChange(t){this.stopEvent(t),this._files=this.file.files,v.Z.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles()},_sendFiles:function(){var t=this;let e=u.Z.getUserService().getToken();for(var s=new FormData,a=0;a<this._files.length;a++)s.append("file",this._files[a]);var i=new XMLHttpRequest;i.open("POST","rest/user/"+this.user.id+"/images/"),i.setRequestHeader("Authorization","Bearer "+e),i.onload=function(){200===i.status?t.onUploadDone():t.onUploadError()},i.send(s)},async _deleteImage(t){this.stopEvent(t),await u.Z.getUserService().deleteImage(this.value),this.load()},onUploadDone(){this.load()},async load(){let t=await u.Z.getUserService().loadById(this.value.id);this.setUser(t)},setUser(t){this.value=t,this.render(t)},onUploadError:function(){},_initFileDnD(t){this._fileDnDListeners=[],this._fileDnDListeners.push((0,r.Z)(t,"dragenter",o.Z.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,r.Z)(t,"dragover",o.Z.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,r.Z)(t,"dragleave",o.Z.hitch(this,"_stop",!0))),this._fileDnDListeners.push((0,r.Z)(t,"drop",o.Z.hitch(this,"onFileDropped")))},_destroyFileDnD:function(){if(this._fileDnDListeners)for(var t=0;t<this._fileDnDListeners.length;t++)this._fileDnDListeners[t].remove();delete this._fileDnDListeners},destroy:function(){this.cleanUpTempListener(),this._destroyFileDnD()}},mounted(){}},C=f,w=s(1001),_=(0,w.Z)(C,m,p,!1,null,null,null),M=_.exports,Z={name:"Finish",mixins:[d.Z],data:function(){return{isEmailDisabled:!0,password:"",error:"",user:null,errorHomepage:!1,errorName:!1,errorLastName:!1}},watch:{},components:{CheckBox:h.Z,UserImage:M},computed:{isQuxAuth(){return"keycloak"!==u.Z.getConfig().auth}},methods:{async retire(){this.logger.log(0,"retire","entry");const t=new l.Z,e=t.div("MatcDialog").build(),s=this.user.name?this.user.name:this.user.email;t.h3("",this.getNLS("user.retire.hi")+s+",").build(e),t.div("MatcMarginTop",this.getNLS("user.retire.msg"),!0).build(e);const a=t.div("MatcButtonBar MatcMarginTopXXL").build(e),i=t.a("MatcButton MatcButtonDanger",this.getNLS("btn.delete")).build(a),c=t.a("MatcLinkButton",this.getNLS("btn.cancel")).build(a),d=new n.Z;d.popup(e,this.$refs.retireBUTTON),d.own((0,r.Z)(i,"click",o.Z.hitch(this,"_retireUser",d,e))),d.own((0,r.Z)(c,"click",(function(){d.close()})))},_retireUser(t,e){u.Z.getUserService().retire(this.user),t.shake(),e.innerHTML=this.getNLS("user.retire.cusoon"),t.own((0,r.Z)(t,"close",(()=>{this.$root.$emit("logout")})))},confirm(){return new Promise((t=>{const e=new l.Z,s=e.div("MatcDialog").build(),a=this.user.name?this.user.name:this.user.email,i=this.getNLS("user.change.email")+this.user.email;e.h3("",this.getNLS("user.change.hi")+a+",").build(s),e.div("MatcMarginTop",i,!0).build(s);const o=e.div("MatcButtonBar MatcMarginTopXXL").build(s),c=e.a("MatcButton MatcButtonRed",this.getNLS("btn.save")).build(o),d=e.a("MatcLinkButton",this.getNLS("btn.cancel")).build(o),u=new n.Z;u.popup(s,this.$refs.emailField),u.own((0,r.Z)(c,"click",(()=>{t(!0),u.close()}))),u.own((0,r.Z)(d,"click",(()=>{u.close()}))),u.on("close",(()=>{t(!1)}))}))},async save(){this.logger.log(0,"save","entry");const t={name:this.user.name,lastname:this.user.lastname,homepage:this.user.homepage,newsletter:this.user.newsletter};if(this.orginalEmail!==this.user.email){const e=await this.confirm();if(!e)return;t.email=this.user.email}if(this.password>0){if(this.password.length<6)return console.warn("Password too short"),void(this.error="The password must have at least 6 characters");t.password=this.password}const e=await u.Z.getUserService().save(this.user._id,t);e.errors?(this.logger.error("save","Email taken",this.user.email),this.showError("Email is taken..."),this.error="The email is already taken"):(this.$root.$emit("user",e),this.showSuccess("Account updated"))}},async mounted(){this.logger=new c.Z("Finish");let t=u.Z.getUserService().load();u.Z.getUserService().loadById(t.id).then((t=>{this.user=t,this.orginalEmail=this.user.email,this.logger.info("mounted","exit >> "+this.user.email)}))}},y=Z,S=(0,w.Z)(y,a,i,!1,null,null,null),b=S.exports},42909:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"VommondContentContainer"},[s("div",{staticClass:"MatcContent MatcAbout"},[s("div",{staticClass:"MatcSection"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h2",[t._v("Password Reset")]),1===t.page?s("div",[s("p",{staticClass:"MatcLead MatcMarginBottomXXL"},[t._v(' Forgot your password? To reset your password, enter your email and click on "Reset". ')]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("div",{staticClass:"MatcErrorLabel",domProps:{innerHTML:t._s(t.error)}}),s("div",{staticClass:"MatcButtonBar"},[s("a",{staticClass:"MatcButton MatcButtonPrimary",on:{click:t.reset}},[t._v("Reset")]),s("a",{attrs:{href:"#/"}},[t._v("Cancel")])])]):t._e(),t._v(" "),2===t.page?s("div",[s("p",{staticClass:"MatcLead MatcMarginBottomXXL"},[t._v(" We have send you an email with a reset-link. Please open the mail and visit the link. ")])]):t._e(),t._v(" "),3===t.page?s("div",[s("p",{staticClass:"MatcLead MatcMarginBottomXXL"},[t._v(" Please enter your email and your new password here ")]),s("div",{staticClass:"form-group"},[s("label",[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"form-control ",attrs:{type:"password",placeholder:"","data-binding-required":"true"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Password (Repetition)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"form-control",attrs:{type:"password",placeholder:""},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),t.error?s("div",[t._v(t._s(t.error))]):t._e()]),s("div",{staticClass:"MatcButtonBar"},[s("a",{staticClass:"MatcButton MatcButtonPrimary",on:{click:t.send}},[t._v("Send")]),s("a",{attrs:{href:"#/"}},[t._v("Cancel")])])]):t._e(),t._v(" "),4===t.page?s("div",[s("p",{staticClass:"MatcLead MatcMarginBottomXXL"},[t._v(" Your password was reset. You can login now! ")])]):t._e()])])])])])])},i=[],o=s(77259),r=s(60245),n=s(54524),l={name:"Login",mixins:[r.Z],data:function(){return{error:"",email:"",page:1,password1:"",password2:"",token:""}},watch:{},components:{},methods:{async reset(){this.log.log(0,"reset","entry");var t=await o.Z.getUserService().reset(this.email);"ok"==t.status&&(this.showSuccess("You got mail"),this.page=2)},async send(){if(this.log.log(0,"send","entry"),this.password1.length<6&&(this.error="The password must have at least 6 characters!"),this.password1!==this.password2)this.error="The password do not match!";else{var t=await o.Z.getUserService().reset2(this.email,this.password1,this.token);"ok"==t.status?(this.showSuccess("Great, your new password is set. You can loggin now"),this.page=4):this.error="Something went wrong. Request a new password!"}}},mounted(){this.log=new n.Z("ResetPassword"),this.$route.query.id&&(this.log.info("mounted","Go token"),this.token=this.$route.query.id,this.page=3),this.log.info("mounted","exit",this.$route)}},c=l,d=s(1001),u=(0,d.Z)(c,a,i,!1,null,null,null),h=u.exports},96200:function(t,e,s){s.d(e,{Z:function(){return p}});var a=s(28379),i=s(59344),o=s(16328),r=s(48039),n=s(78449),l=s(75790),c=s(77050),d=s(19721),u=s(54524),h=s(5356),m=null;class p extends h.Z{static getCurrentDialog(){return m}constructor(t){super(),this.autoClose=!0,this.wrapperClass="",this.overflow=!1,this.isFullScreen=!1,this.hasCSSAnimation=!0,t&&t.overflow&&(this.overflow=t.overflow),t&&t.hasCSSAnimation&&(this.hasCSSAnimation=t.hasCSSAnimation),this.log=new u.Z("Dialog")}destroy(){this.log.info("destroy","enter"),m=null,this.cleanUpEvented()}setFullScreen(t){this.hasFullScreen=!0,this.fullScreenListener=t}popup(t,e,s){this.log.log(1,"popup","enter"),m=this,d.Z.publish("vommond/dialog/open",{});var u=document.createElement("div");if(a.Z.add(u,"VommondDialogBackground VommondDialogHidden VommondDialogContentHidden"),this.hasFullScreen){let t=document.createElement("span");a.Z.add(t,"VommondDialogFullScreen mdi mdi-fullscreen"),u.appendChild(t),this.own((0,r.Z)(t,l.Z.press,i.Z.hitch(this,"toggleFullScreen",t)))}var h=document.createElement("div");a.Z.add(h,"VommondDialogContainer"),u.appendChild(h);var p=document.createElement("div");a.Z.add(p,"VommondDialogWrapper"),this.overflow&&a.Z.add(p,"VommondDialogWrapperOverflow"),s&&a.Z.add(p,s),a.Z.add(p,this.wrapperClass),h.appendChild(p);var v=document.createElement("div");a.Z.add(v,"VommondDialogContent"),(0,n.Z)("mobile")&&(a.Z.add(v,"VommondDialogContentMobile"),a.Z.add(p,"VommondDialogWrapperMobile")),p.appendChild(v),v.appendChild(t),o.Z.body().appendChild(u),this.own((0,r.Z)(u,"onmousewheel",i.Z.hitch(this,"stopScroll"))),this.own((0,r.Z)(u,"mousewheel",i.Z.hitch(this,"stopScroll"))),this.own((0,r.Z)(u,"DOMMouseScroll",i.Z.hitch(this,"stopScroll"))),this.own(d.Z.subscribe("matc/canvas/esc",i.Z.hitch(this,"close")));var g=this.getStartPos(e),f=c.Z.position(p),C=c.Z.position(u);if(this.autoClose&&this.own((0,r.Z)(u,l.Z.press,i.Z.hitch(this,"onBackClick"))),p.style.top=g.y+"px",p.style.height=g.h+"px",p.style.width=g.w+"px",p.style.left=g.x+"px",this.hasCSSAnimation){var w=g.w/f.w,_=g.h/f.h,M=" scale("+w+","+_+")";p.style.transform=M}setTimeout((()=>{a.Z.remove(u,"VommondDialogHidden")}),1),setTimeout((()=>{a.Z.remove(u,"VommondDialogContentHidden")}),350),setTimeout((()=>{this.hasCSSAnimation&&(p.style.transform="scale(1,1)"),p.style.top=Math.round((C.h-f.h)/2)+"px",p.style.height=f.h+"px",p.style.width=f.w+"px",p.style.left=Math.round((C.w-f.w)/2)+"px"}),100),this.hasCSSAnimation&&setTimeout((()=>{p.style.transform=""}),500),setTimeout((()=>this.emitOpen()),500),this._dialogBackground=u,this.node=t,this.wrapper=p}onOpen(t){this._onOpenCallback=t}emitOpen(){this._onOpenCallback&&this._onOpenCallback()}getStartPos(t){if(t)return c.Z.position(t);var e=c.Z.position(o.Z.body());return{w:0,h:0,x:e.w/2,y:e.h/2}}resize(t){let e=this.wrapper,s=this._dialogBackground;t.appendChild&&(t=c.Z.position(t,!0));var a=c.Z.position(s);e.style.top=Math.round((a.h-t.h)/2)+"px",e.style.height=t.h+"px",e.style.width=t.w+"px",e.style.left=Math.round((a.w-t.w)/2)+"px"}stopScroll(t){if(this._dialogBackground==t.target)return this.stopEvent(t),!1}onBackClick(t){var e=t.target;e==this._dialogBackground&&(this.stopEvent(t),a.Z.add(this._dialogBackground," VommondDialogHidden"),setTimeout(i.Z.hitch(this,"close"),300))}shake(){var t=c.Z.position(this.wrapper);a.Z.add(this.wrapper,"VommondDialogWrapperShake");var e=this.wrapper;setTimeout((function(){e.style.left=t.x+50+"px"}),1),setTimeout((function(){e.style.left=t.x-50+"px"}),51),setTimeout((function(){e.style.left=t.x+50+"px"}),101),setTimeout((function(){e.style.left=t.x-50+"px"}),151),setTimeout((function(){e.style.left=t.x+"px",a.Z.remove(e,"VommondDialogWrapperShake")}),201)}toggleFullScreen(t){this.isFullScreen=!this.isFullScreen,this.fullScreenListener&&this.fullScreenListener(this.isFullScreen),this.isFullScreen?(a.Z.remove(t,"mdi-fullscreen"),a.Z.add(t,"mdi-fullscreen-exit")):(a.Z.add(t,"mdi-fullscreen"),a.Z.remove(t,"mdi-fullscreen-exit"))}hide(){this.close()}close(){this.emit("close",{}),this._dialogBackground&&o.Z.body().removeChild(this._dialogBackground),this.destroy()}}}}]);
//# sourceMappingURL=about.74e12e06.js.map