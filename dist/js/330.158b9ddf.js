(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[330],{36214:function(t,e,i){"use strict";i.d(e,{Z:function(){return m}});var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"VommondSlider"},[i("div",{staticClass:"VommondSliderPos"},[i("div",{staticClass:"VommondSliderContainer",attrs:{"data-dojo-attach-point":"cntr"}},[i("div",{staticClass:"VommondSliderMarkContainer",attrs:{"data-dojo-attach-point":"markCntr"}}),i("div",{staticClass:"VommondSliderBar",attrs:{"data-dojo-attach-point":"bar"}}),i("div",{staticClass:"VommondSliderHandle",attrs:{"data-dojo-attach-point":"hndl"}})])])])}],r=(i(21703),i(60245)),n=i(28379),a=i(59344),l=i(16328),h=i(77050),d=i(17386),c={name:"Slider",mixins:[r.Z],data:function(){return{value:50,max:100,min:0,hasLabel:!1,center:!1,round:!0,wire:!0,showLabel:!1}},components:{},methods:{postCreate(){this.wire&&this.wireEvents()},wireEvents(){this.own(this.addTouchStart(this.domNode,a.Z.hitch(this,"onDomPress"))),this.own(this.addTouchStart(this.hndl,a.Z.hitch(this,"onHandlePress")))},startup(){this.init()},setShowLabel(t){this.showLabel=t},setMax(t){this.max=1*t},setCenter(t){this.center=t},setMin(t){this.min=1*t},setLegend(t){this.legend=1*t},setMarks(t){this.marks=t},placeAt(t){t&&t.toLowerCase&&(t=document.getElementById(t)),t.appendChild(this.$el),this.init()},init(t){t&&console.error("init called with pos???",(new Error).stack),this.min=1*this.min,this.max=1*this.max;var e=h.Z.position(this.domNode),i=h.Z.position(this.bar),s=h.Z.position(this.hndl);this.render(e,i,s),this.initBars(),this.initLegend(),this.setValue(this.value)},getWidth:function(){return this._width?this._width:h.Z.position(this.domNode).w},render(t,e,i){this.cntr.style.top=Math.round((t.h-e.h)/2)+"px",this.hndl.style.top=Math.round((e.h-i.h)/2)-1+"px",this.hndlWidth=i.w/2,this._width=t.w},initLegend(){if(this.legend>0)for(var t=h.Z.position(this.domNode),e=new d.Z,i=e.div("vommondLegendBar").build(this.domNode),s=this.max-this.min,o=0;o<=this.legend;o++){var r=o/this.legend,n=e.span("vommondLegendBarItem").build(i);n.style.left=Math.min(t.w*r,t.w-1)+"px",e.div("vommondLegendBarItemLabel",Math.round(this.min+r*s)).build(n)}},initBars(){if(this.marks){const t=h.Z.position(this.domNode).w;console.debug(t);const e=this.marks;for(let i=0;i<e.length;i++){const s=e[i],o=this.max-this.min,r=Math.min(Math.abs((s.start-this.min)/o),.95),a=document.createElement("div");if(n.Z.add(a,"VommondSliderMarker"),a.style.left=100*r+"%",a.w){const e=s.length/o;a.style.width=e*t+"px"}if(s.label){const t=document.createElement("div");n.Z.add(t,"VommondSliderMarkPopup"),t.innerHTML=s.label,a.appendChild(t)}this.markCntr.appendChild(a)}}},onDomPress:function(t){this.stopEvent(t),this.onClick(t),this.emit("click",this._value,t)},onHandlePress:function(t){this.stopEvent(t),this.cleanup(),this._touchMoveListner=this.addTouchMove(l.Z.body(),a.Z.hitch(this,"onHandleMove")),this._touchReleaseListner=this.addTouchRelease(l.Z.body(),a.Z.hitch(this,"onHandleRelease")),n.Z.add(this.domNode,"VommondSliderMoving"),this.emit("press",t),this.onClick(t)},onHandleMove:function(t){this.stopEvent(t),this.onClick(t)},onHandleRelease:function(t){this.stopEvent(t),this.cleanup(),this.emit("release",t,this._value)},cleanup:function(){this._touchMoveListner&&this._touchMoveListner.remove(),this._touchReleaseListner&&this._touchReleaseListner.remove(),delete this._touchReleaseListner,delete this._touchMoveListner,n.Z.remove(this.domNode,"VommondSliderMoving")},onClick:function(t){var e=this._getMousePosition(t),i=h.Z.position(this.domNode),s=e.x-i.x,o=s/i.w;o=Math.min(Math.max(0,o),1);var r=this.max-this.min,n=r*o+this.min;this.round&&(n=Math.round(n)),this.setValue(n),this.emit("change",n,t)},setValue:function(t){t=Math.min(this.max,Math.max(this.min,t));var e=this.max-this.min,i=Math.abs((t-this.min)/e),s=this.getWidth();this.hndl.style.left=i*s-this.hndlWidth+"px",this.center?t>=0?(this.bar.style.left=.5*s+"px",this.bar.style.width=(i-.5)*s+"px"):(this.bar.style.left=i*s+"px",this.bar.style.width=(.5-i)*s+"px"):this.bar.style.width=i*s+"px",this.showLabel&&(this.hndl.innerText=t),this._value=t},getValue:function(){return this._value}},mounted(){}},u=c,p=i(1001),g=(0,p.Z)(u,s,o,!1,null,null,null),m=g.exports},247:function(t,e,i){"use strict";i.d(e,{Z:function(){return f}});var s,o,r=i(60245),n=i(48039),a=i(75790),l=i(59344),h=i(16328),d=i(84301),c=0,u={name:"Gestures",mixins:[d.Z,r.Z],data:function(){return{GESTURE_PRESS_MAX_DURATION:400,GESTURE_MIN_DISTANCE:70,GESTURE_ANIM_START_DISTANCE:70,GESTURE_ANIM_END_DISTANCE:100,GESTURE_MAX_DURATION:1e3}},components:{},methods:{addGestureClickListener(t,e){var i=(0,n.Z)(t,a.Z.press,l.Z.hitch(this,"onGestureClickStart",t,e));return i},onGestureClickStart(t,e,i){var s=this._getGestureMousePosition(i),o=null,r=this;return o=(0,n.Z)(this.getGestureRootNode(t),a.Z.release,(function(t){r.onGestureClickEnd(s,e,o,i,t)})),!0},onGestureClickEnd(t,e,i,s,o){if(i?i.remove():console.error("onGestureClickEnd() > No relaseListener!"),!(t.t<c)){var r=this._getGestureMousePosition(o);return this.isClickGesture(t,r)&&e&&e(s),!1}},addGestureListener(t,e,i,s){let o=l.Z.hitch(this,"onGestureStart",t,e,i,s);var r=(0,n.Z)(t,a.Z.press,o);return r},onGestureStart(t,e,i,s,o){this.stopPropagation(o);var r=this._getGestureMousePosition(o),l=null,h=null,d=this;return i&&(h=this.addTouchMove(this.getGestureRootNode(t),(function(t){try{if(s){var e=d._getGestureMousePosition(t);s(r,e)}return t.preventDefault(),t.stopPropagation(),!1}catch(t){console.error(t)}}))),l=(0,n.Z)(this.getGestureRootNode(t),a.Z.release,(function(t){d.onGestureEnd(r,e,l,h,o,t)})),!1},onGestureEnd(t,e,i,s,o,r){if(i?i.remove():console.error("onGestoreEnd() > No relaseListener!"),s&&s.remove(),!(t.t<c)){if(e){var n=this._getGestureMousePosition(r),a={type:null,start:t,end:n},l=this.getGestureType(t,n);l&&(a.type=l),e(a,o,r)}return!1}},addMultiGestureListener(t,e,i){var s=(0,n.Z)(t,a.Z.press,l.Z.hitch(this,"onMultiGestureStart",t,e,i));return s},onMultiGestureStart(t,e,i,s){this.stopPropagation(s);var o=this._getGestureMousePosition(s),r=null,l=null;return this._hasGestures&&(l=this.addTouchMove(this.getGestureRootNode(t),(t=>(t.preventDefault(),t.stopPropagation(),!1)))),r=(0,n.Z)(this.getGestureRootNode(t),a.Z.release,(t=>{this.onMultiGestureEnd(o,e,i,r,l,s,t)})),!1},onMultiGestureEnd(t,e,i,s,o,r,n){if(s?s.remove():console.error("onGestoreEnd() > No relaseListener!"),o&&o.remove(),!(t.t<c)){var a=this._getGestureMousePosition(n);if(this.isClickGesture(t,a))e&&e(r);else if(i){var l=this.getGestureType(t,a),h={type:l,start:t,end:a};i(h,r,n)}return!1}},isClickGesture(t,e){return Math.abs(t.x-e.x)<10&&Math.abs(t.y-e.y)<10&&Math.abs(e.t-t.t)<this.GESTURE_PRESS_MAX_DURATION},getGestureType(t,e){if(Math.abs(t.x-e.x)<10&&Math.abs(t.y-e.y)<10)return Math.abs(e.t-t.t)<this.GESTURE_PRESS_MAX_DURATION?"click":"longclick";var i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);if(i>s){if(t.x-e.x>this.GESTURE_MIN_DISTANCE)return"swipeLeft";if(e.x-t.x>this.GESTURE_MIN_DISTANCE)return"swipeRight"}else{if(t.y-e.y>this.GESTURE_MIN_DISTANCE)return"swipeUp";if(e.y-t.y>this.GESTURE_MIN_DISTANCE)return"swipeDown"}return"none"},hasGestures(t){if(t)for(var e=0;e<t.length;e++)if("click"!=t[e].event)return!0;return!1},getGestureRootNode(){return h.Z.body()},_getGestureMousePosition(t){var e={};return e.t=(new Date).getTime(),t.touches&&t.touches.length>0?(t=t.touches[0],e.x=t.clientX,e.y=t.clientY):t.changedTouches&&t.changedTouches.length>0?(t=t.changedTouches[0],e.x=t.clientX,e.y=t.clientY):(e.x=t.pageX,e.y=t.pageY),e}},mounted(){}},p=u,g=i(1001),m=(0,g.Z)(p,s,o,!1,null,null,null),f=m.exports},77528:function(t,e,i){"use strict";i.d(e,{Z:function(){return m}});var s=i(60245),o=i(59344),r=i(28379),n=i(96722),a=i(821);const l={};var h,d,c={name:"Layout",mixins:[s.Z],data:function(){return{RING_BACKGROUND:"#ccc",RING_FOREGROUND:!1,PROGRESS_COLOR:!0}},components:{},methods:{attachFontsToDom(t){if(t){let e=document.head||document.getElementsByTagName("head")[0];t.forEach((t=>{if(t&&!l[t.url]){let i=this.getFontImportStatement(t),s=document.createElement("style");s.type="text/css",s.appendChild(document.createTextNode(i)),e.appendChild(s),l[t.url]=!0}}))}},getFontImportStatement(t){return"import"!==t.type&&-1===t.url.indexOf("https://fonts.googleapis.com/")?`\n          @font-face {\n            font-family: "${t.name}";\n            src: url("${t.url}") format("${t.type}")\n          }`:`@import url('${t.url}');`},getParentScreen(t){for(let e in this.model.screens){const i=this.model.screens[e],s=i.children.indexOf(t.id);if(s>-1)return i}return null},getWidgetPostionInScreen(t){var e=this.getParentScreen(t);return e?{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}:{x:t.x,y:t.y,w:t.w,h:t.h}},getGroupBoundingBox:function(t){for(var e={x:1e8,y:1e8,w:0,h:0},i=0;i<t.length;i++){var s=t[i],o=this.model.widgets[s];o?(e.x=Math.min(e.x,o.x),e.y=Math.min(e.y,o.y),e.w=Math.max(e.w,o.x+o.w),e.h=Math.max(e.h,o.y+o.h)):console.warn("getGroupBoundingBox() > No box with id",s)}return e.h-=e.y,e.w-=e.x,e},getScreenAnimation:function(t,e){if(t.animation&&t.animation[e])return t.animation[e]},getDataBinding:function(t){if(t&&t.props&&t.props.databinding)return t.props.databinding},getAllAppVariables(){const t=[];if(this.model)for(let e in this.model.widgets){const i=this.model.widgets[e];if(i.props&&i.props.databinding){const e=i.props.databinding;for(let i in e){const s=e[i];t.indexOf(s)<0&&t.push(s)}}if(i.props&&i.props.rest&&i.props.rest.output){let e=i.props.rest.output.databinding;t.indexOf(e)<0&&t.push(e)}if(i.props&&i.action&&"workflow"===i.action.type){const e=i.action.steps;e&&e.forEach((e=>{const i=e.databinding;t.indexOf(i)<0&&t.push(i)}))}}return t},getHintsAppVariables(){var t=[];if(this.model)for(var e in this.model.widgets){var i=this.model.widgets[e];if(i.props&&i.props.rest&&i.props.rest.output){let e=i.props.rest.output.hints;if(e)for(let i in e)t.push(i.replace(/_/g,"."))}}return t},getAnimationIndex:function(t){return t-t%30},createTimeSeries:function(t,e){return e||(e="time"),t.sort((function(t,i){return t[e]-i[e]})),{values:t,lastPos:0,prop:e,get:function(t){var e=null,i=this.prop;for(let s=this.lastPos;s<this.values.length;s++){let o=this.values[s];if(o[i]>t)break;e=o,this.lastPos=s}if(null==e)for(let s=0;s<this.values.length;s++){let o=this.values[s];if(o[i]>t)break;e=o,this.lastPos=s}return e},reset:function(){}}},getModelVersion:function(t,e){e||(e=this._modelVersion)},createZoomedModel:function(t,e,i){return this.logger.log(4,"createZoomedModel","enter > "+t+" > "+e+" > "+i),n.Z.createZoomedModel(t,e,i,this.model)},getZoomed(t,e){return Math.round(t*e)},getUnZoomed(t,e){return Math.round(t/e)},getZoomedBox(t,e,i){return n.Z.getZoomedBox(t,e,i)},getUnZoomedBox(t,e,i){return n.Z.getUnZoomedBox(t,e,i)},createInheritedModel(t){let e=n.Z.createInheritedModel(t);return e},mixin(t,e,i){if(t&&e)for(var s in e=o.Z.clone(e),i&&(e._mixed={}),t)void 0!==e[s]&&null!==e[s]||(e[s]=t[s],i&&(e._mixed[s]=!0));return e},mixinNotOverwriten:function(t,e){if(t&&e){var i={};for(var s in e._mixed&&(i=e._mixed),t)(void 0===e[s]||null===e[s]||i[s])&&(e[s]=t[s])}return e},getStartScreen:function(t){for(var e in t||(t=this.model),t.screens){var i=t.screens[e];if(i.props.start)return i}return null},getStyle(t){return a.Z.getStyle(t,this.model)},getInheritedStyle(t,e){if(t&&t.parentWidget){var i=this.model.widgets[t.parentWidget];if(i){var s=o.Z.mixin(o.Z.clone(i[e]),t[e]);return s}console.warn("Layout.getInheritedStyle() > No template found for widget",t.id," with widgetViewMode ",e)}return t.style},getLineFrom(t){var e=t.id;for(var i in t.inherited&&(e=t.inherited),this.model.lines){var s=this.model.lines[i];if(s.from==e)return s}return null},getFromLines(t){const e=[];for(let i in this.model.lines){const s=this.model.lines[i];s.from==t.id&&e.push(s)}return e.sort(((t,e)=>t.id.localeCompare(e.id))),e},getCommonParentGroup(t){const e=new Set;let i=null;for(let s=0;s<t.length;s++){const o=t[s],r=this.getParentGroup(o);if(!r)return;i=r,e.add(r.id)}if(1===e.size)return i},getGroupHierarchy(t){const e=[];let i=this.getParentGroup(t);if(i){e.push(i.id);while(i)i=this.getParentGroup(i.id),i&&e.unshift(i.id)}return e},getTopParentGroup(t){let e=this.getParentGroup(t);if(e){let i=0;while(e){let s=this.getParentGroup(e.id);if(!s){let t=o.Z.clone(e);return t.children=this.getAllGroupChildren(e),t._isVirtual=!0,t}if(e=s,i++,i>32)return void console.error("Layout.getTopParentGroup() > To deep recursion for widget : "+t,e)}}return null},getAllGroupChildren(t){return a.Z.getAllGroupChildren(t,this.model)},getParentGroup(t){if(this.model.groups)for(let e in this.model.groups){const i=this.model.groups[e],s=i.children.indexOf(t);if(s>-1)return i;if(i.groups){const e=i.groups.indexOf(t);if(e>-1)return i}}return null},renderWidget(t,e){var i=this.createBox(e,t);return r.Z.add(i,"MatcWidget"),this.renderFactory.createWidgetHTML(i,e),this.selectedWidgetID&&(this.selectedWidgetID!=e.id?r.Z.add(i,"MatcWidgetPreviewPassive"):r.Z.add(i,"MatcWidgetPreviewActive")),i},createBox(t,e){const i=document.createElement("div");return i.style.width=t.w+"px",i.style.height=t.h+"px",e&&(i.style.top=t.y-e.y+"px",i.style.left=t.x-e.x+"px"),i},createPreviewWrapper(t,e){const i=document.createElement("div");return r.Z.add(i,"MatcPreviewWrapper"),e.appendChild(i),i},getPreviewWrapperSize(t,e){if(t.h<e.screenSize.h){const i=this.getScaledSize(t,"height",e),s=i.w/e.screenSize.w,o={w:Math.ceil(e.screenSize.w*s),h:Math.ceil(e.screenSize.h*s)};return console.debug("getPreviewWrapperSize"),o}return t},getScale(t,e,i){var s={};if("width"==e)s.x=1*t.w/i.w,s.y=s.x;else if("height"==e)s.y=1*t.h/i.h,s.x=s.y;else{if("all"!=e)return i.w>i.h?this.getScale(t,"width",i):this.getScale(t,"height",i);s.x=1*t.w/i.w,s.y=1*t.h/i.h}return s},getBoxToScale(t){return t.screenSize?t.screenSize:t},getScaledSize(t,e,i){const s=this.getBoxToScale(i),o=this.getScale(t,e,s),r={w:Math.ceil(s.w*o.x),h:Math.ceil(s.h*o.y)};return r},hasLogic:function(t){return!!t&&"LogicOr"==t.type},hasRest:function(t){return!!t&&"Rest"==t.type},hasScript:function(t){return!!t&&"Script"==t.type},hasOnClick:function(t){return!(!t||!t.has.onclick)},isClickable:function(t){return!(!t||!t.has.onclick&&!t.has.editable)},getEventScreenId:function(t){return t.overlay?t.overlay:t.screen},getOrderedWidgets(t){return n.Z.getOrderedWidgets(t)},sortChildren(t){return n.Z.sortChildren(t,this.model)},sortWidgetList(t){return n.Z.sortWidgetList(t)},isFixedWidget(t){return!(!t.style||!t.style.fixed)},fixMissingZValue:function(t){null!==t.z&&void 0!==t.z||(t.z=0)},convertQDateToString:function(t){var e=this.convertQDateToDate(t);return e.toLocaleDateString()},convertQDateToIsoString(t){var e=this.convertQDateToDate(t);let i=e.getMonth()+1;return i<10&&(i="0"+i),`${e.getFullYear()}-${i}-${e.getDate()}`},isEqualDate:function(t,e){return!(!t||!e)&&(t.d==e.d&&t.m==e.m&&t.y==e.y)},isQDate:function(t){return t&&null!=t.d&&null!=t.m&&null!=t.y},isQDateRange:function(t){return t&&this.isQDate(t.from)&&this.isQDate(t.to)},createNow:function(){return this.convertDateToQdate(new Date)},createQDate:function(t,e,i){var s=new Date(t,e,i);return this.convertDateToQdate(s)},convertDateToQdate:function(t){return{d:t.getDate(),m:t.getMonth(),y:t.getFullYear()}},convertQDateToDate:function(t){return new Date(t.y,t.m,t.d)},convertMillisToQDate:function(t){var e=new Date(t);return this.convertDateToQdate(e)},convertQDateToMillis:function(t){return new Date(t.y,t.m,t.d).getTime()}},mounted(){}},u=c,p=i(1001),g=(0,p.Z)(u,h,d,!1,null,null,null),m=g.exports},30330:function(t,e,i){"use strict";i.d(e,{Z:function(){return se}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcSimulator"},[i("div",{staticClass:"MatcSimulatorLoading",attrs:{"data-dojo-attach-point":"splashNode"}},[i("div",{staticClass:"MatcSimulatorLoadingCntr"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.step,expression:"step == 0"}],staticClass:"MatcLogoNew MatcSimulatorLoadingLogoAnimation",attrs:{"data-dojo-attach-point":"splashLogo"}}),i("transition",{attrs:{name:"fade"}},[6===t.step?i("div",{staticClass:"MatcSimulatorContent"},[i("div",{staticClass:"MatcSimulatorContentCntr"},[i("h2",[t._v(t._s(t.getNLS("simulator.password.title"))+" ")]),i("p",{domProps:{innerHTML:t._s(t.getNLS("simulator.password.msg"))}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control MatcMarginTop",domProps:{value:t.password},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setPassword.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("div",{staticClass:"MatcMarginTop"},[i("div",{staticClass:"MatcButton MatcSimulatorStartBtn",on:{click:function(e){return t.setPassword()}}},[t._v(" "+t._s(t.getNLS("simulator.password.next"))+" ")]),i("span",{staticClass:"MatcError",staticStyle:{"margin-left":"20px"}},[t._v(" "+t._s(t.passwordError)+" ")])])])]):t._e(),2===t.step?i("div",{staticClass:"MatcSimulatorContent"},[i("div",{staticClass:"MatcSimulatorContentCntr"},[i("h2",[t._v(" "+t._s(t.getNLS("simulator.welcome.title"))+" !")]),t.settings.description?i("p",[t._v(" "+t._s(t.settings.description)+" ")]):i("p",{domProps:{innerHTML:t._s(t.getNlSWithReplacement("simulator.welcome.msg",{name:t.model.name}))}}),i("p",{domProps:{innerHTML:t._s(t.getNLS("simulator.welcome.privacy"))}})]),i("div",{staticClass:"MatcMarginTop"},[0===t.getUserTasks().length?i("div",{staticClass:"MatcButton MatcSimulatorStartBtn",on:{click:function(e){return t.onStart()}}},[t._v(" "+t._s(t.getNLS("simulator.welcome.start"))+" ")]):i("div",{staticClass:"MatcButton MatcSimulatorStartBtn",on:{click:function(e){t.step=3}}},[t._v(" "+t._s(t.getNLS("simulator.welcome.showTasks"))+" ")])])]):t._e(),3===t.step?i("div",{staticClass:"MatcSimulatorContent"},[i("div",{staticClass:"MatcSimulatorContentCntr"},[i("h2",[t._v(t._s(t.getNLS("simulator.tasks.title"))+" !")]),i("p",[t._v(" "+t._s(t.getNLS("simulator.tasks.msg"))+" ")]),t._l(t.getUserTasks(),(function(e){return i("div",{key:e.id},[i("h3",[t._v(t._s(e.name))]),i("div",{staticClass:"MatcTestTaskDescription"},[t._v(" "+t._s(e.description)+" ")])])}))],2),i("div",{staticClass:"MatcMarginTop"},[i("div",{staticClass:"MatcButton MatcSimulatorStartBtn",on:{click:function(e){return t.onStart()}}},[t._v(" "+t._s(t.getNLS("simulator.welcome.start"))+" ")])])]):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:4===t.step,expression:"step === 4"}],staticClass:"MatcSimulatorStartBtn",attrs:{"data-dojo-attach-point":"startNode"}},[t._v(" "+t._s(t.getNLS("simulator.welcome.start"))+" ")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:4===t.step,expression:"step === 4"}],staticClass:"MatcSimulatorPrivacy",attrs:{"data-dojo-attach-point":"privacyNode"},domProps:{innerHTML:t._s(t.getNLS("simulator.welcome.privacy"))}}),i("div",{staticClass:"MatcSimulatorVersion"},[t._v("v4.6.1")])])])},o=[],r=i(60245),n=i(28379),a=i(59344),l=i(48039),h=i(19721),d=i(77050),c=i(78449),u=i(54524),p=i(77528),g=i(88797),m=class extends g.Z{createScreenAnimation(t,e){return{startTime:0,duration:this.defaultAnimationDuration,easing:function(t){return t*(2-t)},css3Easing:"ease-out",finished:!1,divOld:t,divNew:e,setStart(t){this.startTime=t},setModel(t){this.model=t},setDuration(t){this.duration=t},setEasing(t){switch(this.css3Easing=null,t){case"linear":this.easing=function(t){return t},this.css3Easing="linear";break;case"easeInQuad":this.easing=function(t){return t*t},this.css3Easing="ease-in";break;case"easeOutQuad":this.easing=function(t){return t*(2-t)},this.css3Easing="ease-out";break;case"easeInOutQuad":this.easing=function(t){return t<.5?2*t*t:(4-2*t)*t-1},this.css3Easing="ease";break;case"easeElasticIn":{let t=2*Math.PI,e=1,i=.3,s=Math.asin(1/(e=Math.max(1,e)))*(i/=t);this.easing=function(t){return e*Math.pow(2,10*--t)*Math.sin((s-t)/i)};break}case"easeElasticOut":{let t=2*Math.PI,e=1,i=.3,s=Math.asin(1/(e=Math.max(1,e)))*(i/=t);this.easing=function(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+s)/i)};break}case"easeBounceIn":{let t=4/11,i=6/11,s=8/11,o=3/4,r=9/11,n=10/11,a=15/16,l=21/22,h=63/64,d=1/t/t;var e=function(e){return(e=+e)<t?d*e*e:e<s?d*(e-=i)*e+o:e<n?d*(e-=r)*e+a:d*(e-=l)*e+h};this.easing=function(t){return 1-e(1-t)};break}case"easeBounceOut":{let t=4/11,e=6/11,i=8/11,s=3/4,o=9/11,r=10/11,n=15/16,a=21/22,l=63/64,h=1/t/t;this.easing=function(d){return(d=+d)<t?h*d*d:d<i?h*(d-=e)*d+s:d<r?h*(d-=o)*d+n:h*(d-=a)*d+l};break}default:console.warn("setEasing() > Not implemented",t);break}},onFinish(t){this.finishCallback=t},onEnd(t){this.endCallback=t},setP(t){this.lastP=t,this.easing&&(t=this.easing(t)),this.renderCallback&&this.renderCallback(t)},cont(){var t=(new Date).getTime();this.startTime=t-Math.round(this.duration*this.lastP),this._runJS()},onRender(t){this.renderCallback=t},time(t){var e=Math.max(0,t-this.startTime),i=Math.min(1,e/this.duration);this.easing&&(i=this.easing(i)),this.renderCallback&&this.renderCallback(i),1!=i||this.finished||(this.endCallback&&this.endCallback(),this.finishCallback&&this.finishCallback(),this.finished=!0)},run(){this.css3Easing?this._runCSS():this._runJS()},_runCSS(){var t="all "+this.duration+"ms";this.divOld&&(this.divOld.style.transition=t,this.divOld.style.webkitTransition=t,this.divOld.style.transitionTimingFunction=this.css3Easing,this.divOld.style.webkitTransitionTimingFunction=this.css3Easing),this.divNew&&(this.divNew.style.transition=t,this.divNew.style.webkitTransition=t,this.divNew.style.transitionTimingFunction=this.css3Easing,this.divNew.style.webkitTransitionTimingFunction=this.css3Easing),this.renderCallback&&setTimeout(a.Z.hitch(this,"renderCallback",1),10),setTimeout(a.Z.hitch(this,"_finish"),this.duration+60)},_runJS(){if(this.duration>0){this.startTime||(this.startTime=(new Date).getTime());var t=(new Date).getTime(),e=t-this.startTime;if(e<this.duration&&!this.finished){var i=a.Z.hitch(this,"_runJS");requestAnimationFrame(i)}this.time(t)}else this.renderCallback&&this.renderCallback(1),this.endCallback&&this.endCallback(),this.finishCallback&&this.finishCallback(),this.finished=!0},_finish(){this.endCallback&&this.endCallback(),this.finishCallback&&this.finishCallback(),this.divOld&&(this.divOld.style.transition="none",this.divOld.style.webkitTransition="none"),this.divNew&&(this.divNew.style.transition="none",this.divNew.style.webkitTransition="none")},stop(){this.finished=!0}}}},f=i(9723),v=i(77259);class y{queryToObject(t){for(var e,i,s,o=decodeURIComponent,r=t.split("&"),n={},l=0,h=r.length;l<h;++l)if(s=r[l],s.length){var d=s.indexOf("=");d<0?(e=o(s),i=""):(e=o(s.slice(0,d)),i=o(s.slice(d+1))),"string"==typeof n[e]&&(n[e]=[n[e]]),a.Z.isArray(n[e])?n[e].push(i):n[e]=i}return n}}var b=new y,_=i(768),S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},w=[],x=i(16355),C={name:"RestMixin",methods:{async initLoadRest(){if(this.logger.log(2,"initLoadRest","enter"),this.doNotExecuteScripts)return void this.logger.log(2,"initLoadRest","exit > Do not run");const t=this.getLoadRests();for(let e=0;e<t.length;e++){const i=t[e];this.executeRest(i)}this.logger.log(2,"initLoadRest","exit",this.dataBindingValues)},getLoadRests(){return Object.values(this.model.widgets).filter((t=>"Rest"===t.type&&"load"===t.props.trigger))},async initRepeatRest(){if(this.logger.log(2,"initRepeatRest","enter"),this.doNotExecuteScripts)return void this.logger.log(2,"initRepeatRest","exit > Do not run");this._repeatRestIntervals=[];const t=this.getRepeatRests();for(let e=0;e<t.length;e++){const i=t[e],s=setInterval((()=>{this.executeRest(i)}),1e3*i.props.delay);this._repeatRestIntervals.push(s)}this.logger.log(2,"initRepeatRest","exit",this.dataBindingValues)},getRepeatRests(){return Object.values(this.model.widgets).filter((t=>"Rest"===t.type&&"repeat"===t.props.trigger))},cleanUpRepeatRests(){this.logger.log(-2,"cleanUpRepeatRests","enter"),this._repeatRestIntervals&&this._repeatRestIntervals.forEach((t=>{clearInterval(t)}))},async executeRest(t){this.logger.log(1,"executeRest","enter >  rest:"+t.id);const e=t.props.rest,i=x.Z.getNeededDataBings(e);let s={};i.forEach((t=>{const e=this.getDataBindingByPath(t);s[t]=e}));try{const t=await x.Z.run(e,s);return e.output.databinding&&(this.setDataBindingByKey(e.output.databinding,t),this.updateAllDataBindings(this.currentScreen.id,e.output.databinding,t),this.logger.log(-1,"executeRest","set data "+e.output.databinding,this.dataBindingValues)),!0}catch(o){e.output.databinding&&this.setDataBindingByKey(e.output.databinding,"ERROR"),this.logger.error("executeRest","error",o),this.emit("onRestError",o,e,s)}return!1}}},k=C,T=i(1001),M=(0,T.Z)(k,S,w,!1,null,null,null),N=M.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},W=[],E={name:"RestMixin",methods:{logAnimationEvent(t,e,i,s){const o=a.Z.clone(i.event);o.triggerType=s,o.to.pos&&(o.to.pos=this.getRelativePosition(o.to.pos)),o.from.pos&&(o.from.pos=this.getRelativePosition(o.from.pos)),this.log("Animation",t,e,null,{animation:o})},getRelativePosition(t){return{x:Math.min(1,Math.round(t.x/this.currentScreen.w*1e3)/1e3),y:Math.min(1,Math.round(t.y/this.currentScreen.h*1e3)/1e3),w:Math.min(1,Math.round(t.w/this.currentScreen.w*1e3)/1e3),h:Math.min(1,Math.round(t.h/this.currentScreen.h*1e3)/1e3)}},logLine(t,e){this.screenHistory.push({screenID:e,line:t})},logSessionStart(t){this.log("SessionStart",t,null,null,{device:{w:this.screenPos.w,h:this.screenPos.h,qr:this.qr}})},log(t,e,i,s,o){this.logger.log(2,"log","enter > type:"+t+" > sreen:"+e+" > widget:"+i),h.Z.publish("MatcSimulatorEvent",t,e,i);const r=this.createBaseEvent(t,e,i),n=this.getMouse(s,this.isFixedPosition(i));r.x=n.x,r.y=n.y,o&&((o.type||o.value)&&(r.state={type:o.type,value:o.value},o.children&&(r.state.children=o.children),o.options&&(r.state.options=o.options)),o.device&&(r.device=o.device),o.gesture&&(r.gesture=o.gesture),o.noheat&&(r.noheat=o.noheat),o.time&&(r.time=o.time),o.animation&&(r.animation=o.animation),o.overlay&&(r.overlay=o.overlay)),this.currentOverlay&&!r.overlay&&(r.overlay=this.currentOverlay.id),this.logData&&this.sendEvent(r),this.emit("event",r)},logShowOverlay(t){this.log("OverlayLoaded",this.currentScreen.id,null,null,{overlay:t.id})},logHideOverlay(t){this.log("OverlayRemoved",this.currentScreen.id,null,null,{overlay:t.id})},isFixedPosition(t){const e=this.model.widgets[t];return!(!e||!e.style.fixed)},isFixedOverlay(){return!(!this.currentOverlay||!this.currentOverlay.style.fixed)},createBaseEvent(t,e,i){const s=this.getUser(),o=this.getSession(),r={session:o,user:s,screen:e,widget:i,type:t,time:(new Date).getTime(),scrollTop:this.currentScrollTopRelative};return r},async sendEvent(t){if(this.eventCount++,this.eventCount>this.maxEventCount&&console.warn("sendMouse() Too many events"),this.qr||this.hash){const e=await v.Z.getModelService().saveEvent(this.model.id,this.hash,t);this.onSaved(e)}t=!1,this.sendMouse()},onSaved(){this.logger.log(2,"onSaved","enter")}}},D=E,Z=(0,T.Z)(D,B,W,!1,null,null,null),L=Z.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},O=[],A=i(54953),P=i(75790),V=i(78651),I={name:"RenderMixin",methods:{render(){if(this.logger.log(2,"render","enter >"+this._scaleX+" > "+this._scaleY),n.Z.remove(this.domNode,"MatcSimulatorSplash MactMainGradient"),this.startScreenID){let t=this.model.screens[this.startScreenID];this.domNode.innerHTML="",this.logSessionStart(t.id),this.renderScreen(t,0)}else{let t=this.getStartScreen();t?(this.domNode.innerHTML="",this.logSessionStart(t.id),this.renderScreen(t,0)):this.domNode.innerHTML="No Start Screen!"}},renderScreen(t,e){this.logger.log(-1,"renderScreen","enter > "+t.id+" / "+t.name),this.setSystemVariable("screen",t.name);try{this.log("ScreenLoaded",t.id,null,null);var i=this.currentScreenDiv;this.cleanUp(),this.setDomSize(t);var s=this.createScreen(t,!1);this.addScreen(t,s,e),this.setScreenBackground(t),this.qr&&(0,A.Z)(`#/simulate.html?qr=${this.qr}&h=${this.hash}&s=${t.id}&log=${this.logData}&live=${this.live}&ln=${this.getLanguage()}`),i&&this.removeScreen(i),this.checkEndScreen(t),this.afterScreenRendered(t)}catch(o){console.error(o),console.warn("Simualtor.render() >",o.message),console.warn(o.stack),this.logger.sendError(o)}return s},afterScreenRendered(){},renderScreenOverlay(t,e){this.logger.log(3,"renderScreenOverlay","enter > "+t.id),this.setSystemVariable("overlay",t.name);try{this.logShowOverlay(t),this.setDomSize(this.currentScreen,t);var i=this.createScreen(t,!0);n.Z.add(i,"MatcScreenOverlay"),this.addOverlay(t,i,e),this.qr,this.destroyUiWidgets()}catch(s){console.warn("Simualtor.renderScreenOverlay() >",s.message),console.debug(s.stack),this.logger.sendError(s)}return i},setDomSize(t,e){this.domNode&&(e?(this.domNode.style.height=Math.max(t.h,e.h)+"px",this.domNode.style.width=Math.max(t.w,e.w)+"px"):(this.domNode.style.height=t.h+"px",this.domNode.style.width=t.w+"px"),Math.abs(this.model.screenSize.h-t.h)>5?this.logScroll=!0:this.logScroll=!1),this.logger.log(0,"setDomSize","exit > log scroll: "+this.logScroll+" > h "+t.h+" x "+t.w)},createScreen(t,e){this.logger.log(2,"createScreen","enter > "+t.id+" > overlay : "+e),this.beforeScreenCreated(t,i);var i=document.createElement("div");i.style.width=t.w+"px",i.style.height=t.h+"px",i.style.left="0px",i.style.top="0px",i.dataScreenId=t.id,n.Z.add(i,"MatcScreen"),i.setAttribute("screenID",t.id),this.renderFactory.setStyle(i,t);var s=t.id;e&&(t.style.hasBackground?this.logger.log(-1,"createScreen","overlay with background!"):i.style.backgroundColor="transparent",s=this.currentScreen.id);for(var o=this.sortChildren(t.children),r=0;r<o.length;r++){var a=o[r];a.container||this.createWidget(a,t,s,i)}return this.initWidgets(t),this.afterScreenCreated(t,i),i},setScreenBackground(t){if(this.qr&&t&&t.style&&t.style.background){this.logger.log(-1,"setScreenBackground","enter",t.style.background);let o=V.Z.body();if(o){let r=t.style.background;if(r&&r.colors){for(var e="("+r.direction+"deg",i=0;i<r.colors.length;i++){var s=r.colors[i];e+=","+s.c+" "+s.p+"% "}o.style.background="linear-gradient"+e,o.style.background="-webkit-linear-gradient"+e}else o.style.backgroundColor=t.style.background}}},beforeScreenCreated(){this._transitionTimer&&(this.logger.log(0,"beforeScreenCreated","Cancel transition timer"),clearTimeout(this._transitionTimer)),this._androidBlurTimeout&&(this.logger.log(-2,"beforeScreenCreated","Cancel blur timer"),clearTimeout(this._androidBlurTimeout),delete this._androidBlurTimeout),delete this._transitionTimer},afterScreenCreated(t){if(this.runTimerLinesOnScreenLoad){const i=this.getFromLines(t);if(i&&i.length>0){const s=this.getLineForGesture(i,"timer");if(console.debug("lines",i),s){this.logger.log(0,"afterScreenCreated","Found timer");var e=Math.round(1e3*s.timer);!isNaN(e)&&e>=0?this._transitionTimer=setTimeout(a.Z.hitch(this,"executeLine",t.id,null,s),e):this.logger.error("afterScreenCreated","Delay has shitty format "+s.timer)}const o=this.getLineForGesture(i,"loaded");o&&(this.logger.log(-1,"afterScreenCreated","Loaded line"),this._transitionTimer=setTimeout((()=>{this.executeLine(t.id,null,o)}),1))}}else console.debug("afterScreenCreated() > do not run timers!")},initWidgets(t){for(var e=this.sortChildren(t.children),i=0;i<e.length;i++){var s=e[i],o=this.renderFactory.getUIWidget(s);o&&o.onScreenRendered()}},getLinesForWidget(t){t.inherited&&this.model.widgets[t.inherited]&&(t=this.model.widgets[t.inherited]);const e=t.id,i=this.getFromLines(t);if(i&&i.length>0)return i;const s=this.getParentGroup(e);if(s){const t=this.getFromLines(s);if(t&&t.length>0)return t}const o=this.getTopParentGroup(e);if(o){const t=this.getFromLines(o);if(t&&t.length>0)return t}},getActionsForWidget(t){if(t.inherited&&this.model.widgets[t.inherited]&&(t=this.model.widgets[t.inherited]),t.action)return t.action;const e=this.getParentGroup(t.id);return e&&e.action?e.action:void 0},createWidget(t,e,i,s){const o=this.renderWidget(e,t);s.appendChild(o),this.wireWidget(t,e,i,o);const r=this.renderFactory.getUIWidget(t);r&&this.initDataBinding(r,e),this.wireContainer(t)},wireContainer(t,e){if(t.isContainer){this.logger.log(2,"wireContainer","enter",t);let i=this.renderFactory.getUIWidget(t);if(i){const t=i.getChildren();if(t.forEach((t=>{this.wireWidget(t.widget,screen,e,t.div),this.model.widgets[t.widget.id]=t.widget})),i.getDataBindingChildren){const t=i.getDataBindingChildren(),s=this.model.screens[e];t&&s&&t.forEach((t=>{const e=this.renderFactory.getUIWidget(t.widget);e&&this.initDataBinding(e,s)}))}}else this.logger.warn("wireContainer","Could not find UI widgte for ",t)}},wireWidget(t,e,i,s){let o=this.getLinesForWidget(t);const r=this.getActionsForWidget(t),h=this.renderFactory.getUIWidget(t),d=this.hasGestures(o);if(r||o)n.Z.add(s,"MatcSimulatorClickable");else if(t.template){const e=this.getRootTemplateLines(t.template);e&&e.length>0&&(n.Z.add(s,"MatcSimulatorClickable"),o||(this.logger.log(1,"wireWidget","Add root template lines ",t.name),o=e))}if(this.wireScrollWidget(t),h){h.setGestures(d);let n=null;o&&(n=this.getLineForGesture(o,"click")),r?("back"===r.type?this.tempOwn(h.on("click",a.Z.hitch(this,"onTransitionBack",i,t.id,r))):this.tempOwn(h.on("click",a.Z.hitch(this,"executeAction",i,t.id,r,"click"))),this.tempOwn(h.on("stateChange",a.Z.hitch(this,"onWidgetEvent",i,t.id,h,n,r)))):n?(h.setClickable(!0),this.tempOwn(h.on("click",a.Z.hitch(this,"onTransition",i,t.id,n))),this.tempOwn(h.on("stateChange",a.Z.hitch(this,"onWidgetEvent",i,t.id,h,n)))):(this.tempOwn(h.on("click",a.Z.hitch(this,"onWidgetClick",i,t.id))),this.tempOwn(h.on("stateChange",a.Z.hitch(this,"onWidgetEvent",e.id,t.id,h,null)))),this.tempOwn(h.on("databinding",a.Z.hitch(this,"onUIWidgetDataBinding",e.id,t.id))),this.tempOwn(h.on("mousemove",a.Z.hitch(this,"onWidgetMouse"))),this.tempOwn(h.on("focus",a.Z.hitch(this,"onWidgetFocus",e.id,t.id,s))),this.tempOwn(h.on("blur",a.Z.hitch(this,"onWidgetBlur",e.id,t.id,s))),this.tempOwn(h.on("keyUp",a.Z.hitch(this,"onWidgetKeyUp",e.id,t.id))),this.tempOwn(h.on("gesture",a.Z.hitch(this,"onWidgetGesture",i,t.id,o))),this.tempOwn(h.on("animation",a.Z.hitch(this,"onAnimation",i,t.id))),this.tempOwn(h.on("validationError",a.Z.hitch(this,"onValiationError",i,t.id))),this.tempOwn(h.on("validationOK",a.Z.hitch(this,"onValiationOK",i,t.id))),this.tempOwn(h.on("mouseover",a.Z.hitch(this,"onWidgetMouseOver",i,t.id))),this.tempOwn(h.on("mouseout",a.Z.hitch(this,"onWidgetMouseOut",i,t.id))),this.tempOwn(h.on("navigation",a.Z.hitch(this,"onWidgetNavigation",i,t.id))),this.tempOwn(h.on("rerender",a.Z.hitch(this,"onWidgetRerended",i,t.id)))}else{if(r)"back"===r.type?this.tempOwn((0,l.Z)(s,P.Z.click,a.Z.hitch(this,"onTransitionBack",i,t.id,r))):this.tempOwn((0,l.Z)(s,P.Z.click,a.Z.hitch(this,"executeAction",i,t.id,r,"click")));else if(o){let e=this.getLineForGesture(o,"click");e&&this.tempOwn((0,l.Z)(s,P.Z.click,a.Z.hitch(this,"onTransition",i,t.id,e)))}else this.tempOwn((0,l.Z)(s,P.Z.click,a.Z.hitch(this,"onWidgetClick",i,t.id)));this.tempOwn((0,l.Z)(s,P.Z.over,a.Z.hitch(this,"onDomMouseOver",i,t.id))),this.tempOwn((0,l.Z)(s,P.Z.out,a.Z.hitch(this,"onDomMouseOut",i,t.id)))}},wireScrollWidget(t){this._scrollWidgets||(this._scrollWidgets=[]);var e=this.getFromLines(t);if(e&&e.length>0){let i=this.getLineForGesture(e,"scroll");i&&this._scrollWidgets.push({w:t,l:i})}},addScreen(t,e,i){var s=this.currentScreenDiv;this.sendMouse(),this.lastScreen=this.currentScreen,this.currentScreen=t,this.currentScreenDiv=e;var o=this;if(this.domNode){this.domNode.appendChild(e);var r=this.currentScrollTop;i&&i.scroll?this.scrollToSamePosition(r):this.scrollToTop(),this.runOnLoadedScreenAnimation(t.id,i,(function(){o.removeScreen(s)}))}},removeScreen(t){if(this.logger.log(4,"removeScreen","enter",t),t&&t.parentNode&&this.domNode)try{this.domNode.removeChild(t)}catch(e){console.warn("Simulator.removeScreen() > Cannot remove screen",e)}},checkEndScreen(t){!0===this.qr&&t&&t.name&&t.name.indexOf("(END)")>0&&(this.logger.log(-1,"checkEndScreen","END SCREEN > "+t.name),this.toggleFullScreen())},addOverlay(t,e,i){this.sendMouse(),this.currentOverlay=t,this.currentOverlayDiv=e,this.overlays.push({screen:t,div:e,line:i}),t.style.fixed?(this.fixedOverlayWrapper||(this.fixedOverlayWrapper=document.createElement("div"),this.fixedOverlayWrapper.style.height=this.screenPos.h+"px",this.fixedOverlayWrapper.style.width=this.screenPos.w+"px",this.fixedOverlayWrapper.style.position="fixed",this.fixedOverlayWrapper.style.overflow="hidden",this.fixedOverlayWrapper.style.top=this.screenPos.y+"px",this.fixedOverlayWrapper.style.left=this.screenPos.x+"px",this.domNode.appendChild(this.fixedOverlayWrapper)),this.fixedOverlayWrapper.appendChild(e)):this.currentScreenDiv?this.currentScreenDiv.appendChild(e):console.warn("addOverlay() > NO currentScreenDIV"),t.style.blur&&this.currentScreenDiv&&requestAnimationFrame(a.Z.hitch(this,"blurBackground",e)),this.runOnLoadedScreenAnimation(t.id,i)},popOverlay(){if(this.overlays&&this.overlays.length>0){this.sendMouse(),this.logger.log(1,"popOverlay","enter >");var t=this.overlays.pop();if(t.line&&t.line.animation){var e=t.line;t.screen.id!=e.to&&console.warn("popOverlay() wrong ids between overlay and line??");var i=this.animationFactory.getInverseAnimation(e.animation);if(i&&this.animationFactory["createScreen_"+i]){var s,o=this.animationFactory["createScreen_"+i](t.screen,t.div,null,!0);o.onEnd((()=>{this.removeOverlay(t.div,t.screen),this.logHideOverlay(t.screen),this.onOverlayPoped()})),e.duration&&o.setDuration(e.duration),e.easing&&(s=this.animationFactory.getInverseEasing(e.easing),o.setEasing(s)),this.unBlurBackground(),o.run(),this.log("OverlayRemoveAnimation",this.currentScreen.id,null,null,{animation:{type:i,to:e.to,duration:o.duration,easing:s,overlay:!0}})}else console.warn("popOverlay() > No animation function for : createScreen_"+i),this.removeOverlay(t.div,t.screen),this.logHideOverlay(t.screen),this.onOverlayPoped()}else this.removeOverlay(t.div,t.screen),this.logHideOverlay(t.screen),this.onOverlayPoped();return!0}return!1},removeOverlay(t,e){e&&this.renderFactory.destroyWidgetsById(e.children),t&&t.parentNode&&t.parentNode.removeChild(t),this.unBlurBackground()},unBlurBackground(){if(this.currentScreenDiv){const e=this.currentScreenDiv.childNodes;for(let i=0;i<e.length;i++){var t=e[i];t.style.filter="none",t.style.webkitFilter="none"}}},blurBackground(t){if(this.currentScreenDiv){const e=this.currentScreenDiv.childNodes,i=Math.max(2,20*this._scaleX);for(let s=0;s<e.length;s++){const o=e[s];o!=t&&(o.style.filter="blur("+i+"px)",o.style.webkitFilter="blur("+i+"px)")}}},onOverlayPoped(){if(this.overlays.length>0){const t=this.overlays[this.overlays.length-1];this.currentOverlay=t.screen,this.currentOverlayDiv=t.div}else delete this.currentOverlay,delete this.currentOverlayDiv,this.fixedOverlayWrapper&&(this.domNode&&this.domNode.removeChild(this.fixedOverlayWrapper),delete this.fixedOverlayWrapper)},destroyUiWidgets(){this.logger.log(3,"destroyUiWidgets","enter"),this.renderFactory.destroyWidgets()},addFixedPopup(t){t.parentNode&&t.parentNode.removeChild(t),t.style.position="fixed",t.style.height=this.screenPos.h+"px",t.style.width=this.screenPos.w+"px",this.currentScreenDiv.appendChild(t)},renderTransition(t,e,i){this.logger.log(-1,"renderTransition","enter > from "+e+" to "+t.to);let s=t.to;const o=this.model.screens[s];if(o)if(this.sendMouse(),t.animation){this.logger.log(2,"renderTransition","animate > "+t.animation);const s=this.currentScreenDiv;this.cleanUp(),this.setDomSize(o);const r=this.createScreen(o,!1);if(this.animationFactory["createScreen_"+t.animation]){const n=this.animationFactory["createScreen_"+t.animation](o,s,r);if(n.onEnd((()=>{this.logger.log(-1,"renderTransition","exit > from "+e+" to "+t.to),this.log("ScreenLoaded",o.id,null,null),this.removeScreen(s),this.destroyUiWidgets()})),t.duration&&n.setDuration(t.duration),t.easing&&n.setEasing(t.easing),i)return this.addScreen(o,r,t),n;n.run(),this.log("ScreenAnimation",e,null,null,{animation:{type:t.animation,to:t.to,duration:n.duration,easing:t.easing}})}else if("transform"===t.animation){const e=this.createScreenTransformAnimation(o,t);o._transAnim=e,this.removeScreen(s),this.log("ScreenLoaded",o.id,null,null)}else console.warn("renderTransition() > No animation function for : createScreen_"+t.animation);this.addScreen(o,r,t)}else this.logger.log(4,"renderTransition","default"),this.renderScreen(o,t);else console.error("No screen with ",s)},renderOverlay(t,e,i){this.logger.log(2,"renderOverlay","enter > from "+e+" to "+t.to);const s=t.to,o=this.model.screens[s];if(o)if(this.sendMouse(),t.animation){this.logger.log(2,"renderOverlay","animate > "+t.animation),this.setDomSize(this.currentScreen,o);const s=this.createScreen(o,!0);if(this.animationFactory["createScreen_"+t.animation]){var r=this.animationFactory["createScreen_"+t.animation](o,null,s,!0);if(r.onEnd(a.Z.hitch(this,"onOverLayLoaded",o)),t.duration&&r.setDuration(t.duration),t.easing&&r.setEasing(t.easing),i)return this.addOverlay(o,s,t),r;r.run(),this.log("OverlayShowAnimation",e,null,null,{animation:{type:t.animation,to:t.to,duration:r.duration,overlay:!0,easing:t.easing}})}else if("transform"===t.animation){var n=this.createScreenTransformAnimation(o,t);screen._transAnim=n}else console.warn("renderOverlay() > No animation function for : createScreen_"+t.animation);this.addOverlay(o,s,t)}else this.logger.log(0,"renderOverlay","default"),this.renderScreenOverlay(o,t);else console.error("No screen with ",s)},onOverLayLoaded(t){this.logger.log(2,"onOverLayLoaded","enter > "+t.id),this.logShowOverlay(t)},onWidgetInit(t){this.loadingScreen&&this.log("WidgetInit",this.loadingScreen.id,t.id,null,t.state)},renderWidget(t,e){var i=this.createBox(e,t);return i.setAttribute("widgetID",e.id),n.Z.add(i,"MatcWidget"),this.renderFactory.createWidgetHTML(i,e),i},createBox(t,e){const i=document.createElement("div");i.style.width=t.w+"px",i.style.height=t.h+"px";let s=this.getStyle(t);if(s||(s=t.style),s.fixed){const s=d.Z.position(this.getRootNode());if(i.style.position="fixed",e){const o=Math.max(0,s.y),r=Math.max(0,s.x);if(this.isPinnedDown(t)){if(this.qr){const s=this.getDistanceFromScreenBottom(t,e,this.model);i.style.bottom=s+"px"}else{const s=this.getDistanceFromScreenTop(t,e,this.model)+o;i.style.top=s+"px"}i.style.left=t.x-e.x+r+"px",this.logger.log(2,"createBOx","isPinnedDown > "+t.name)}else{const s=Math.max(0,t.y-e.y+o),n=Math.max(0,t.x-e.x+r);i.style.top=s+"px",i.style.left=n+"px"}}else console.warn("createBox() > no screenPos or parentBox for fixed box!")}else e?(i.style.top=t.y-e.y+"px",i.style.left=t.x-e.x+"px"):console.warn("createBox() > no parent passed!");return i},isPinnedDown(t){return t.props&&t.props.resize&&t.props.resize.down},getDistanceFromScreenBottom(t,e,i){if(t&&i.screenSize.h){const s=t.y-e.y;if(i.screenSize.h>=s+t.h){const e=i.screenSize.h-(s+t.h);return e}const o=e.y+e.h-(t.y+t.h);return Math.max(0,o)}return 0},getDistanceFromScreenTop(t,e,i){if(t&&i.screenSize){let s=this.getDistanceFromScreenBottom(t,e,i),o=i.screenSize.h-s-t.h;return Math.max(0,o)}return 0},cleanUpOverlays(){if(this.overlays)for(let t=0;t<this.overlays.length;t++){const t=this.overlays[this.overlays.length-1],e=t.div;this.removeOverlay(e,t.screen),this.logHideOverlay(t.screen)}this.overlays=[],this.onOverlayPoped()}}},z=I,F=(0,T.Z)(z,R,O,!1,null,null,null),$=F.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},H=[],G={name:"ScrollMixin",methods:{initScroll(){if(!this.scrollListenerInited){if("window"===this.scrollListenTarget)this.own((0,l.Z)(window,"scroll",a.Z.hitch(this,"onScrollWindow")));else if("simpleBar"===this.scrollListenTarget)setTimeout((()=>{const t=this.getSimpleBarScrollParent();t?(this.logger.log(-1,"initScroll","enter > simpleBar"),this.own((0,l.Z)(t,"scroll",a.Z.hitch(this,"onScrollParent")))):this.logger.warn("initScroll","enter > could not find simpleBbar")}),300);else{if(!this.domNode.parentNode)return void this.logger.warn("initScroll"," no parent");this.own((0,l.Z)(this.domNode.parentNode,"scroll",a.Z.hitch(this,"onScrollParent")))}this.own(h.Z.subscribe("VommondScrollContainer",a.Z.hitch(this,"onVommondScroll"))),this.scrollListenerInited=!0,this.logger.log(0,"initScroll","enter >"+this.scrollListenerInited+" @ "+this.scrollListenTarget)}},getSimpleBarScrollParent(){const t=this.domNode?.parentNode?.parentNode;return t},onVommondScroll(t,e){this.onScroll(e)},onScrollWindow(t){if(this._preventScroll)return this.stopEvent(t),window.scrollTo(0,0),!1;const e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;this.onScroll(e)},onScrollParent(t){const e=t.target,i=void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop;this.onScroll(i)},onScroll(t){const e=t/this.currentScreen.h,i=(new Date).getTime();if(this.logScroll){const s={time:i,value:e};i-this.lastScroll>30&&(this.currentScreen&&(this._scrollEvent||(this._scrollEvent={time:i,children:[],type:"scroll"}),this._scrollEvent.children.push(s)),this.lastScroll=i,this._scrollFlushTimeout=setTimeout(a.Z.hitch(this,"flushScroll",this.currentScreen.id),530)),this._lastScrollEvent=s,this.currentScrollTop=t,this.currentScrollTopRelative=e}this.gestureLastScroll=i,h.Z.publish("MatcSimulatorScrollEvent",e,t),this.fireScrollEvents(t)},fireScrollEvents(t){if(this._scrollWidgets&&this.currentScreen){let e=this.currentScreen.y+this.screenPos.h;for(let i=0;i<this._scrollWidgets.length;i++){let s=this._scrollWidgets[i].w,o=this._scrollWidgets[i].l;if(s.y-e-1<t)return this.preventNextScrolls(),void this.executeLine(this.currentScreen.id,s.id,o)}}},preventNextScrolls(){this._preventScroll=!0,setTimeout((()=>{this._preventScroll=!1}),1e3)},flushScroll(t){var e=(new Date).getTime();if(e-this.lastScroll>250&&this._scrollEvent){if(this._scrollEvent.children.push(this._lastScrollEvent),this._scrollEvent.value=this._lastScrollEvent.value,this._scrollEvent.children.length>0){var i=this._scrollEvent.children[0];i.value>this._lastScrollEvent.value?this._scrollEvent.dir="up":this._scrollEvent.dir="down"}this.log("ScreenScroll",t,null,null,this._scrollEvent),delete this._scrollEvent,delete this._lastScrollEvent,delete this._scrollFlushTimeout}},scrollToSamePosition(t){this.onScroll(t)},setScrollContainer(t){this.scrollContainer=t},scrollToTop(){if(this.logger.log(1,"scrollToTop","enter > "+this.mode,this.scrollListenTarget),"window"===this.scrollListenTarget&&window.scrollTo(0,0),"parent"===this.scrollListenTarget&&(this.domNode.parentNode.scrollTop=0),"simpleBar"===this.scrollListenTarget){const t=this.getSimpleBarScrollParent();t?t.scrollTop=0:this.logger.error("scrollToTop","No simple bar")}h.Z.publish("VommondScrollContainerScrollToTop"),this.lastScroll=(new Date).getTime(),this.currentScrollTop=0,this.currentScrollTopRelative=0}}},Y=G,X=(0,T.Z)(Y,U,H,!1,null,null,null),j=X.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},Q=[],K={name:"RestMixin",methods:{onAnimation(t,e,i){if(this.logger.log(2,"onAnimation","enter >  sreen:"+t+" > widget:"+e+" > taget : "+i.id),this._animations[i.id]&&this._animations[i.id].stop(),!this.isDestroyed){var s=this.renderFactory.createWidgetAnimation(i);s&&(s.run(),this.log("Animation",t,e,null,{animation:s.event}),s.onEnd(a.Z.hitch(this,"onAnimationEnded",i.id)),this._animations[i.id]=s)}},onAnimationEnded(t){delete this._animations[t]},createScreenTransformAnimation:function(t,e){var i={widgets:{},groups:{}},s=250;e.duration&&(s=e.duration);for(var o=this.currentScreen,r=this.sortChildren(t.children),n=0;n<r.length;n++){var a=r[n];if(!i.widgets[a.id]){var l={duration:s,delay:0,type:null,easing:e.easing};this.widgetIsCopyOfOtherScreen(a,t.id,o)&&(l.type="transformFromParent",i.widgets[a.id]=l)}}return i},widgetIsCopyOfOtherScreen(t,e,i){if(i)for(var s=i.children,o=0;o<s.length;o++){var r=this.model.widgets[s[o]];if(r.name===t.name)return t.animFrom=r.id,!0}return!1},runOnLoadedScreenAnimation(t,e,i){if(this.logger.log(1,"runOnLoadedScreenAnimation","enter >  sreen:"+t),this.doNotRunOnLoadAnimation||this.isDestroyed)this.logger.log(1,"runOnLoadedScreenAnimation","exit because do not run!");else{var s=this.model.screens[t];if(s){var o=this.getScreenAnimation(s,"ScreenLoaded");if(s._transAnim){if(o){var r=s._transAnim.widgets;for(var n in r)o.widgets[n]||(o.widgets[n]=r[n])}else o=s._transAnim;delete s._transAnim}o&&this.runScreenAnimation(t,o,"ScreenLoaded",i)}}},runScreenAnimation(t,e,i,s,o){if(this.logger.log(1,"runScreenAnimation","enter >  sreen:"+t),this.isDestroyed)console.warn("Simulator.runScreenAnimation() > Destroyed");else{var r=new m,n=[],l=a.Z.clone(e.widgets),h=e.groups;if(this.model.groups)for(var d in h){var c=h[d],u=this.model.groups[d];if(u&&u.children)for(var p=this.getAllGroupChildren(u),g=this.getGroupBoundingBox(u.children),f=0;f<p.length;f++){var v=p[f],y=this.model.widgets[v];if(l[v])console.warn("runScreenAnimation > Group cannot overwrite widget animation for "+v);else{var b=a.Z.clone(c);b.offSet={left:y.x-g.x,top:y.y-g.y,right:y.x+y.w-(g.x+g.w),bottom:y.y+y.h-(g.y+g.h)},l[v]=b}}else console.warn("runScreenAnimation() > No Group with id",d)}for(let t in l){var _=l[t];if(r["createAnimationEvent_"+_.type]){let e=r["createAnimationEvent_"+_.type](t,_,this.model,this.lastScreen);if(e){var S=this.renderFactory.getAnimationWrapper(t);if(S){let t=r.createWidgetAnimation(S,e);t&&n.push(t)}else console.warn("runScreenAnimation > Not widget for "+t)}}else console.warn("runScreenAnimation > Not supported type "+_.type)}var w=n.length,x=0,C=this,k=function(){x++,w==x&&(C.cleanUpAnimations(),s&&s())};for(let e=0;e<n.length;e++){let s=n[e],r=s.event.id;s.onEnd(k),o&&s.onStep(o),s.run(),this.logAnimationEvent(t,r,s,i)}0==w&&s&&s(),this._widgetAnimations=n}},cleanUpAnimations(){if(this._widgetAnimations)for(var t=0;t<this._widgetAnimations.length;t++);delete this._widgetAnimations},cleanUpGestureScreenAnim(){this._screenGestureMoveListener&&(this._screenGestureMoveListener.remove(),delete this._screenGestureMoveListener),this._screenGestureMoveListener2&&(this._screenGestureMoveListener2.remove(),delete this._screenGestureMoveListener2),this._gesturePressListener&&(this._gesturePressListener.remove(),delete this._gesturePressListener),delete this._screenGestureType,delete this._screenGestureLine,delete this._screenGestureStartScreenID,delete this._screenGestureAnim}}},J=K,tt=(0,T.Z)(J,q,Q,!1,null,null,null),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},st=[],ot={name:"MouseMixin",methods:{onWidgetMouse(t,e){if(this.logMouse){var i=this.getMouse(t),s=(new Date).getTime();s-this.lastMouse>this.mouseSampleRate&&(this.initMouseEvent(this.mouseSampleRate),this._mouseMoveEvent.x.push(i.x),this._mouseMoveEvent.y.push(i.y),this._mouseMoveEvent.c.push(e),this._mouseMoveEvent.t.push(s),this.flushMouse(),this.lastMouse=s)}},onMouseWheel(t){this.onMouseMove(t)},onMouseMove(t){if(this.logMouse){var e=this.getMouse(t),i=(new Date).getTime();i-this.lastMouse>this.mouseSampleRate&&(this.initMouseEvent(this.mouseSampleRate),this._mouseMoveEvent.x.push(e.x),this._mouseMoveEvent.y.push(e.y),this._mouseMoveEvent.c.push(0),this._mouseMoveEvent.t.push(i),this.flushMouse(),this.lastMouse=i)}},initMouseEvent(t){if(!this._mouseMoveEvent){var e=this.getUser(),i=this.getSession();this._mouseMoveEvent={x:[],y:[],c:[],t:[],user:e,session:i,screen:this.currentScreen.id,sample:t},this.currentOverlay&&(this._mouseMoveEvent.screen=this.currentOverlay.id)}},flushMouse(){this._mouseMoveEvent&&this._mouseMoveEvent.x.length>=20&&this.sendMouse()},async sendMouse(){if(this.logger.log(3,"sendMouse","enter"),this._mouseMoveEvent)if(this.eventCount++,this.eventCount>this.maxEventCount&&console.warn("sendMouse() Too many events"),this.logData&&this.hash&&this._mouseMoveEvent){let t=await v.Z.getModelService().saveMouse(this.model.id,this.hash,this._mouseMoveEvent);this.onMouseSaved(t)}else this.logger.log(2,"sendMouse","enter");delete this._mouseMoveEvent},onMouseSaved(){},getMouse(t,e){if(t&&this.currentScreen){var i=d.Z.position(this.domNode),s=this._getMousePosition(t);if(!e){var o=document.documentElement,r=(window.pageYOffset||o.scrollTop)-(o.clientTop||0);i.y+=r}return s.x-=i.x,s.y-=i.y,s.x=Math.min(1,Math.round(s.x/this.currentScreen.w*1e3)/1e3),s.y=Math.min(1,Math.round(s.y/this.currentScreen.h*1e3)/1e3),s}return{x:-1,y:-1}}}},rt=ot,nt=(0,T.Z)(rt,it,st,!1,null,null,null),at=nt.exports,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},ht=[],dt=i(7325),ct={name:"DataBindingMixin",methods:{setSystemVariable(t,e){this.logger.log(1,"setSystemVariable","enter "+t,e),this.setDataBindingByKey("_qux."+t,e)},async initDefaultDataBinding(t){this.logger.log(3,"initDefaultDataBinding","enter ");const e={};Object.values(t.widgets).forEach((t=>{const i=this.getDataBinding(t);if(i&&i.default){const t=i.default,s=this.getDataBindingByPath(i.default);void 0===s&&(e[t]?e[t]=e[t]+1:e[t]=1)}})),this.logger.log(1,"initDefaultDataBinding","counts ",this.bindingsCount),Object.values(t.widgets).forEach((t=>{const i=this.getDataBinding(t);if(i&&i.default&&t.props){const s=i.default;if(1===e[s]){const e=t.props;!0===e.checked||!1===e.checked?(this.logger.log(5,"initDefaultDataBinding","set (checked):"+t.name,e.checked),this.setDataBindingByKey(s,e.checked)):e.selected?(this.logger.log(5,"initDefaultDataBinding","set (selected): "+t.name,e.selected),this.setDataBindingByKey(s,e.selected)):e.value?(this.logger.log(1,"initDefaultDataBinding","set (value): "+t.name,e.value),this.setDataBindingByKey(s,e.value)):!0===e.active||!1===e.active?(this.logger.log(1,"initDefaultDataBinding","set (active): "+t.name,e.active),this.setDataBindingByKey(s,e.active)):e.label&&!e.placeholder&&(this.logger.log(1,"initDefaultDataBinding","set (label): "+t.name,e.active),this.setDataBindingByKey(s,e.label))}else this.logger.log(1,"initDefaultDataBinding","do not init ",s)}})),this.logger.log(1,"initDefaultDataBinding","exit ",this.dataBindingValues),await this.executeDataScripts()},initDataFromURL(t){this.logger.log(1,"initDataFromURL","enter ",t);for(let e in t)if(0===e.indexOf("data_")){const i=e.substring(5),s=t[e];this.setDataBindingByKey(i,s),this.logger.log(-1,"initDataFromURL","set ",i+"="+s)}this.logger.log(2,"initDataFromURL","exit ",this.dataBindingValues)},setDataBindingByKey(t,e){this.dataBindingValues&&(dt.Z.set(this.dataBindingValues,t,e),this.emit("onDataBindingChange",this.dataBindingValues))},getDataBindingByPath(t){if(this.logger.log(3,"getDataBindingByPath","enter ",t),this.dataBindingValues)return dt.Z.get(this.dataBindingValues,t)},getDefaultDatabinding(t){for(let e in this.model.widgets){const i=this.model.widgets[e];if(i&&i.props){const s=i.props.databinding;for(let i in s){const o=s[i];if(o===t){const i=this.renderFactory.getUIWidgetByID(e);if(i){this.logger.log(-1,"getDataBindingByPath"," return default "+t);const e=i.getValue();if(e)return e}}}}}},onUIWidgetDataBinding(t,e,i,s,o=!0){let r=dt.Z.get(this.dataBindingValues,i);r!==s?(this.dataBindingValues=dt.Z.set(this.dataBindingValues,i,s),this.emit("onDataBindingChange",this.dataBindingValues),this.updateAllDataBindings(t,i,s,o)):this.logger.log(1,"onUIWidgetDataBinding","exit > No change")},updateAllDataBindings(t,e,i,s=!0){const o=this.renderFactory.getAllUIWidgets();for(let r in o){const s=o[r],n=s.setDataBinding(e,i,this);if(n){const e=s.getState();this.log("WidgetInit",t,r,null,e)}}s?this.executeDataScripts():this.logger.log(-1,"updateAllDataBindings","exit > Do not run scripts")},initDataBinding(t,e){var i=this.getDataBinding(t.model);if(i)for(var s in i){var o=i[s],r=this.getDataBindingByPath(o);if(null!==r&&void 0!==r){var n=t.setDataBinding(o,r,this);if(n){var a=t.getState();a&&this.log("WidgetInit",e.id,t.model.id,null,a)}}}},flushOutputDataBinding(t,e,i=!1){let s=this.model.widgets[e];if(s&&s.container){let o=this.model.widgets[s.container];if(o){let r=this.renderFactory.getUIWidgetByID(s.container),n=this.getDataBinding(o);if(r&&n&&n.output){let o=r.getOutputDataBindingValue(s.dataBingingIndex);null!=o&&void 0!==o&&this.onUIWidgetDataBinding(t,e,n.output,o,i)}}}},replaceDataBinding(t){if(this.logger.log(4,"replaceDataBinding","enter  > ",t),this.dataBindingValues=t,!this.currentScreen)return void this.logger.log(-4,"replaceDataBinding","exit  > No screen");const e=this.currentScreen.id,i=this.renderFactory.getAllUIWidgets();for(let s in i){const t=i[s];if(!this.isRepaterChild(t)){const i=this.getDataBinding(t.model);if(i)for(let o in i){const r=i[o],n=dt.Z.get(this.dataBindingValues,r);if(null!==n&&void 0!==n){this.logger.log(4,"replaceDataBinding","set  > "+r+": ",n);const i=t.setDataBinding(r,n,this);if(i){const i=t.getState();this.log("WidgetInit",e,s,null,i)}}}}}this.emit("onDataBindingChange",this.dataBindingValues)},isRepaterChild(t){return!0===t?.model?.isRepeaterChild}}},ut=ct,pt=(0,T.Z)(ut,lt,ht,!1,null,null,null),gt=pt.exports,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},ft=[],vt=i(821),yt=i(43918);const bt=/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/;function _t(t,e){yt.Z.log(-1,"WorkFlowEngine.executeAction() ",t,e);let i=[];return t&&t.steps&&t.steps.forEach((t=>{let s=xt(t,e);s&&(Tt(s.value)&&St(s.path,s.value,i),Array.isArray(s.value)&&wt(s.path,s.value,i),i.push(s))})),i}function St(t,e,i){for(let s in e){let o=t+"."+s,r=e[s];Tt(r)?St(o,r,i):Array.isArray(r)?wt(o,r,i):i.push({path:o,value:r})}}function wt(t,e,i){for(let s=0;s<e.length;s++){let o=t+"["+s+"]",r=e[s];Tt(r)?St(o,r,i):Array.isArray(r)?wt(o,r,i):i.push({path:o,value:r})}}function xt(t,e){if(yt.Z.log(-1,"WorkFlowEngine.executeStep() ",t.operation,t.databinding),"set"===t.operation)return{path:t.databinding,value:Ct(t.parameter,e)};if("plus"===t.operation){let i=1*Ct(t.parameter,e),s=1*Ct(t.parameter2,e);return{path:t.databinding,value:i+s}}if("minus"===t.operation){let i=1*Ct(t.parameter,e),s=1*Ct(t.parameter2,e);return{path:t.databinding,value:i-s}}if("multiply"===t.operation){let i=1*Ct(t.parameter,e),s=1*Ct(t.parameter2,e);return{path:t.databinding,value:i*s}}if("devide"===t.operation){let i=1*Ct(t.parameter,e),s=1*Ct(t.parameter2,e);return{path:t.databinding,value:i/s}}if("increment"===t.operation){let i=1*Ct(t.parameter,e),s=1*dt.Z.get(e,t.databinding,0);return{path:t.databinding,value:s+i}}if("decrement"===t.operation){let i=1*Ct(t.parameter,e),s=1*dt.Z.get(e,t.databinding,0);return{path:t.databinding,value:s-i}}if("toggle"===t.operation){let i=dt.Z.get(e,t.databinding),s=Ct(t.parameter,e),o=Ct(t.parameter2,e);return i!=s?{path:t.databinding,value:s}:{path:t.databinding,value:o}}yt.Z.log(-1,"WorkFlowEngine.executeStep() > error : Not supported operation",t.operation)}function Ct(t,e){if(t&&0===t.indexOf("${")&&t.indexOf("}")===t.length-1){let i=t.substring(2,t.length-1);t=dt.Z.get(e,i)}if("true"===t)return!0;if("false"===t)return!1;if(bt.test(t))return 1*t;if(t&&kt(t))try{const e=JSON.parse(t);return e}catch(i){yt.Z.error("WorkFlowEngine.getParameter() > error. Could not parse JSON ",t)}return t}function kt(t){return 0===t.indexOf("{")&&t.indexOf("}")===t.length-1||0===t.indexOf("[")&&t.indexOf("]")===t.length-1}function Tt(t){return"object"===typeof t&&!Array.isArray(t)&&null!==t}var Mt={name:"EventMixin",methods:{executeAction(t,e,i,s,o){this.logger.log(-2,"executeAction","enter >  sreen:"+t+" > widget: "+e+" > eventType:"+s,o),this.stopEvent(o),this.log("WidgetClick",t,e,o);const r=_t(i,this.dataBindingValues);r.forEach((i=>{this.logger.log(-2,"executeAction","change",i),this.onUIWidgetDataBinding(t,e,i.path,i.value)}))},onDomMouseOver(t,e,i){this.logger.log(2,"onDomMouseOver","enter >  sreen:"+t+" > widget:"+e);var s=this.model.widgets[e];if(s){var o=vt.Z.getTemplatedStyle(s,this.model,"hover");if(o){var r={id:e,to:{style:o},from:{},duration:this.hoverAnimationDuration,delay:0};this.onAnimation(t,e,r)}var n=this.getLinesForWidget(s);if(n){var a=this.getLineForGesture(n,"hover");if(a)return this.logger.log(1,"onDomMouseOver","enter > run line"),void this.executeLine(t,e,a)}this.fireTemplateLineIfNeeded(t,e,"mouseover"),this.showTooltip(e)}else console.warn("EventMixin could not find",e);this.onMouseMove(i)},onDomMouseOut(t,e,i){this.logger.log(2,"onDomMouseOut","enter >  sreen:"+t+" > widget:"+e);var s=this.model.widgets[e];if(s){var o=vt.Z.getTemplatedStyle(s,this.model,"hover");if(o){var r=vt.Z.getTemplatedStyle(s,this.model,"style"),n={};for(var a in o)n[a]=r[a];var l={id:e,to:{style:n},from:{},delay:0,duration:this.hoverAnimationDuration};this.onAnimation(t,e,l)}this.fireTemplateLineIfNeeded(t,e,"mouseout"),this.hideTooltip(t,e)}this.onMouseMove(i)},onWidgetKeyUp(t,e,i){try{var s=this.model.widgets[e];if(s){var o=this.getLinesForWidget(s);if(o){var r=this.getLineForGesture(o,"KeyboardUp");if(r){var n=this.getMatchingLine(t,e,r,i);n&&n.to!=t?(this.logger.log(-1,"onWidgetKeyUp","run transition to "+n.to),this.executeLine(t,e,n)):this.logger.log(-1,"onWidgetKeyUp","No match for "+i)}}}}catch(a){this.logger.error("onWidgetKeyUp","error",a),this.logger.sendError(a)}},onWidgetMouseOver(t,e,i){this.onMouseMove(i);const s=this.model.widgets[e];if(s){var o=this.getLinesForWidget(s);if(o){var r=this.getLineForGesture(o,"hover");if(r)return this.logger.log(1,"onWidgetMouseOver","enter > run line"),void this.executeLine(t,e,r);this.fireTemplateLineIfNeeded(t,e,"mouseover")}}this.showTooltip(e)},onWidgetMouseOut(t,e,i){this.onMouseMove(i),this.hideTooltip(t,e)},onWidgetGesture(t,e,i,s,o,r){if(this.logger.log(2,"onWidgetGesture","enter >  sreen:"+t+" > widget:"+e+" > "+s.type),s&&i){const n=this.getLineForGesture(i,s.type);if(n){if("click"==s.type)this.log("WidgetClick",t,e,o);else{if(s.start){let t=this.getMouse(o);s.start.x=t.x,s.start.y=t.y}if(s.end){let t=this.getMouse(r);s.end.x=t.x,s.end.y=t.y}this.log("WidgetGesture",t,e,null,{gesture:s})}return void(this._screenGestureAnim?this.finishScreenGestureAnimation(s):this.executeLine(t,e,n))}}"click"==s.type&&this.log("WidgetClick",t,e,o),s&&this.onScreenGesture(s,o,r)},onWidgetClick(t,e,i){this.logger.log(1,"onWidgetClick","enter >  sreen:"+t+" > widget:"+e),this.stopPropagation(i),this.log("WidgetClick",t,e,i),this.onScreenClickFromWidget(t,e,i)},onWidgetEvent(t,e,i,s,o){this.logger.log(1,"onWidgetEvent","enter >  sreen:"+t+" > widget:"+e),o.e?(this.stopEvent(o.e),this.log("WidgetClick",t,e,o.e,o)):this.log("WidgetChange",t,e,null,o),o.runTransition&&s&&(this.logger.log(2,"onWidgetEvent","run transition to "+s.to),this.executeLine(t,e,s))},onWidgetRerended(t,e){this.logger.log(-1,"onWidgetRerended","enter >  sreen:"+t+" > widget:"+e);const i=this.model.widgets[e];i&&this.wireContainer(i,t)},onWidgetNavigation(t,e,i){this.logger.log(-1,"onWidgetNavigation","enter >  targetScreen:"+i);const s={from:e,to:i};this.executeLine(t,e,s)},onResize(){console.debug("onResize")},onWidgetFocus(t,e){if((0,c.Z)("android")){this._androidBlurTimeout&&(clearTimeout(this._androidBlurTimeout),delete this._androidBlurTimeout);var i=this.model.widgets[e],s=this.model.screens[t];if(i&&s){var o=i.y-s.y,r=o-s.h/3;r>0&&(this.domNode.style.height=Math.round(1.4*s.h)+"px",setTimeout((function(){window.scrollTo(0,r)}),50))}}},onWidgetBlur(t){(0,c.Z)("android")&&(this._androidBlurTimeout=setTimeout(a.Z.hitch(this,"_fixAndroidTextBlur",t),100))},_fixAndroidTextBlur(t){var e=this.model.screens[t];e&&(this.domNode.style.height=e.h+"px"),delete this._androidBlurTimeout},isScreenEvent(t){return t&&n.Z.contains(t.target,"MatcScreen")},onScreenPress(t){if(this.logger.log(2,"onScreenPress","enter > ",this.mode),"debug"===this.mode&&this.stopPropagation(t),this.cleanUpGestureScreenAnim(),this.currentScreen){var e=this.getFromLines(this.currentScreen);e&&e.length>0&&(this._screenGestureMoveListener=this.addTouchMove(this.domNode,a.Z.hitch(this,"onScreenGestureMove")),this._gesturePressListener=(0,l.Z)(this.domNode,"touchend",a.Z.hitch(this,"onScreenRelease"))),this._screenPressEvent=t,this._screenGestureStart=this._getGestureMousePosition(t),this._screenGestureStartScreenID=this.currentScreen.id}return!0},onScreenGestureMove(t){if(this.logger.log(1,"onScreenGestureMove","enter"),!this._screenGestureStart)return console.warn("onScreenGestureMove() > Exit no start event"),void this.cleanUpGestureScreenAnim();var e=this._getGestureMousePosition(t);if(this._screenGestureType||(this._screenGestureLine=this.getScreenAnimationLine(e)),this._screenGestureLine){var i=this.getScreenGestureProgress(e);this.executeGestureAnimation(i,this._screenGestureLine)}},onScreenRelease(t){if(this.logger.log(0,"onScreenRelease","enter "+(null!=this._screenPressEvent)),this.currentScreen&&this._screenPressEvent){let r=this.getWidgetIDFromEvent(this._screenPressEvent),n=this.getWidgetIDFromEvent(t);var e=this._getGestureMousePosition(t),i=this.getGestureType(this._screenGestureStart,e);if("click"==i){if(r&&r==n)return this.logger.log(1,"onScreenRelease","Cancel because widget click"),delete this._screenPressEvent,void delete this._screenGestureStart;this.log("ScreenClick",this.currentScreen.id,null,t),this.popOverlay()}var s={type:i,start:this._screenGestureStart,end:e};if(r&&r==n){let e=this.model.widgets[r];if(e){var o=this.getLinesForWidget(e);if(o)return this.logger.log(1,"onScreenRelease","Cancel because widget gesture "+i),this.onWidgetGesture(this.currentScreen.id,e.id,o,s,this._screenPressEvent,t),delete this._screenPressEvent,void delete this._screenGestureStart}}this._screenGestureAnim?(this.fixGestureCoords(s,this._screenPressEvent,t),this.finishScreenGestureAnimation(s)):(this.onScreenGesture(s,this._screenPressEvent,t),this.cleanUpGestureScreenAnim())}delete this._screenPressEvent,delete this._screenGestureStart},getWidgetIDFromEvent(t){let e=t.target,i=null;while(null==i&&e){if(i=e.getAttribute("widgetID"),i)return i;let t=e.getAttribute("screenID");if(t)return;e=e.parentNode}},onWidgetGestureAnim(t,e,i,s){if(this._screenGestureStart||(this._screenGestureStart=i,this._screenGestureStartScreenID=t),this._screenGestureType||(this._screenGestureLine=this.getWidgetAnimationLine(e,s)),this._screenGestureLine){var o=this.getScreenGestureProgress(s);this.executeGestureAnimation(o,this._screenGestureLine)}},getWidgetAnimationLine(t,e){var i=this.getGestureType(this._screenGestureStart,e);if("none"!=i&&"click"!=i&&"longclick"!=i){this._screenGestureType=i;var s=this.model.widgets[t];if(s){var o=this.getFromLines(s);if(o){var r=this.getLineForGesture(o,i);if(r&&r.animation)return r}}else console.warn("getWidgetAnimationLine() > no widget with id ",t)}},getScreenAnimationLine(t){var e=this.getGestureType(this._screenGestureStart,t);if("none"!=e&&"click"!=e&&"longclick"!=e){this._screenGestureType=e;var i=this.getFromLines(this.currentScreen);if(i){var s=this.getLineForGesture(i,e);if(s&&s.animation)return s}}},getScreenGestureProgress(t){if("swipeLeft"==this._screenGestureType){let e=this._screenGestureStart.x-t.x;return e/this.screenPos.w}if("swipeRight"==this._screenGestureType){let e=t.x-this._screenGestureStart.x;return e/this.screenPos.w}if("swipeDown"==this._screenGestureType){let e=t.y-this._screenGestureStart.y;return e/this.screenPos.h}if("swipeUp"==this._screenGestureType){let e=this._screenGestureStart.y-t.y;return e/this.screenPos.h}return 0},executeGestureAnimation(t,e,i){if(t=Math.max(0,t),!this._screenGestureAnim){var s=this.model.screens[e.to];s&&(this.loadingScreen=s,s.style.overlay?this._screenGestureAnim=this.renderOverlay(e,i,!0):this._screenGestureAnim=this.renderTransition(e,i,!0))}this._screenGestureAnim&&this._screenGestureAnim.setP(t)},fixGestureCoords(t,e,i){if(t.start){let i=this.getMouse(e);t.start.x=i.x,t.start.y=i.y}if(t.end){let e=this.getMouse(i);t.end.x=e.x,t.end.y=e.y}},finishScreenGestureAnimation(t){this.logLine(this._screenGestureLine,this._screenGestureStartScreenID),this.log("ScreenGesture",this.currentScreen.id,null,null,{gesture:t});var e=this._screenGestureLine;if(e){var i=this.model.screens[e.to];if(i){var s=t.end.t-t.start.t;i.style.overlay?this.log("OverlayShowAnimation",this.currentScreen.id,null,null,{animation:{type:e.animation,to:e.to,duration:s,overlay:!0,easing:e.easing}}):this.log("ScreenAnimation",this.currentScreen.id,null,null,{animation:{type:e.animation,to:e.to,duration:s,easing:e.easing}})}}this._screenGestureAnim.cont(),this.cleanUpGestureScreenAnim()},onScreenGesture(t,e,i){if(this.fixGestureCoords(t,e,i),this.currentScreen){const e=this.getFromLines(this.currentScreen);if(t&&e){const i=this.getLineForGesture(e,t.type);i?("click"!=t.type&&this.log("ScreenGesture",this.currentScreen.id,null,null,{gesture:t}),this.executeLine(this.currentScreen.id,"",i)):this.logger.log(2,"onScreenGesture > no line ",t,e)}}},onScreenClickFromWidget(t,e){if(this.logger.log(1,"onScreenClickFromWidget","enter > "+t+" > widget:"+e),this.currentScreen){const s=this.getFromLines(this.currentScreen);if(s){var i=this.getLineForGesture(s,"click");if(i)return void this.executeLine(this.currentScreen.id,"",i)}this.fireTemplateLineIfNeeded(t,e,"click")}else console.debug("No current")},onValiationError(t,e,i){this.log("ValidationError",t,e,null,{type:"value",value:i.value})},onValiationOK(t,e){this.log("ValidationOk",t,e,null)}}},Nt=Mt,Bt=(0,T.Z)(Nt,mt,ft,!1,null,null,null),Wt=Bt.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},Dt=[],Zt={name:"TemplateMixin",methods:{fireTemplateLineIfNeeded(t,e,i){const s=this.model.widgets[e];if(s.template){let o=this.getRootTemplateLines(s.template);o&&this.executeTemplateLine(t,e,o,i)}},executeTemplateLine(t,e,i,s){this.logger.log(2,"executeTemplateLine","enter > "+e,s);const o=this.getLineForGesture(i,s);!o||"click"!==s||o.isTemplateTransition||this.executeLine(this.currentScreen.id,"",o)},initRootTemplateLines(t){this.logger.log(2,"initRootTemplateLines","enter > "),this._rootTemplateLines={},Object.values(t.widgets).filter((t=>t.isRootTemplate)).forEach((t=>{const e=this.getLinesForWidget(t);this._rootTemplateLines[t.template]=e}))},getRootTemplateLines(t){return this._rootTemplateLines[t]}}},Lt=Zt,Rt=(0,T.Z)(Lt,Et,Dt,!1,null,null,null),Ot=Rt.exports,At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},Pt=[],Vt=i(18368);function It(t,e,i){yt.Z.log(4,"ScriptToModel.applyChange()",e,i);let s=zt(t,e);if(s){let t="style"===e.key?s.style:s.props,o="style"===e.key?e.style:e.props;for(let e in o)t[e]=o[e];i.updateWidget(s)}else yt.Z.error("ScriptToModel.applyChanges() > Cannot find element",e)}function zt(t,e){return"Widget"===e.type?t.widgets[e.id]:"Screen"===e.type?t.screens[e.id]:void 0}var Ft={name:"ScriptMixin",methods:{async initLoadScripts(){if(this.logger.log(2,"initLoadScripts","enter >"),this.doNotExecuteScripts)return void this.logger.log(2,"initLoadScripts","exit > Do not run");const t=this.getLoadScripts();for(let e=0;e<t.length;e++){const i=t[e];i.props.script&&(this.logger.log(-1,"initLoadScripts","run >",i.name),await this.runScript(i.props.script,i))}this.logger.log(2,"initLoadScripts","exit",this.dataBindingValues)},getLoadScripts(){return Object.values(this.model.widgets).filter((t=>"Script"===t.type&&"load"===t.props.trigger))},async initRepeatScripts(){if(this.logger.log(2,"initRepeatScripts","enter >"),this.doNotExecuteScripts)return void this.logger.log(2,"initRepeatScripts","exit > Do not run");const t=this.getRepeatScripts();this._repeatScriptIntervals=[];for(let e=0;e<t.length;e++){const i=t[e];if(i.props.script&&i.props.delay){let t=setInterval((()=>{this.logger.log(-1,"initRepeatScripts","run > ",i.name),this.runScript(i.props.script,i)}),1e3*i.props.delay);this._repeatScriptIntervals.push(t)}}this.logger.log(2,"initRepeatScripts","exit",this.dataBindingValues)},cleanUpRepeatScripts(){this.logger.log(-2,"cleanUpRepeatScripts","enter"),this._repeatScriptIntervals&&this._repeatScriptIntervals.forEach((t=>{clearInterval(t)}))},getRepeatScripts(){return Object.values(this.model.widgets).filter((t=>"Script"===t.type&&"repeat"===t.props.trigger))},async executeDataScripts(){if(this.logger.log(2,"executeDataScripts","enter >"),this.doNotExecuteScripts)return void this.logger.log(2,"executeDataScripts","exit > Do not run");const t=this.getDataBindingScripts();for(let e=0;e<t.length;e++){const i=t[e];i.props.script&&await this.runScript(i.props.script,i)}this.logger.log(2,"executeDataScripts","exit")},getDataBindingScripts(){return this._scriptsDataBinding||(this._scriptsDataBinding=Object.values(this.model.widgets).filter((t=>"Script"===t.type&&"databinding"===t.props.trigger))),this._scriptsDataBinding},async executeScript(t,e){this.logger.log(-2,"executeScript","enter >"+t);const i=this.model.widgets[t];if(i&&i.props.script){const t=await this.runScript(i.props.script,i,e);return t}this.logger.error("executeScript","exit > could not find "+t)},async runScript(t,e,i){this.logger.log(2,"runScript","enter",e?.name);const s=this.getScriptSourceEvent(i);return new Promise((async o=>{const r=new Vt.Z;let n=await r.run(t,this.model,this.dataBindingValues,s).then();"ok"===n.status?requestAnimationFrame((()=>{this.vibrate(n),this.renderAppChanges(n),this.renderScriptDataBinding(n),this.renderScriptTo(n,e,i),this.logger.log(1,"runScript","exit"),o(n)})):o(n)}))},vibrate(t){if(t.vibratePattern){this.logger.log(-1,"vibrate","enter",t.vibratePattern);try{navigator.vibrate(t.vibratePattern)}catch(e){this.logger.error("vibrate","Err",e)}}},getScriptSourceEvent(t){const e={type:"None",widget:"",screen:""};if(t){e.type=t.event;const i=this.model.widgets[t.from];i?e.widget=i.name:this.logger.log(-1,"getScriptSourceEvent","No widet with id ",t.from),this.currentScreen?e.screen=this.currentScreen.name:this.logger.log(-1,"getScriptSourceEvent","No current screen ")}return this.logger.log(2,"getScriptSourceEvent","exit ",e),e},renderAppChanges(t){this.logger.log(2,"renderAppChanges","enter >",t.appDeltas),t.appDeltas&&t.appDeltas.forEach((t=>{It(this.model,t,this.renderFactory)}))},renderScriptDataBinding(t){this.logger.log(2,"renderScriptDataBinding","enter >",t.viewModel),t.viewModel&&this.replaceDataBinding(t.viewModel)},renderScriptTo(t,e,i){if(this.logger.log(2,"renderScriptResult","enter >",i),this.currentScreen||!t.to){if(t.to){const e=Object.values(this.model.screens).find((e=>e.name===t.to));if(e){const t=this.createTempLine(e.id,i);e.style.overlay?this.renderOverlay(t,this.currentScreen.id):this.renderTransition(t,this.currentScreen.id)}else this.logger.log(1,"runScript","No screen with name  >"+t.to),t.console.push({type:"error",args:`Simulator: No screen with name '${t.to}'`})}else if(e){const t=this.getLinesForWidget(e);if(t&&1===t.length){const e=this.createTempLine(t[0].to,i);this.renderTransition(e,this.currentScreen.id)}}}else this.logger.error("renderScriptResult","no currentscreen")},createTempLine(t,e){const i={to:t};return e&&(i.animation=e.animation,i.duration=e.duration,i.easing=e.easing,i.from=e.from),i}}},$t=Ft,Ut=(0,T.Z)($t,At,Pt,!1,null,null,null),Ht=Ut.exports,Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},Yt=[],Xt={name:"TooltipMixin",methods:{showTooltip(t){this.cleanupToolTip();const e=this.currentOverlay?this.currentOverlay.id:this?.currentScreen?.id,i=this.currentOverlayDiv?this.currentOverlayDiv:this.currentScreenDiv;if(!e||!i)return;const s=this.model.widgets[t],o=this.model.screens[e];if(o&&s&&s.props&&s.props.tooltipText){const t=document.createElement("div");n.Z.add(t,"MatcWidgetTooltip"),t.innerText=s.props.tooltipText,t.style.top=s.y-o.y+(s.h+4)+"px",t.style.left=s.x-o.x+"px",s.style.tooltipBackground&&(t.style.background=s.style.tooltipBackground),s.style.tooltipColor&&(t.style.color=s.style.tooltipColor);let e=12;s.style.tooltipFontSize&&"Auto"!==s.style.tooltipFontSize&&(e=Math.round(s.style.tooltipFontSize*this._scaleX)),t.style.fontSize=Math.round(e*this._scaleX)+"px",s?.style?.fontFamily&&(t.style.fontFamily=s.style.fontFamily),i.appendChild(t),this._tooltipDiv=t}},hideTooltip(){this.cleanupToolTip()},cleanupToolTip(){if(this._tooltipDiv){const t=this._tooltipDiv.parentNode;t&&t.removeChild(this._tooltipDiv)}delete this._tooltipDiv}}},jt=Xt,qt=(0,T.Z)(jt,Gt,Yt,!1,null,null,null),Qt=qt.exports,Kt=i(49799),Jt=i(247),te={name:"Simulator",props:["mode","app"],mixins:[p.Z,Jt.Z,N,L,$,Wt,Ht,Qt,j,et,at,gt,Ot,r.Z],data:function(){return{debug:!1,logData:!0,qr:!1,hash:null,remoteDebug:!1,skipSplash:!1,lastScroll:0,lastMouse:0,isGesture:!1,scrollListenTarget:"window",mouseSampleRate:50,currentScrollTop:0,hoverAnimationDuration:150,runTimerLinesOnScreenLoad:!0,embedded:!1,live:!1,eventCount:0,settings:null,step:0,maxEventCount:1e3,model:{},password:"",passwordError:"",doNotExecuteScripts:!1}},components:{},methods:{async postCreate(){this.logger=new u.Z("Simulator"),this.logger.debugLevel=1,this.screenHistory=[],this.dataBindingValues={},this.renderFactory=new f.Z,this.renderFactory.setMode("simulator"),this.own(this.renderFactory.on("uiWidgetInit",a.Z.hitch(this,"onWidgetInit"))),this._animations={},this.animationFactory=new m;const t=location.hash,e=t.substring(t.indexOf("?")+1,t.length),i=b.queryToObject(e);if(this.initDataFromURL(i),this.initNLS(),i.u&&i.u.length>0&&(this._user=i.u,this.logger.log(0,"postCreate","set user bu url",this._user)),"true"==i.s&&(this.logger.log(-1,"postCreate","skip splash"),this.skipSplash=!0),"standalone"==this.mode){if(this.baseURI=t,"true"==i.live&&(this.live=!0),"true"==i.qr&&(this.qr=!0,this.showSplashScreen(),this.own((0,l.Z)(window,"popstate",a.Z.hitch(this,"onPopState")))),i.log&&void 0!=i.log&&("false"==i.log?this.logData=!1:this.logData=i.log),this.embedded&&(this.logData=!1,this.qr=!0),i.h){let t=i.h;t.length<60?this.showPassword(t):(this.setInvitation(i.h),v.Z.getModelService().findAppByHash(i.h).then((t=>this.loadSettings(t))))}}else this.hash&&(this.renderFactory.hash=this.hash);this.own(this.addTouchStart(this.domNode,a.Z.hitch(this,"onScreenPress"))),this.own(this.addTouchRelease(this.domNode,a.Z.hitch(this,"onScreenRelease"))),this.own(h.Z.subscribe("MatcSimulatorRenderFixedPopup",a.Z.hitch(this,"addFixedPopup"))),this.logger.log(0,"postCreate","exit > mode : "+this.mode+" > logData : "+this.logData+" > qr : "+this.qr+" > embedded:"+this.embedded)},setHash(t){this.logger.log(2,"setHash","enter"),this.setInvitation(t)},setDebug(t){this.debug=t},showPassword(t){this.logger.log(-1,"showPassword","enter"),this.step=6,this.tempHash=t},showPasswordError(){this.passwordError="The password is wrong"},async setPassword(){this.logger.log(-1,"setPassword","enter",this.password);let t=this.tempHash+this.password;try{let e=await v.Z.getModelService().findAppByHash(t);e?(this.setInvitation(t),this.loadSettings(e)):this.showPasswordError()}catch(e){this.showPasswordError()}},setInvitation(t){this.logger.log(1,"setInvitation","enter > "+t),this.hash=t,this.renderFactory&&this.renderFactory.setHash(t)},setStartScreen(t){t&&(this.startScreenID=t.id)},initLiveUpdate(){this.live&&setTimeout(a.Z.hitch(this,"checkLiveUpdate"),1e3)},async checkLiveUpdate(){const t=await v.Z.getModelService().checkAppUpdateByHash(this.hash);this.setLiveUpdate(t)},async setLiveUpdate(t){if(t&&t.lastUpdate&&this.model&&this.model.lastUpdate<t.lastUpdate){const t=await v.Z.getModelService().findAppByHash(this.hash);this.doLiveUpdate(t)}else setTimeout(a.Z.hitch(this,"checkLiveUpdate"),5e3)},doLiveUpdate(t){this.logger.log(0,"doLiveUpdate","enter");try{this.model=t,this.model=this.createZoomedModel(this._scaleX,this._scaleY),this.model=_.Z.addContainerChildrenToModel(this.model),this.model=vt.Z.inlineTemplateStyles(this.model),this.initRootTemplateLines(this.model),this.currentScreen&&this.currentScreen.id&&this.setScreenId(this.currentScreen.id),setTimeout(a.Z.hitch(this,"checkLiveUpdate"),5e3)}catch(e){console.error(e)}},getScreenDiv(){return this.currentScreenDiv},showSplashScreen(){this.logger.log(-2,"showSplashScreen","enter >"),n.Z.add(this.domNode,"MatcSimulatorSplash MactMainGradient"),this._splashTime=(new Date).getTime()},async loadSettings(t){if(this.hash&&this.qr){const e=await v.Z.getModelService().findTestByHash(t,this.hash);this.settings=e,this.applyTestSettings(e),this.logger.log(-1,"loadSettings","enter >",this.settings)}this.setModel(t)},applyTestSettings(t){if(!0===t.recordOneTestPerUser){const e="quxSession"+t.appID,i=localStorage.getItem(e);"true"===i&&(this.logData=!1,this.logger.log(-1,"applyTestSettings","DO NOT LOG DATA >> "+e)),localStorage.setItem(e,"true")}},setModel(t){if(this.logger.log(1,"setModel","enter > step:"+this.step,this._splashTime),null==t)this.logger.error("setModel","exit > No model"),location.href=location.protocol+"//"+location.host+"/404.html";else if(this.logger.log(1,"setModel","enter >"+t.id+" > splash : "+this._splashTime),this.model=t,this.initRootTemplateLines(t),this.hash&&this.preloadImages(),this._splashTime>0&&!0!==this.skipSplash){this.logger.log(-1,"setModel","show splash");var e=Math.max(3e3-((new Date).getTime()-this._splashTime),0);setTimeout((()=>{this.afterSplash()}),e),this.fullSreenListener=(0,l.Z)(this.startNode,"click",a.Z.hitch(this,"onStartClick",t))}else this.startSimilator(t)},afterSplash(){this.logger.log(-1,"afterSplash","enter > step:"+this.step,this.settings),this.step=4,this.settings&&(this.step=2)},preloadImages(){this.logger.log(2,"preloadImages","enter"),Kt.Z.load(this.model,this.hash,this.domNode),this.logger.log(3,"preloadImages","exit")},onPopState(){const t=location.hash;if(t&&t.length>1){const t=location.hash,e=t.substring(t.indexOf("?")+1,t.length),i=b.queryToObject(e),s=i.s;this.currentScreen&&this.currentScreen.id!=s&&(this.logger.log(0,"onPopState","back detected! >> "+s),this.setScreenId(s))}},onStart(t){this.onStartClick(this.model,t)},onStartClick(t,e){this.logger.log(-1,"onStartClick","enter"),this.stopEvent(e),this.fullSreenListener&&this.fullSreenListener.remove(),this.toggleFullScreen(),this.qr?(this.logger.log(2,"onStartClick","delay start"),setTimeout((()=>{this.startSimilator(t)}),200)):this.startSimilator(t)},async startSimilator(t){this.logger.log(2,"startSimilator","enter >"+t.id),this.initScale(),this.initLiveUpdate(),this.initScroll(),await this.initLoadScripts(),await this.initRepeatScripts(),await this.initDefaultDataBinding(t),await this.initLoadRest(),await this.initRepeatRest(),this.model=this.createZoomedModel(this._scaleX,this._scaleY),this.model=_.Z.addContainerChildrenToModel(this.model),this.model=vt.Z.inlineTemplateStyles(this.model),this.model=vt.Z.updateInheritedRefs(this.model),this.initParent(),this.updateScale(),this.renderFactory.setModel(this.model),this.renderFactory.setScaleFactor(this._scaleX,this._scaleY),this.render(),(0,c.Z)("android")||(0,c.Z)("ios")?this.logMouse=!1:(this.logger.log(0,"postCreate","Desktop detected -> log mouse!"),this.own((0,l.Z)(this.domNode,"mousemove",a.Z.hitch(this,"onMouseMove"))),this.own((0,l.Z)(this.domNode,"onmousewheel",a.Z.hitch(this,"onMouseWheel"))),this.own((0,l.Z)(this.domNode,"mousewheel",a.Z.hitch(this,"onMouseWheel"))),this.own((0,l.Z)(this.domNode,"DOMMouseScroll",a.Z.hitch(this,"onMouseWheel"))),this.logMouse=!0),this.model.fonts&&this.attachFontsToDom(this.model.fonts),this.own((0,l.Z)(window,"resize",a.Z.hitch(this,"onResize")))},initParent(){if(!this.qr&&this.domNode.parentNode&&(this.logger.log(-1,"initParent","enter > "+this.model.screenSize.h),this.domNode.parentNode.style.height=this.model.screenSize.h+"px",this._resizeListener))try{this._resizeListener(this.model.screenSize)}catch(t){this.logger.log(-1,"initParent","Could not call _resizeListener > ")}},setResizeListener(t){this._resizeListener=t},setScreenPosition(t){this._externScreenPos=t},getRootNode(){if(this.isDesktopTest){if("simpleBar"===this.scrollListenTarget){let t=this.domNode.parentNode;while(t){if(t&&t.classList?.contains("MatchSimulatorContainer"))return this.logger.log(1,"getRootNode","SimpleBar >>",t),t;t=t.parentNode}return this.logger.error("getRootNode"," no simplebar root >> "),this.domNode.parentNode}return this.logger.log(1,"getRootNode"," parentNode >> ",this.domNode.parentNode),this.domNode.parentNode}return this.logger.log(1,"getRootNode"," modeNode >> ",this.domNode),this.domNode},initScale(){this._externScreenPos?(this.screenPos=this._externScreenPos,console.warn("Simulator.initSclae() > Use external screenPOS",this.screenPos)):this.isDesktopTest?this.screenPos=d.Z.position(this.domNode.parentNode):this.screenPos=d.Z.position(this.domNode),this._scaleX=this.screenPos.w/this.model.screenSize.w,this._scaleY=this._scaleX,this.logger.log(-1,"initScale","exit > h:"+this.screenPos.h+" x w:"+this.screenPos.w+" * "+this._scaleX+" > desk : "+this.isDesktopTest)},updateScale(){this.model.screenSize.h>this.screenPos.h&&(this.logger.log(-1,"updateScale","exit > h:"+this.screenPos.h+" < "+this.model.screenSize.h),this.screenPos.h=this.model.screenSize.h)},setScreenId(t){this.logger.log(3,"setScreen","enter >"+t);const e=this.model.screens[t];e?this.renderScreen(e,null):console.error("No screen with ",t)},cleanUp(){this.logger.log(2,"cleanUp","enter"),this.renderFactory.cleanUp(),this.cleanUpTempListener(),this.cleanUpOverlays(),this.overlays=[],delete this.currentOverlay,delete this.fixedOverlayWrapper,delete this.currentOverlayDiv,delete this._scrollWidgets},getMatchingLine(t,e,i,s){const o=this.model.widgets[i.to];if(o){var r=null;const t=this.getFromLines(o);for(let e=0;e<t.length;e++)if(i=t[e],i.rule){if(this.isValueMatchingRule(s,!0,i.rule)){r=i;break}}else r||(r=i);return r}return i},getLineForGesture(t,e){for(let i=0;i<t.length;i++)if(t[i].event===e||"click"===e&&!t[i].event)return t[i]},onTransitionBack(t,e,i,s){this.logger.log(0,"onTransitionBack","enter >  sreen:"+t+" > widget:"+e),this.stopEvent(s),this.log("WidgetClick",t,e,s);const o=this.screenHistory.pop();if(o)if(this.currentOverlay)this.popOverlay();else{const e=o.screenID,i=this.model.screens[e];if(i){const s={id:"back",from:t,to:e},r=o.line;if(r){const t=this.animationFactory.getInverseAnimation(r.animation);s.animation=t,s.duration=r.duration,s.easing=r.easing}i.style.overlay?this.renderOverlay(s,e):this.renderTransition(s,e)}}},onTransition(t,e,i,s){this.logger.log(1,"onTransition","enter >  sreen:"+t+" > widget:"+e),this.stopEvent(s),this.log("WidgetClick",t,e,s),this.executeLine(t,e,i)},executeLine(t,e,i){if(this.flushOutputDataBinding(t,e),!this.isDestroyed)if(this.canPerformTransition(i,t)){var s=this.model.screens[i.to];if(s)this.loadingScreen=s,s.style.overlay?(this.logLine(i,t),this.renderOverlay(i,t)):(this.logLine(i,t),this.renderTransition(i,t));else{const s=this.model.widgets[i.to];s?(this.logLine(i,t),this.executeLogic(t,e,s,i)):console.warn("onTransition() > No screen or logic widget with id "+i.to)}}else this.log("ValidationErrorLine",t,e)},async executeLogic(t,e,i,s){if(this.logger.log(1,"executeLogic","enter >  "+i.id+" "+i.type),i.props.script)return void await this.executeScript(i.id,s);let o=!1;i.props&&i.props.rest&&(o=await this.executeRest(i,s));let r=null;const n=this.getFromLines(i);if(i.props&&i.props.isRandom){if(this.abSelector)return this.abSelector(n,(e=>{this.excuteMatchedLine(e,t,s)})),void this.logger.warn("executeLogic"," delagte to external selctor!");r=this.getABLine(n,i),this.logger.log(-1,"executeLogic","AB:"+i.id+" >> "+r)}else this.logger.log(-1,"executeLogic","RULE: "+i.id+" >> "),r=this.getRuleMatchingLine(n,t,o);this.excuteMatchedLine(r,t,s)},getABLine(t,e){const i=Math.random(),s=Math.floor(i*t.length);return this.logger.log(-1,"getABLine","enter >  do AB:"+e.id+" >> "+i+" >> "+s),t[s]},getRuleMatchingLine(t,e,i){let s;for(let o=0;o<t.length;o++){const r=t[o];if(r.rule){if("widget"===r.rule.type&&(s=this.checkWidgetRule(r,e)),"databinding"===r.rule.type&&(s=this.checkDataBindingRule(r,e)),"rest"===r.rule.type&&("4xx"!==r.rule.restResponseStatus||i||(s=r),"200"===r.rule.restResponseStatus&&i&&(s=r)),s)break}else s||(s=r)}return s},checkDataBindingRule(t){const e=t.rule;let i=this.getDataBindingByPath(e.databinding);i||(this.logger.warn("checkDataBindingRule","No databinding value for ",e.databinding),i=this.getDefaultDatabinding(e.databinding));const s=this.isValueMatchingRule(i,!0,e);if(s)return t},checkWidgetRule(t,e){const i=t.rule;let s=this.renderFactory.getUIWidgetByID(i.widget);if(!s){const t=i.widget+"@"+e;s=this.renderFactory.getUIWidgetByID(t)}if(s){if(this.isRuleMatching(i,s))return t}else console.warn("executeLogic() > No rule widget with id",t,i.widget)},excuteMatchedLine(t,e,i){if(t){const s=this.model.screens[t.to];if(s){const o=a.Z.clone(t);o.animation=i.animation,o.duration=i.duration,this.loadingScreen=s,s.style.overlay?this.renderOverlay(o,e):this.renderTransition(o,e)}else{const i=this.model.widgets[t.to];i?(this.logLine(t,e),this.executeLogic(e,t.from,i,t)):console.warn("excuteMatchedLine() > No screen or logic widget with id "+t.to)}}else console.warn("executeLogic() > Could not match any line")},isRuleMatching(t,e){const i=e.getValue(),s=e.isValid(!1),o=this.isValueMatchingRule(i,s,t);return this.logger.log(-1,"isRuleMatching","enter > ",t.value+" "+t.operator+" "+i+" / "+s+" =>"+o),o},getRuleValue(t){let e=t.value;if(e&&0===e.indexOf("${")&&e.indexOf("}")===e.length-1){const t=e.substring(2,e.length-1);e=this.getDataBindingByPath(t),this.logger.log(-1,"getRuleValue","WITH PATH "+t,` >${e}<`)}return"true"===e&&(e=!0),"false"===e&&(e=!1),e},isValueMatchingRule(t,e,i){this.logger.log(2,"isValueMatchingRule","enter > "+i.value+" "+i.operator+" "+t+" / "+e),this.isQDate(t)&&(this.logger.log(-1,"isValueMatchingRule","convert q date > "+this.convertQDateToIsoString(t)),t=this.convertQDateToIsoString(t));const s=i.operator;t&&Array.isArray(t)&&t.length>0&&(console.debug("Simulator.isRuleMatching.isArray",t),t=t[0]);let o=!1;const r=this.getRuleValue(i);switch(s){case"contains":if(t.toLowerCase&&r.toLowerCase){const e=t.toLowerCase(),i=r.toLowerCase();o=e.indexOf(i)>=0}else o=!1;break;case"isValid":o=e;break;case"checked":o=1==t;break;case"notchecked":o=0==t;break;case"active":o=1==t;break;case"notactive":o=0==t||null==t||void 0==t;break;case"==":o=t==r;break;case"!=":o=t!=r;break;case">":t||(t=0),o=1*t>1*r;break;case"<":t||(t=0),o=1*t<1*r;break;case">=":t||(t=0),o=1*t>=1*r;break;case"<=":t||(t=0),o=1*t<=1*r;break;default:console.warn("getRuleLabel() > not supported operator",i.operator)}return o},canPerformTransition(t,e){if(this.logger.log(2,"canPerformTransition","enter > "+t.from+" -> "+t.to,e),t.validation&&t.validation.all){let t=this.model.screens[e];if(this.currentOverlay&&(this.logger.log(-2,"canPerformTransition","validate overlay > "+this.currentOverlay.name),t=this.currentOverlay),t){let e=!0,i=t.children;for(let t=0;t<i.length;t++){let s=i[t],o=this.renderFactory.getUIWidgetByID(s);if(o){let t=o.isValid(!0);e=e&&t,t||this.logger.log(-2,"canPerformTransition","validate error > "+o.model.name)}}return e}}return!0},getSession(){return this._session||(this._session=this.getUUID("S"),this.logger.log(2,"getSession","created session > "+this._session)),this._session},getUser(){return this._user||(this._user={id:this.getUUID("U"),name:"tester"}),this._user},getUUID(t){return t+(new Date).getTime()+"_"+Math.round(1e4*Math.random())},toggleFullScreen(t){this.logger.log(2,"toggleFullScreen","enter");try{if(this.stopEvent(t),location.href.indexOf("localhost")>0)return void this.logger.log(-1,"toggleFullScreen","exit local host");if((0,c.Z)("android")||!(0,c.Z)("ios")){var e=window.document,i=e.documentElement,s=i.requestFullscreen||i.mozRequestFullScreen||i.webkitRequestFullScreen||i.msRequestFullscreen,o=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;s?(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?o.call(e,{navigationUI:"hide"}):s.call(i,{navigationUI:"hide"}),this.logger.log(-1,"toggleFullScreen","exit > Fullscreen started")):this.logger.log(-1,"toggleFullScreen","exit > IOS .. No FullsScreen")}else this.logger.log(-1,"toggleFullScreen","exit > desktop")}catch(t){this.logger.error("toggleFullScreen","error",t),this.logger.sendError(t)}},highlight(t){if(this._highlights){for(let t=0;t<this._highlights.length;t++)n.Z.remove(this._highlights[t],"MatcSimulatorHighlight"),this._highlightsInner[t]&&this._highlights[t].removeChild(this._highlightsInner[t]);delete this._highlights,delete this._highlightsInner}if(t){this._highlights=[],this._highlightsInner=[];for(let s=0;s<t.length;s++){var e=this.renderFactory.getWidgetNodeByID(t[s]);if(e){n.Z.add(e,"MatcSimulatorHighlight"),this._highlights.push(e);var i=document.createElement("div");n.Z.add(i,"MatcSimulatorHighlightInner"),e.appendChild(i),this._highlightsInner.push(i)}}}},scrollIntoView(t){for(let e=0;e<t.length;e++){const i=this.renderFactory.getWidgetNodeByID(t[e]);i&&i.scrollIntoViewIfNeeded&&i.scrollIntoViewIfNeeded({behavior:"smooth",block:"center",inline:"nearest",scrollMode:"if-needed"})}},getUserTasks(){const t=[];if(this.settings.tasks&&this.settings.tasks)for(var e=0;e<this.settings.tasks.length;e++){var i=this.settings.tasks[e];i.description&&"Enter a description here"!=i.description&&t.push(i)}return t},destroy(){this.logger.log(-1,"destroy","enter"),this.isDestroyed=!0,this.sendMouse(),this.cleanUpTempListener(),this.cleanUpGestureScreenAnim(),this.cleanUpAnimations(),this.cleanUpRepeatScripts(),this.cleanUpRepeatRests(),this.renderFactory.cleanUp(),window.onscroll=null}},mounted(){this.app&&this.setModel(this.app)}},ee=te,ie=(0,T.Z)(ee,s,o,!1,null,null,null),se=ie.exports},75919:function(t,e,i){"use strict";i.d(e,{Z:function(){return _}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeChart"})},o=[],r=i(60245),n=i(28379),a=i(59344),l=i(17386),h=i(89313);function d(t){switch(t){case"linear":return function(t){return t};case"easeInQuad":return function(t){return t*t};case"easeOutQuad":return function(t){return t*(2-t)};case"easeInOutQuad":return function(t){return t<.5?2*t*t:(4-2*t)*t-1};case"easeElasticIn":{let t=2*Math.PI,e=1,i=.3,s=Math.asin(1/(e=Math.max(1,e)))*(i/=t);return function(t){return e*Math.pow(2,10*--t)*Math.sin((s-t)/i)}}case"easeElasticOut":{let t=2*Math.PI,e=1,i=.3,s=Math.asin(1/(e=Math.max(1,e)))*(i/=t);return function(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+s)/i)}}case"easeBounceIn":{let t=4/11,e=6/11,i=8/11,s=3/4,o=9/11,r=10/11,n=15/16,a=21/22,l=63/64,h=1/t/t;const d=function(d){return(d=+d)<t?h*d*d:d<i?h*(d-=e)*d+s:d<r?h*(d-=o)*d+n:h*(d-=a)*d+l};return function(t){return 1-d(1-t)}}case"easeBounceOut":{let t=4/11,e=6/11,i=8/11,s=3/4,o=9/11,r=10/11,n=15/16,a=21/22,l=63/64,h=1/t/t;return function(d){return(d=+d)<t?h*d*d:d<i?h*(d-=e)*d+s:d<r?h*(d-=o)*d+n:h*(d-=a)*d+l}}default:return function(t){return t}}}function c(t,e,i,s){const o=u(e),r=t.createLinearGradient(Math.round(o.x1*i),Math.round(o.y1*s),Math.round(o.x2*i),Math.round(o.y2*s));return e.colors.forEach((t=>{r.addColorStop(t.p/100,t.c)})),r}function u(t,e=1){const i=t.direction,s=p(i),[o,r,n,a]=m(s),l=g(o,n,r,a,e);return l}function p(t){let e=t%360;return e<0&&(e+=360),e}function g(t,e,i,s,o){return t=(t+1)/2*o,i=(1-i)/2*o,e=(e+1)/2*o,s=(1-s)/2*o,{x1:t,y1:i,x2:e,y2:s}}function m(t){const e=t%45,i=Math.PI/180*e,s=1/Math.cos(i)*Math.sin(i);let o=s,r=1,n=o,a=r;const l=t%180;l<45?(n=o,a=r):l<90?(n=r,a=1-o):l<135?(n=r,a=-o):l<180&&(n=1-o,a=-r),t<180&&(n=-n,a=-a);let h=-n,d=-a;return[n,a,h,d]}var f={name:"Chart",mixins:[h.Z,r.Z],data:function(){return{value:0}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents(){this.own(this.addClickListener(this.domNode,a.Z.hitch(this,"_onClick"))),this.wireHover()},_onClick(t){this.emitClick(t)},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s;let o=t.props.data,r=t.props.value;this.lastValue=0,this.renderChart(t,e,o,r),this.setValue(r),this.setStyle(e,t)},renderChart(t,e,i,s){const o=[];if(this.isSimulator&&this.hasAnimation(t)){const e=t.props.animation.duration,i=d(t.props.animation.easing),s=1e3*e/30,r=1/s;for(let t=0;t<s;t++){const e=i(t*r);o.push(e)}}o.push(1),this.animationRunning=!0,this.renderChartType(t,e,i,s,o)},hasAnimation(t){return t?.props?.animation&&t?.props?.animation.type&&t?.props?.animation.duration>0},renderChartType(t,e,i,s,o){const r=o.shift();if(this.removeAllChildren(this.domNode),"bar"===this.type)n.Z.add(this.domNode,"MatcWidgetTypeBarChart"),t.props.isHorizontal?this.renderHorizontal(t,e,i,s,r):t.props.isLine?this.renderLine(t,e,i,s,r):this.renderVertical(t,e,i,s,r);else if("ring"===this.type)this.renderRing(t,e,i,s,r);else if("multiring"===this.type){const s=Math.round(Math.min(t.w,t.h)/2),o=Math.min(s,this.getZoomed(2*e.lineWidth,this._scaleY));this.renderPie(t,e,i,o,r)}else if("stackedring"===this.type)this.renderStackedRings(t,e,i,s,r);else if("pie"===this.type){const s=Math.min(t.w,t.h);this.renderPie(t,e,i,s,r)}else console.warn("render() > Not supported type : "+this.type);o&&o.length>0&&this.animationRunning?requestAnimationFrame((()=>{this.renderChartType(t,e,i,s,o)})):(this.animationRunning=!1,this.lastValue=s,this.lastData=i)},renderStackedRings(t,e,i,s,o){i=this.flip(i),i=this.scaleData(i,o,t),i=this.flip(i);const r=i[0],n=new l.Z,a=n.div("MatcWidgetTypeBarChartCntr").build(),h=2*t.w,d=2*t.h,c=Math.round(Math.min(h,d)/2),u=document.createElement("canvas");u.width=h,u.height=d;const p=Math.min(c,this.getZoomed(2*e.lineWidth,this._scaleY)),g=u.getContext("2d");for(let l=0;l<r.length;l++){const t=r[l],i=t/100,s=this.degreesToRadians(0),o=this.degreesToRadians(360*i),n=c-p/2-l*p;g.beginPath(),g.arc(c,c,n,s,o),e["background"+l]&&this.setStrokeColor(g,e["background"+l],h,d),g.lineWidth=p,g.stroke()}a.style.backgroundImage="url("+u.toDataURL("image/png")+")",this.removeAllChildren(this.domNode),this.domNode.appendChild(a)},renderRing(t,e,i,s,o){const r=(this.lastValue+(s-this.lastValue)*o)/100,n=new l.Z,a=n.div("MatcWidgetTypeBarChartCntr").build(),h=2*t.w,d=2*t.h,c=Math.round(Math.min(h,d)/2),u=document.createElement("canvas");u.width=h,u.height=d;const p=Math.min(c,this.getZoomed(2*e.lineWidth,this._scaleY)),g=u.getContext("2d");g.beginPath();let m=this.degreesToRadians(360*r),f=this.degreesToRadians(360);g.arc(c,c,c-p/2,m,f),this.setStrokeColor(g,e.background,h,d),g.lineWidth=p,g.stroke(),g.beginPath(),m=this.degreesToRadians(0),f=this.degreesToRadians(360*r),g.arc(c,c,c-p/2,m,f),this.setStrokeColor(g,e.color,h,d),g.lineWidth=p,g.stroke(),a.style.backgroundImage="url("+u.toDataURL("image/png")+")",this.removeAllChildren(this.domNode),this.domNode.appendChild(a)},renderPie(t,e,i,s,o=1){let r=i[0],n=0;for(let l=0;l<r.length;l++)n+=1*r[l];i=this.flip(i),i=this.scaleData(i,o,t),i=this.flip(i),r=i[0];const a=2*t.w,h=2*t.h,d=Math.round(Math.min(a,h)/2),c=new l.Z,u=c.div("MatcWidgetTypeBarChartCntr").build(),p=document.createElement("canvas");p.width=a,p.height=h;const g=p.getContext("2d");let m=0;for(let l=0;l<r.length;l++){const t=r[l],i=t/n+m,o=this.degreesToRadians(360*m),c=this.degreesToRadians(360*i);g.beginPath(),g.arc(d,d,d-s/2,o,c),e["background"+l]&&this.setStrokeColor(g,e["background"+l],a,h),g.lineWidth=s,g.stroke(),m+=t/n}u.style.backgroundImage="url("+p.toDataURL("image/png")+")",this.removeAllChildren(this.domNode),this.domNode.appendChild(u)},degreesToRadians(t){return t*(Math.PI/180)-Math.PI/2},renderLine(t,e,i,s,o){i=this.flip(i),i=this.scaleData(i,o,t);const r=t?.props?.isCurve,n=2*t.w,a=2*t.h,h=this.max,d=.5,c=new l.Z,u=c.div("MatcWidgetTypeBarChartCntr").build(),p=document.createElement("canvas");p.width=n,p.height=a;const g=p.getContext("2d");for(let l=0;l<i.length;l++){const s=i[l],o=Math.round(n/(s.length-1));g.beginPath();let c=0,u=0,p=0;for(let t=0;t<s.length;t++){let e=s[t];e*=.95,c=a-Math.round(1*e/h*a);const i=t*o;if(r)if(0===t)g.moveTo(d,c+d);else{const t=(i-u)/2;g.bezierCurveTo(u+t,p,i-t,c,i,c)}else 0===t?g.moveTo(d,c+d):g.lineTo(i+d,c+d);p=c,u=i}t.has.fill&&(g.lineTo(n+d,c+d),g.lineTo(n+d,a+d),g.lineTo(d,a+d),g.closePath()),e.lineWidth&&(g.lineWidth=this.getZoomed(2*e.lineWidth,this._scaleY)),e["color"+l]?this.setStrokeColor(g,e["color"+l],n,a):e["background"+l]&&this.setStrokeColor(g,e["background"+l],n,a),e["background"+l]&&t.has.fill&&(this.setFillColor(g,e["background"+l],n,a),g.fill()),g.stroke()}if(t.has.circle){const t=this.getZoomed(3*e.lineWidth,this._scaleY);for(let s=0;s<i.length;s++){const o=i[s],r=Math.round(n/(o.length-1))+d;for(let i=1;i<o.length-1;i++){const l=o[i],h=a-Math.round(1*l/this.max*a)+t/2,c=i*r;g.beginPath(),g.arc(c+d,h+d,t,0,2*Math.PI),e["background"+s]&&this.setFillColor(g,e["background"+s],n,a),g.fill()}}}u.style.backgroundImage="url("+p.toDataURL("image/png")+")",this.domNode.appendChild(u)},renderVertical(t,e,i,s,o){const r=new l.Z;i=this.prepareData(i),i=this.scaleData(i,o,t);const n=100/this.groups,a=r.div("MatcWidgetTypeBarChartCntr").build();for(let l=0;l<i.length;l++){const s=i[l],o=r.div("MatcWidgetTypeBarChartGroup").build(a);o.style.width=n+"%",o.style.left=n*l+"%";let h=100/(s.length+1),d=h/2;100===h&&(h=50,d=25);for(let i=0;i<s.length;i++){const n=s[i],a=r.div("MatcWidgetTypeBarChartBar").build(o);a.style.height=100*n/this.max+"%",a.style.width=h+"%",a.style.left=i*h+d+"%",e["background"+i]&&(this.setBackgroundColor(a,e["background"+i],t.w,t.h),a.style.backgroundSize=`100% ${t.h}px`,a.style.backgroundPosition="bottom"),this._shadowNodes.push(a)}}this.domNode.appendChild(a)},renderHorizontal(t,e,i,s,o){const r=new l.Z;i=this.prepareData(i),i=this.scaleData(i,o,t);const n=100/this.groups,a=r.div("MatcWidgetTypeBarChartCntr").build();for(let l=0;l<i.length;l++){const s=i[l],o=r.div("MatcWidgetTypeBarChartHorizontalGroup").build(a);o.style.height=n+"%",o.style.top=n*l+"%";let h=100/(s.length+1),d=h/2;100===h&&(h=50,d=25);for(let i=0;i<s.length;i++){const n=s[i],a=r.div("MatcWidgetTypeBarChartHorizontalBar").build(o);a.style.width=100*n/this.max+"%",a.style.height=h+"%",a.style.top=i*h+d+"%",e["background"+i]&&(this.setBackgroundColor(a,e["background"+i],t.w,t.h),a.style.backgroundSize=`${t.w}px 100%`,a.style.backgroundPosition="left"),this._shadowNodes.push(a)}}this.domNode.appendChild(a)},prepareData(t){this.max=-1e7,this.groups=0,this.groups=t.length;for(let e=0;e<t.length;e++){const i=t[e];for(let t=0;t<i.length;t++)this.max=Math.max(this.max,i[t])}return t},scaleData(t,e,i){if(1===e)return t;const s=i?.props?.animation?.type;return"slide"===s?this.scaleDataSlide(t,e):this.scaleDataGrow(t,e)},scaleDataSlide(t,e){const i=[],s=[],o=1/t.length;for(let r=0;r<t.length;r++){s[r]=0;const t=o*r,i=o*(r+1);if(e>t){let i=(e-t)/o;s[r]=i}e>i&&(s[r]=1)}for(let r=0;r<t.length;r++){const e=t[r],o=s[r];if(Array.isArray(e)){i[r]=[];const t=e;for(let e=0;e<t.length;e++)if(this.lastData&&this.lastData[r]&&void 0!==this.lastData[r][e]){const s=t[e],n=1*this.lastData[r][e];i[r][e]=n+(s-n)*o}else i[r][e]=t[e]*o}else if(this.lastData&&void 0!==this.lastData[r]){const t=1*this.lastData[r];i[r]=t+(e-t)*o}else i[r]=e*o}return i},scaleDataGrow(t,e){const i=[];for(let s=0;s<t.length;s++){const o=t[s];if(Array.isArray(o)){i[s]=[];const t=o;for(let o=0;o<t.length;o++)if(this.lastData&&this.lastData[s]&&void 0!==this.lastData[s][o]){const r=t[o],n=1*this.lastData[s][o];i[s][o]=n+(r-n)*e}else i[s][o]=t[o]*e}else if(this.lastData&&void 0!==this.lastData[s]){const t=1*this.lastData[s];i[s]=t+(o-t)*e}else i[s]=o*e}return i},flip(t){this.max=-1e7,this.groups=0,this.count=0;const e=[];for(let i=0;i<t.length;i++){const s=t[i];for(let t=0;t<s.length;t++)e[t]||(e[t]=[]),e[t][i]=s[t],this.max=Math.max(this.max,s[t]),this.count++}return e},setFillColor(t,e,i,s){if(e.colors){const o=c(t,e,i,s);t.fillStyle=o}else t.fillStyle=e},setStrokeColor(t,e,i,s){if(e.colors){const o=c(t,e,i,s);t.strokeStyle=o}else t.strokeStyle=e},setBackgroundColor(t,e){e.colors?this._set_background_gradient(t,e):t.style.background=e},getValue(){return this.value},_setDataBindingValue(t){this.animationRunning=!1;let e=this.model.props.data,i=this.model.props.value;if("ring"==this.type){let e=1*t;if(isNaN(e))return void console.warn("Chart._setDataBindingValue() > Wrong value for ring",t);i=e}else if("pie"===this.type)e=[this.objectToArray(t)];else if(Array.isArray(t))e=t;else{e=[];const i=this.objectToArray(t);for(let t in i){const s=this.objectToArray(i[t]);for(let t in s)e[t]||(e[t]=[]),e[t].push(s[t])}}this.renderChart(this.model,this.style,e,i),this.setValue(t)},objectToArray(t){if(Array.isArray(t))return t;let e=[];for(let i in t)e.push(t[i]);return e},setValue(t){this.value=t},getState(){return{}},setState(){},beforeDestroy(){this.animationRunning=!1}},mounted(){}},v=f,y=i(1001),b=(0,y.Z)(v,s,o,!1,null,null,null),_=b.exports},89313:function(t,e,i){"use strict";i.d(e,{Z:function(){return S}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeNone"},[t._v("NO IMPLEMENTED")])},o=[],r=(i(21703),i(60245)),n=i(28379),a=i(59344),l=i(19721),h=i(52468),d=i(84301),c=i(77528),u=i(247),p=i(54524),g=i(48039),m=i(75790);const f=["fontSize","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","boxShadow","textShadow","letterSpacing","icon"];var v={name:"UIWidget",props:["qWidget","qQcaleX","qQcaleY"],mixins:[c.Z,d.Z,u.Z,r.Z],data:function(){return{_scaleX:1,_scaleY:1,_onScreenRenderedCalled:!1,borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],lastValidation:!0,hoverAnimationDuration:150,erroAnimationDuration:0,isPublic:!1}},components:{},methods:{wireEvents(){},wireHover(t=m.Z.over,e=m.Z.out){this.own((0,g.Z)(this.domNode,t,a.Z.hitch(this,"onDomMouseOver"))),this.own((0,g.Z)(this.domNode,e,a.Z.hitch(this,"onDomMouseOut")))},getName(){},getCreateTemplates(){},getDataProperties(){},onSimulatoStarted(){},getValidationProperties(){},setJwtToken(t){this.jwtToken=t},setPublic(t){this.isPublic=t},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t)},updateScale(t,e,i,s){this.render(t,e,i,s)},getScaledValue(t){return this._scaleX*t},resize(t){this.domNode.parentNode&&(this.domNode.style.height=Math.round(t.h)+"px",this.domNode.style.width=Math.round(t.w)+"px")},addClickListener:function(t,e){return this.addMultiGestureListener(t,e,a.Z.hitch(this,"_onWidgetGesture"))},setGestures(t){this._hasGestures=t},_onWidgetGesture(t,e,i){this.emit("gesture",t,e,i)},emitOpenPopup(){l.Z.publish("MatcSimulatorEvent","popupOpen",null,this.model.id)},beforeDestroy(){this._compositeState&&this.emitCompositeState()},getLabelNode(){return null},getValue(){},setFactory(t){this.factory=t},emitDataBinding(t,e="default"){e||(e="default");const i=this.getDataBinding(this.model);if(i&&i[e]){const s=i[e];this.emit("databinding",s,t)}},setDataBinding(t,e){const i=this.getDataBinding(this.model);if(i&&i["default"]){const s=i["default"];if(s===t)return this._setDataBindingValue(e),setTimeout((()=>{this.validate(e,!0,!0)}),10),!0}return!1},getOutputDataBindingValue(){},_setDataBindingValue(t){this.setValue(t)},setAutoFocus(t){t&&this.model&&!0===this.model.props.focus&&setTimeout((function(){t.focus()}),100)},emitClick(t){this.emit("click",t)},emitFocus(t){this.emit("focus",t)},emitHoverStart(t){this.emit("hoverStart",t)},emitHoverEnd(t){this.emit("hoverEnd",t)},emitMouseMove(t,e){e=e?1:0,this.emit("mousemove",t,e)},emitMouseOver(t){this.emit("mouseover",t)},emitMouseOut(t){this.emit("mouseout",t)},emitValidationError(t){this.emit("validationError",{value:t})},emitValidationOK(){this.emit("validationOK")},emitStateChange(t,e,i,s){const o={type:t,value:e,runTransition:!0,e:i};s&&(o.time=s);const r=this.getStateOptions();r&&(o.options=r),this.emit("stateChange",o)},emitNoTransitionStateChange(t,e,i,s){const o={type:t,value:e,runTransition:!1,e:i};s&&(o.time=s);const r=this.getStateOptions();r&&(o.options=r),this.emit("stateChange",o)},getState(){return null},setState(){},initCompositeState(t,e){this._compositeState,this._compositeState={time:(new Date).getTime(),children:[]},e&&(this._compositeState.e=e),null!=t&&void 0!=t&&this.addCompositeSubState(t)},addCompositeSubState(t){this._compositeState&&this._compositeState.children.push({time:(new Date).getTime(),value:t})},emitCompositeState(t,e,i){if(this._compositeState){this._compositeState.type=t,this._compositeState.value=e;const s=this.getStateOptions();s&&(this._compositeState.options=s),i&&(this._compositeState.e=i),this.emit("stateChange",this._compositeState),delete this._compositeState}},getStateOptions(){return null},emitAnimation(t,e,i,s){var o={id:t,to:{style:i,pos:s},from:{},duration:e,delay:0};this.emit("animation",o)},onDomMouseOver(t){this.model.hover&&this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.hover),this.emitMouseOver(t)},onDomMouseOut(t){this.model.hover&&(this.value&&this.model.active?this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.active):this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.style)),this.emitMouseOut(t)},getLastSubState(t,e){const i=null;if(t.children){const i=t.children;return t._ts||(t._ts=this.createTimeSeries(i)),t._ts.get(e)}return i},onScreenRendered(){this._onScreenRenderedCalled||(this.hideErrorLabel(),this._onScreenRenderedCalled=!0)},isHidden(){return"none"===this.model?.style?.display},isValid(){return!0},_validateValue(){return!0},validate(t,e,i){void 0==e&&(console.warn("validate() > Show error not passed > ",this.model),e=!0);var s=this.model.props.validation;if(s){var o=this._validateValue(t);(this.lastValidation!=o||i)&&(o?(e&&(this.hideErrorLabel(),this.model.error&&this.emitAnimation(this.model.id,this.erroAnimationDuration,this.style)),this.emitValidationOK(t)):(e&&(console.debug("SHOW ERROR"),this.showErrorLabel(),this.model.error&&this.emitAnimation(this.model.id,this.erroAnimationDuration,this.model.error)),this.emitValidationError(t))),this.lastValidation=o}else this.lastValidation=!0;return this.lastValidation},getRef(t){if(this.model.props.refs&&this.model.props.refs[t]){var e=this.model.props.refs[t];return e}return null},getErrorLabels(){var t=this.getRef("errorLabels");return t||this.model.props.validation&&this.model.props.validation.errorLabels&&(console.warn("getErrorLabels() > legacy code!!!",this.model.id),t=this.model.props.validation.errorLabels),t},hideErrorLabel(){const t=this.getErrorLabels();if(this.model.props.validation&&t)for(let e=0;e<t.length;e++){const i=t[e];this.emitAnimation(i,this.erroAnimationDuration,{opacity:0})}},showErrorLabel(){const t=this.getErrorLabels();if(this.model.props.validation&&t)for(let e=0;e<t.length;e++){const i=t[e];this.emitAnimation(i,this.erroAnimationDuration,{opacity:1})}},setValueLabel(t){const e=this.getRef("valueLabel");if(e){const i=e[0];if(i){const e=this.factory.getUIWidgetByID(i);e&&(e.hackValueLabel=!0);const s=this.factory.getLabelNodeById(i);s&&(s.innerHTML=t)}}},setAnimatedPos(t,e){if((!e||null==e.rotate&&void 0==e.rotate)&&this.domNode){let e="translate("+t.x+"px,"+t.y+"px) ",i=t.w+this.model.w,s=t.h+this.model.h;void 0==t.w&&void 0==t.h||(i/=this.model.w,s/=this.model.h,e+=" scale("+i+","+s+")",this.domNode.style.transformOrigin="0% 0%",this.domNode.style.webkitTransformOrigin="0% 0%");const o=this.getAnimationNode();o?(o.style.transform=e,o.style.webkitTransform=e):console.warn("No anim node"),this._lastAnimPos=t}},getAnimationNode(){return this.domNode},setAnimatedStyle(t){if(this.domNode){for(var e in this.animatedStyle||(this.animatedStyle=a.Z.clone(this.style)),t)this.animatedStyle[e]=t[e];this.setStyle(this.animatedStyle)}else console.debug("setAnimatedStyle() > No DomNode")},getAnimatedStyle(){return this.animatedStyle?this.animatedStyle:this.style},setClickable(){n.Z.add(this.domNode,"MatcSimulatorClickable")},stripHTML(t){return t||(t=""),t=t.replace(/<\/?[^>]+(>|$)/g,""),t=t.replace(/%/g,"$perc;"),t},setInnerHTML(t,e){t?(e=this.stripHTML(e),e=e.replace(/\n/g,"<br>"),e=e.replace(/\$perc;/g,"%"),t.innerHTML=e):console.warn("setInnerHTML() > No node to set test > ",e)},setTextContent(t,e){t?(e=this.stripHTML(e),e=e.replace(/\n/g,"<br>"),e=e.replace(/\$perc;/g,"%"),t.textContent=e):console.warn("setTextContent() > No node to set test > ",e)},removeAllChildren(t){while(t.lastChild)t.removeChild(t.lastChild)},setScalledNodeStyle(t,e,i){for(var s=0;s<i.length;s++){var o=i[s],r=this._getBorderWidth(e[o]);t.style[o]=r+"px"}},setBorderColor(){this._setBorderStyle("borderTopColor",this.domNode,this.style,this.model),this._setBorderStyle("borderBottomColor",this.domNode,this.style,this.model),this._setBorderStyle("borderRightColor",this.domNode,this.style,this.model),this._setBorderStyle("borderLeftColor",this.domNode,this.style,this.model)},_setBorderRadius(t,e){for(var i=0;i<this.borderRadius.length;i++){var s=this.borderRadius[i],o=this._getBorderWidth(e[s]);t.style[s]=o+"px"}},_setBorderRadiusAt(t,e,i=[]){for(let s=0;s<i.length;s++){const o=i[s],r=this._getBorderWidth(e[o]);t.style[o]=r+"px"}},_setBorder(t,e){this._setBorderRadius(t,e)},setStyle(t,e,i=!1){if(i)for(let s=0;s<f.length;s++){let i=f[s];null!==t[i]&&0!==t[i]&&(this["_set_"+i]?this["_set_"+i](this.domNode,t,e):this.domNode.style[i]=t[i])}else for(let s in t)this["_set_"+s]?this["_set_"+s](this.domNode,t,e):null!=t[s]&&(this.domNode.style[s]=t[s])},_set_rotate(t,e){var i="rotate("+Math.round(e.rotate)+"deg)";this.domNode.style.transform=i,this.domNode.style.webkitTransform=i,this.domNode.style.transformOrigin="50% 50%",this.domNode.style.webkitTransformOrigin="50% 50%",this._currentTransform=i},_set_fontSize(t,e){let i=e.fontSize*this._scaleX;this._scaleX<1&&(i*=.95),t.style.fontSize=Math.round(i)+"px"},_set_css:function(t,e){n.Z.add(t,e.css)},_set_boxShadow:function(t,e){const i=e.boxShadow;if(i){const e=this.getZoomed(i.v,this._scaleY),o=this.getZoomed(i.h,this._scaleX),r=this.getZoomed(i.b,Math.max(this._scaleY,this._scaleX));var s=this.getZoomed(i.s,Math.max(this._scaleY,this._scaleX));const n=i.i?"inset":"",a=o+"px "+e+"px "+r+"px "+s+"px "+i.c+" "+n;if(this._shadowNodes)for(let t=0;t<this._shadowNodes.length;t++){const e=this._shadowNodes[t];e.style.boxShadow=a}else t.style.boxShadow=a}else t.style.boxShadow="none"},_setShadow(t,e){if(e){const i=this.getZoomed(e.v,this._scaleY),s=this.getZoomed(e.h,this._scaleX),o=this.getZoomed(e.b,Math.max(this._scaleY,this._scaleX)),r=this.getZoomed(e.s,Math.max(this._scaleY,this._scaleX)),n=e.i?"inset":"",a=s+"px "+i+"px "+o+"px "+r+"px "+e.c+" "+n;t.style.boxShadow=a}else console.debug("UIWidget._setShadow() > Error : Shadow is null",e)},_set_textShadow:function(t,e){const i=e.textShadow;if(i){const e=this.getZoomed(i.v,this._scaleY),s=this.getZoomed(i.h,this._scaleX),o=this.getZoomed(i.b,Math.max(this._scaleY,this._scaleX));t.style.textShadow=s+"px "+e+"px "+o+"px "+i.c}else t.style.textShadow="none"},_set_padding:function(t,e){t.style.padding=Math.round(e.padding*this._scaleX)+"px"},_setBorderStyle:function(t,e,i){if(this._borderNodes)for(var s=0;s<this._borderNodes.length;s++){var o=this._borderNodes[s];o.style[t]=i[t]}},_set_backdropFilter(t,e){let i=e.backdropFilter;if(this._backgroundNodes)for(let s=0;s<this._backgroundNodes.length;s++){let t=this._backgroundNodes[s];if(i){let e=i.blur;e=this.getZoomed(e,this._scaleX),t.style.backdropFilter=`blur(${e}px)`}else t.style.backdropFilter="none"}},_set_filter(t,e){let i=e.filter;if(i){let e=[];if(i.blur){let t=i.blur;t=this.getZoomed(t,this._scaleX),e.push(`blur(${t}px)`)}i.grayscale&&e.push(`grayscale(${i.grayscale}%)`),i.opacity&&e.push(`opacity(${i.opacity}%)`),void 0!==i.contrast&&e.push(`contrast(${i.contrast}%)`),void 0!==i.brightness&&e.push(`brightness(${i.brightness}%)`),void 0!==i.saturate&&e.push(`saturate(${i.saturate}%)`),void 0!==i.hueRotate&&e.push(`hue-rotate(${360*i.hueRotate/100}deg)`),t.style.filter=e.join(" ")}else t.style.filter="none"},_setScalledBorderStyle:function(t,e,i){if(this._borderNodes)for(var s=0;s<this._borderNodes.length;s++){var o=this._borderNodes[s],r=this._getBorderWidth(i[t]);o.style[t]=r+"px"}},_set_opacity:function(t,e){0===e.opacity?n.Z.add(t,"MatcHidden"):n.Z.remove(t,"MatcHidden"),e.opacity<=1&&(t.style.opacity=e.opacity)},_set_borderTopWidth:function(t,e){this._setScalledBorderStyle("borderTopWidth",t,e)},_set_borderBottomWidth:function(t,e){this._setScalledBorderStyle("borderBottomWidth",t,e)},_set_borderLeftWidth:function(t,e){this._setScalledBorderStyle("borderLeftWidth",t,e)},_set_borderRightWidth:function(t,e){this._setScalledBorderStyle("borderRightWidth",t,e)},_set_borderRadius:function(t,e){this._setScalledBorderStyle("borderRadius",t,e)},_set_borderTopLeftRadius:function(t,e){this._setScalledBorderStyle("borderTopLeftRadius",t,e)},_set_borderTopRightRadius:function(t,e){this._setScalledBorderStyle("borderTopRightRadius",t,e)},_set_borderBottomLeftRadius:function(t,e){this._setScalledBorderStyle("borderBottomLeftRadius",t,e)},_set_borderBottomRightRadius:function(t,e){this._setScalledBorderStyle("borderBottomRightRadius",t,e)},_set_borderColor:function(t,e){this._setBorderStyle("borderColor",t,e)},_set_borderTopColor:function(t,e){this._setBorderStyle("borderTopColor",t,e)},_set_borderBottomColor:function(t,e){this._setBorderStyle("borderBottomColor",t,e)},_set_borderRightColor:function(t,e){this._setBorderStyle("borderRightColor",t,e)},_set_borderLeftColor:function(t,e){this._setBorderStyle("borderLeftColor",t,e)},_set_borderTopStyle:function(t,e){this._setBorderStyle("borderTopStyle",t,e)},_set_borderBottomStyle:function(t,e){this._setBorderStyle("borderBottomStyle",t,e)},_set_borderRightStyle:function(t,e){this._setBorderStyle("borderRightStyle",t,e)},_set_borderLeftStyle:function(t,e){this._setBorderStyle("borderLeftStyle",t,e)},_setScalledPadding:function(t,e,i){if(this._paddingNodes)for(var s=0;s<this._paddingNodes.length;s++){var o=this._paddingNodes[s],r=this._getBorderWidth(i[t]);o.style[t]=r+"px"}},_set_paddingTop:function(t,e){this._setScalledPadding("paddingTop",t,e)},_set_paddingLeft:function(t,e){this._setScalledPadding("paddingLeft",t,e)},_set_paddingRight:function(t,e){this._setScalledPadding("paddingRight",t,e)},_set_paddingBottom:function(t,e){this._setScalledPadding("paddingBottom",t,e)},_set_background:function(t,e){if(this._backgroundNodes)for(var i=0;i<this._backgroundNodes.length;i++){const t=this._backgroundNodes[i],s=e.background;if(t)if(s&&s.colors){let e="("+s.direction+"deg";const i=s.colors.slice();i.sort(((t,e)=>t.p-e.p));for(let t=0;t<i.length;t++){const s=i[t];e+=","+s.c+" "+s.p+"% "}t.style.background="linear-gradient"+e,t.style.background="-webkit-linear-gradient"+e}else t.style.background=e.background;else console.warn("UIWidget._set_background() > No node ",this.model)}},_set_background_gradient(t,e){if(e&&e.colors){let i="("+e.direction+"deg";const s=e.colors.slice();s.sort(((t,e)=>t.p-e.p));for(let t=0;t<s.length;t++){const e=s[t];i+=","+e.c+" "+e.p+"% "}t.style.backgroundImage="linear-gradient"+i,t.style.backgroundImage="-webkit-linear-gradient"+i}else t.style.background=e},_set_backgroundImageRotation(t,e){this._iconNodes&&(this._iconNodes.forEach((t=>{t&&(t.style.transform=`rotate(${e.backgroundImageRotation}deg)`)})),n.Z.add(t,"MatchWidgetTypeIconRotated")),this._imageNodes&&this._imageNodes.forEach((t=>{t&&(t.style.transform=`rotate(${e.backgroundImageRotation}deg)`)}))},_set_backgroundImage:function(t,e,i){const s=e.backgroundImage;s&&(this._imageNodes?this._imageNodes.forEach((t=>{t&&this._set_backgroundImageInNode(t,e,i)})):this._set_backgroundImageInNode(t,e,i))},_set_backgroundImageInNode(t,e){var i=e.backgroundImage;if(n.Z.add(t,"MatcScreenImage"),i){if(i.w>i.h?n.Z.add(t,"MatcScreenImageHorizontal"):n.Z.add(t,"MatcScreenImageVertical"),this.hash)t.style.backgroundImage="url(/rest/images/"+this.hash+"/"+i.url+")";else if(this.jwtToken)t.style.backgroundImage="url(/rest/images/"+i.url+"?token="+this.jwtToken+")";else{this.logger.warn("_set_backgroundImageInNode","error > no token or hash"),this.isPublic||this.logger.sendError(new Error("No hash for image"));const e="url(/rest/images/"+i.url+")";t.style.backgroundImage=e}if(e.backgroundSize?t.style.backgroundSize=e.backgroundSize+"%":t.style.backgroundSize="100%",e.backgroundPosition&&this.model){const i=e.backgroundPosition;t.style.backgroundPosition=Math.round(i.left*this.model.w)+"px "+Math.round(i.top*this.model.h)+"px",t.style.webkitBackgroundPosition=Math.round(i.left*this.model.w)+"px "+Math.round(i.top*this.model.h)+"px"}else t.style.backgroundPosition="0 0";t.style.backgroundRepeat="no-repeat"}else t.style.backgroundImage="none"},_set_verticalAlign:function(t,e){if(this._labelNodes)for(var i=0;i<this._labelNodes.length;i++){var s=this._labelNodes[i];s.className="MatcInlineEditable",e.textAlign?n.Z.add(s,"MatcInlineEditVAlign-"+e.verticalAlign+"-"+e.textAlign):n.Z.add(s,"MatcInlineEditVAlign-"+e.verticalAlign)}},_set_letterSpacing:function(t,e){t.style.letterSpacing=e.letterSpacing*this._scaleX+"px"},stopPropagation:function(t){return t&&t.stopPropagation(),!1},stopEvent:function(t){return t&&(t.preventDefault(),t.stopPropagation()),!1},getScreenDiv:function(){var t=this.domNode.parentNode;while(t){if(n.Z.contains(t,"MatcScreen"))return t;t=t.parentNode}},getMouse:function(t){if(t){var e={};return t.touches&&t.touches.length>0?(t=t.touches[0],e.x=t.clientX,e.y=t.clientY):t.changedTouches&&t.changedTouches.length>0?(t=t.changedTouches[0],e.x=t.clientX,e.y=t.clientY):(e.x=t.pageX,e.y=t.pageY),e}return{x:0,y:0}},_getBorderWidth:function(t){return t>0?Math.max(1,this.getZoomed(t,this._scaleX)):0},getCanvasPosition:function(t){var e=h.Z.get(t);return{x:this.removePx(e.left),y:this.removePx(e.top)}},removePx:function(t){var e=t.indexOf("px");return e>=0&&(t=t.substring(0,e)),1*t},inherited(){console.warn(this.name+"().inherected() > DEPRECTAED")}},destroyed(){this.beforeDestroy()},mounted(){this.qWidget&&this.render(this.qWidget,this.qWidget.style,this.qQcaleX,this.qQcaleX,!1),this.logger=new p.Z("UIWidget")}},y=v,b=i(1001),_=(0,b.Z)(y,s,o,!1,null,null,null),S=_.exports},31807:function(t){var e=!("undefined"===typeof window||!window.document||!window.document.createElement);t.exports=e},51223:function(t,e,i){var s=i(5112),o=i(70030),r=i(3070).f,n=s("unscopables"),a=Array.prototype;void 0==a[n]&&r(a,n,{configurable:!0,value:o(null)}),t.exports=function(t){a[n][t]=!0}},31530:function(t,e,i){"use strict";var s=i(28710).charAt;t.exports=function(t,e,i){return e+(i?s(t,e).length:1)}},24019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(t,e,i){var s=i(47293);t.exports=s((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},90260:function(t,e,i){"use strict";var s,o,r,n=i(24019),a=i(19781),l=i(17854),h=i(60614),d=i(70111),c=i(92597),u=i(70648),p=i(66330),g=i(68880),m=i(98052),f=i(3070).f,v=i(47976),y=i(79518),b=i(27674),_=i(5112),S=i(69711),w=l.Int8Array,x=w&&w.prototype,C=l.Uint8ClampedArray,k=C&&C.prototype,T=w&&y(w),M=x&&y(x),N=Object.prototype,B=l.TypeError,W=_("toStringTag"),E=S("TYPED_ARRAY_TAG"),D=S("TYPED_ARRAY_CONSTRUCTOR"),Z=n&&!!b&&"Opera"!==u(l.opera),L=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},A=function(t){if(!d(t))return!1;var e=u(t);return"DataView"===e||c(R,e)||c(O,e)},P=function(t){if(!d(t))return!1;var e=u(t);return c(R,e)||c(O,e)},V=function(t){if(P(t))return t;throw B("Target is not a typed array")},I=function(t){if(h(t)&&(!b||v(T,t)))return t;throw B(p(t)+" is not a typed array constructor")},z=function(t,e,i,s){if(a){if(i)for(var o in R){var r=l[o];if(r&&c(r.prototype,t))try{delete r.prototype[t]}catch(n){try{r.prototype[t]=e}catch(h){}}}M[t]&&!i||m(M,t,i?e:Z&&x[t]||e,s)}},F=function(t,e,i){var s,o;if(a){if(b){if(i)for(s in R)if(o=l[s],o&&c(o,t))try{delete o[t]}catch(r){}if(T[t]&&!i)return;try{return m(T,t,i?e:Z&&T[t]||e)}catch(r){}}for(s in R)o=l[s],!o||o[t]&&!i||m(o,t,e)}};for(s in R)o=l[s],r=o&&o.prototype,r?g(r,D,o):Z=!1;for(s in O)o=l[s],r=o&&o.prototype,r&&g(r,D,o);if((!Z||!h(T)||T===Function.prototype)&&(T=function(){throw B("Incorrect invocation")},Z))for(s in R)l[s]&&b(l[s],T);if((!Z||!M||M===N)&&(M=T.prototype,Z))for(s in R)l[s]&&b(l[s].prototype,M);if(Z&&y(k)!==M&&b(k,M),a&&!c(M,W))for(s in L=!0,f(M,W,{get:function(){return d(this)?this[E]:void 0}}),R)l[s]&&g(l[s],E,s);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:Z,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:L&&E,aTypedArray:V,aTypedArrayConstructor:I,exportTypedArrayMethod:z,exportTypedArrayStaticMethod:F,isView:A,isTypedArray:P,TypedArray:T,TypedArrayPrototype:M}},18533:function(t,e,i){"use strict";var s=i(42092).forEach,o=i(9341),r=o("forEach");t.exports=r?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},97745:function(t,e,i){var s=i(26244);t.exports=function(t,e){var i=0,o=s(e),r=new t(o);while(o>i)r[i]=e[i++];return r}},9671:function(t,e,i){var s=i(49974),o=i(68361),r=i(47908),n=i(26244),a=function(t){var e=1==t;return function(i,a,l){var h,d,c=r(i),u=o(c),p=s(a,l),g=n(u);while(g-- >0)if(h=u[g],d=p(h,g,c),d)switch(t){case 0:return h;case 1:return g}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},42092:function(t,e,i){var s=i(49974),o=i(1702),r=i(68361),n=i(47908),a=i(26244),l=i(65417),h=o([].push),d=function(t){var e=1==t,i=2==t,o=3==t,d=4==t,c=6==t,u=7==t,p=5==t||c;return function(g,m,f,v){for(var y,b,_=n(g),S=r(_),w=s(m,f),x=a(S),C=0,k=v||l,T=e?k(g,x):i||u?k(g,0):void 0;x>C;C++)if((p||C in S)&&(y=S[C],b=w(y,C,_),t))if(e)T[C]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return C;case 2:h(T,y)}else switch(t){case 4:return!1;case 7:h(T,y)}return c?-1:o||d?d:T}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},81194:function(t,e,i){var s=i(47293),o=i(5112),r=i(7392),n=o("species");t.exports=function(t){return r>=51||!s((function(){var e=[],i=e.constructor={};return i[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,i){"use strict";var s=i(47293);t.exports=function(t,e){var i=[][t];return!!i&&s((function(){i.call(null,e||function(){return 1},1)}))}},53671:function(t,e,i){var s=i(19662),o=i(47908),r=i(68361),n=i(26244),a=TypeError,l=function(t){return function(e,i,l,h){s(i);var d=o(e),c=r(d),u=n(d),p=t?u-1:0,g=t?-1:1;if(l<2)while(1){if(p in c){h=c[p],p+=g;break}if(p+=g,t?p<0:u<=p)throw a("Reduce of empty array with no initial value")}for(;t?p>=0:u>p;p+=g)p in c&&(h=i(h,c[p],p,d));return h}};t.exports={left:l(!1),right:l(!0)}},41589:function(t,e,i){var s=i(51400),o=i(26244),r=i(86135),n=Array,a=Math.max;t.exports=function(t,e,i){for(var l=o(t),h=s(e,l),d=s(void 0===i?l:i,l),c=n(a(d-h,0)),u=0;h<d;h++,u++)r(c,u,t[h]);return c.length=u,c}},77475:function(t,e,i){var s=i(43157),o=i(4411),r=i(70111),n=i(5112),a=n("species"),l=Array;t.exports=function(t){var e;return s(t)&&(e=t.constructor,o(e)&&(e===l||s(e.prototype))?e=void 0:r(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?l:e}},65417:function(t,e,i){var s=i(77475);t.exports=function(t,e){return new(s(t))(0===e?0:e)}},21843:function(t,e,i){var s=i(26244);t.exports=function(t,e){for(var i=s(t),o=new e(i),r=0;r<i;r++)o[r]=t[i-r-1];return o}},11572:function(t,e,i){var s=i(26244),o=i(19303),r=RangeError;t.exports=function(t,e,i,n){var a=s(t),l=o(i),h=l<0?a+l:l;if(h>=a||h<0)throw r("Incorrect index");for(var d=new e(a),c=0;c<a;c++)d[c]=c===h?n:t[c];return d}},17072:function(t,e,i){var s=i(5112),o=s("iterator"),r=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){r=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var s={};s[o]=function(){return{next:function(){return{done:i=!0}}}},t(s)}catch(l){}return i}},29320:function(t,e,i){"use strict";var s=i(1702),o=i(89190),r=i(62423).getWeakData,n=i(19670),a=i(70111),l=i(25787),h=i(20408),d=i(42092),c=i(92597),u=i(29909),p=u.set,g=u.getterFor,m=d.find,f=d.findIndex,v=s([].splice),y=0,b=function(t){return t.frozen||(t.frozen=new _)},_=function(){this.entries=[]},S=function(t,e){return m(t.entries,(function(t){return t[0]===e}))};_.prototype={get:function(t){var e=S(this,t);if(e)return e[1]},has:function(t){return!!S(this,t)},set:function(t,e){var i=S(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=f(this.entries,(function(e){return e[0]===t}));return~e&&v(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,i,s){var d=t((function(t,o){l(t,u),p(t,{type:e,id:y++,frozen:void 0}),void 0!=o&&h(o,t[s],{that:t,AS_ENTRIES:i})})),u=d.prototype,m=g(e),f=function(t,e,i){var s=m(t),o=r(n(e),!0);return!0===o?b(s).set(e,i):o[s.id]=i,t};return o(u,{delete:function(t){var e=m(this);if(!a(t))return!1;var i=r(t);return!0===i?b(e)["delete"](t):i&&c(i,e.id)&&delete i[e.id]},has:function(t){var e=m(this);if(!a(t))return!1;var i=r(t);return!0===i?b(e).has(t):i&&c(i,e.id)}}),o(u,i?{get:function(t){var e=m(this);if(a(t)){var i=r(t);return!0===i?b(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return f(this,t,e)}}:{add:function(t){return f(this,t,!0)}}),d}}},77710:function(t,e,i){"use strict";var s=i(82109),o=i(17854),r=i(1702),n=i(54705),a=i(98052),l=i(62423),h=i(20408),d=i(25787),c=i(60614),u=i(70111),p=i(47293),g=i(17072),m=i(58003),f=i(79587);t.exports=function(t,e,i){var v=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),b=v?"set":"add",_=o[t],S=_&&_.prototype,w=_,x={},C=function(t){var e=r(S[t]);a(S,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!u(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!u(t))&&e(this,0===t?0:t)}:function(t,i){return e(this,0===t?0:t,i),this})},k=n(t,!c(_)||!(y||S.forEach&&!p((function(){(new _).entries().next()}))));if(k)w=i.getConstructor(e,t,v,b),l.enable();else if(n(t,!0)){var T=new w,M=T[b](y?{}:-0,1)!=T,N=p((function(){T.has(1)})),B=g((function(t){new _(t)})),W=!y&&p((function(){var t=new _,e=5;while(e--)t[b](e,e);return!t.has(-0)}));B||(w=e((function(t,e){d(t,S);var i=f(new _,t,w);return void 0!=e&&h(e,i[b],{that:i,AS_ENTRIES:v}),i})),w.prototype=S,S.constructor=w),(N||W)&&(C("delete"),C("has"),v&&C("get")),(W||M)&&C(b),y&&S.clear&&delete S.clear}return x[t]=w,s({global:!0,constructor:!0,forced:w!=_},x),m(w,t),y||i.setStrong(w,t,v),w}},49920:function(t,e,i){var s=i(47293);t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},24994:function(t,e,i){"use strict";var s=i(13383).IteratorPrototype,o=i(70030),r=i(79114),n=i(58003),a=i(97497),l=function(){return this};t.exports=function(t,e,i,h){var d=e+" Iterator";return t.prototype=o(s,{next:r(+!h,i)}),n(t,d,!1,!0),a[d]=l,t}},86135:function(t,e,i){"use strict";var s=i(34948),o=i(3070),r=i(79114);t.exports=function(t,e,i){var n=s(e);n in t?o.f(t,n,r(0,i)):t[n]=i}},89190:function(t,e,i){var s=i(98052);t.exports=function(t,e,i){for(var o in e)s(t,o,e[o],i);return t}},70654:function(t,e,i){"use strict";var s=i(82109),o=i(46916),r=i(31913),n=i(76530),a=i(60614),l=i(24994),h=i(79518),d=i(27674),c=i(58003),u=i(68880),p=i(98052),g=i(5112),m=i(97497),f=i(13383),v=n.PROPER,y=n.CONFIGURABLE,b=f.IteratorPrototype,_=f.BUGGY_SAFARI_ITERATORS,S=g("iterator"),w="keys",x="values",C="entries",k=function(){return this};t.exports=function(t,e,i,n,g,f,T){l(i,e,n);var M,N,B,W=function(t){if(t===g&&R)return R;if(!_&&t in Z)return Z[t];switch(t){case w:return function(){return new i(this,t)};case x:return function(){return new i(this,t)};case C:return function(){return new i(this,t)}}return function(){return new i(this)}},E=e+" Iterator",D=!1,Z=t.prototype,L=Z[S]||Z["@@iterator"]||g&&Z[g],R=!_&&L||W(g),O="Array"==e&&Z.entries||L;if(O&&(M=h(O.call(new t)),M!==Object.prototype&&M.next&&(r||h(M)===b||(d?d(M,b):a(M[S])||p(M,S,k)),c(M,E,!0,!0),r&&(m[E]=k))),v&&g==x&&L&&L.name!==x&&(!r&&y?u(Z,"name",x):(D=!0,R=function(){return o(L,this)})),g)if(N={values:W(x),keys:f?R:W(w),entries:W(C)},T)for(B in N)(_||D||!(B in Z))&&p(Z,B,N[B]);else s({target:e,proto:!0,forced:_||D},N);return r&&!T||Z[S]===R||p(Z,S,R,{name:g}),m[e]=R,N}},48324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:function(t,e,i){var s=i(80317),o=s("span").classList,r=o&&o.constructor&&o.constructor.prototype;t.exports=r===Object.prototype?void 0:r},35268:function(t,e,i){var s=i(84326),o=i(17854);t.exports="process"==s(o.process)},27007:function(t,e,i){"use strict";i(74916);var s=i(1702),o=i(98052),r=i(22261),n=i(47293),a=i(5112),l=i(68880),h=a("species"),d=RegExp.prototype;t.exports=function(t,e,i,c){var u=a(t),p=!n((function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})),g=p&&!n((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[h]=function(){return i},i.flags="",i[u]=/./[u]),i.exec=function(){return e=!0,null},i[u](""),!e}));if(!p||!g||i){var m=s(/./[u]),f=e(u,""[t],(function(t,e,i,o,n){var a=s(t),l=e.exec;return l===r||l===d.exec?p&&!n?{done:!0,value:m(e,i,o)}:{done:!0,value:a(i,e,o)}:{done:!1}}));o(String.prototype,t,f[0]),o(d,u,f[1])}c&&l(d[u],"sham",!0)}},76677:function(t,e,i){var s=i(47293);t.exports=!s((function(){return Object.isExtensible(Object.preventExtensions({}))}))},49974:function(t,e,i){var s=i(1702),o=i(19662),r=i(34374),n=s(s.bind);t.exports=function(t,e){return o(t),void 0===e?t:r?n(t,e):function(){return t.apply(e,arguments)}}},71246:function(t,e,i){var s=i(70648),o=i(58173),r=i(97497),n=i(5112),a=n("iterator");t.exports=function(t){if(void 0!=t)return o(t,a)||o(t,"@@iterator")||r[s(t)]}},18554:function(t,e,i){var s=i(46916),o=i(19662),r=i(19670),n=i(66330),a=i(71246),l=TypeError;t.exports=function(t,e){var i=arguments.length<2?a(t):e;if(o(i))return r(s(i,t));throw l(n(t)+" is not iterable")}},10647:function(t,e,i){var s=i(1702),o=i(47908),r=Math.floor,n=s("".charAt),a=s("".replace),l=s("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,s,c,u){var p=i+t.length,g=s.length,m=d;return void 0!==c&&(c=o(c),m=h),a(u,m,(function(o,a){var h;switch(n(a,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,i);case"'":return l(e,p);case"<":h=c[l(a,1,-1)];break;default:var d=+a;if(0===d)return o;if(d>g){var u=r(d/10);return 0===u?o:u<=g?void 0===s[u-1]?n(a,1):s[u-1]+n(a,1):o}h=s[d-1]}return void 0===h?"":h}))}},60490:function(t,e,i){var s=i(35005);t.exports=s("document","documentElement")},62423:function(t,e,i){var s=i(82109),o=i(1702),r=i(3501),n=i(70111),a=i(92597),l=i(3070).f,h=i(8006),d=i(1156),c=i(52050),u=i(69711),p=i(76677),g=!1,m=u("meta"),f=0,v=function(t){l(t,m,{value:{objectID:"O"+f++,weakData:{}}})},y=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,m)){if(!c(t))return"F";if(!e)return"E";v(t)}return t[m].objectID},b=function(t,e){if(!a(t,m)){if(!c(t))return!0;if(!e)return!1;v(t)}return t[m].weakData},_=function(t){return p&&g&&c(t)&&!a(t,m)&&v(t),t},S=function(){w.enable=function(){},g=!0;var t=h.f,e=o([].splice),i={};i[m]=1,t(i).length&&(h.f=function(i){for(var s=t(i),o=0,r=s.length;o<r;o++)if(s[o]===m){e(s,o,1);break}return s},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},w=t.exports={enable:S,fastKey:y,getWeakData:b,onFreeze:_};r[m]=!0},97659:function(t,e,i){var s=i(5112),o=i(97497),r=s("iterator"),n=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||n[r]===t)}},43157:function(t,e,i){var s=i(84326);t.exports=Array.isArray||function(t){return"Array"==s(t)}},4411:function(t,e,i){var s=i(1702),o=i(47293),r=i(60614),n=i(70648),a=i(35005),l=i(42788),h=function(){},d=[],c=a("Reflect","construct"),u=/^\s*(?:class|function)\b/,p=s(u.exec),g=!u.exec(h),m=function(t){if(!r(t))return!1;try{return c(h,d,t),!0}catch(e){return!1}},f=function(t){if(!r(t))return!1;switch(n(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(u,l(t))}catch(e){return!0}};f.sham=!0,t.exports=!c||o((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?f:m},20408:function(t,e,i){var s=i(49974),o=i(46916),r=i(19670),n=i(66330),a=i(97659),l=i(26244),h=i(47976),d=i(18554),c=i(71246),u=i(99212),p=TypeError,g=function(t,e){this.stopped=t,this.result=e},m=g.prototype;t.exports=function(t,e,i){var f,v,y,b,_,S,w,x=i&&i.that,C=!(!i||!i.AS_ENTRIES),k=!(!i||!i.IS_ITERATOR),T=!(!i||!i.INTERRUPTED),M=s(e,x),N=function(t){return f&&u(f,"normal",t),new g(!0,t)},B=function(t){return C?(r(t),T?M(t[0],t[1],N):M(t[0],t[1])):T?M(t,N):M(t)};if(k)f=t;else{if(v=c(t),!v)throw p(n(t)+" is not iterable");if(a(v)){for(y=0,b=l(t);b>y;y++)if(_=B(t[y]),_&&h(m,_))return _;return new g(!1)}f=d(t,v)}S=f.next;while(!(w=o(S,f)).done){try{_=B(w.value)}catch(W){u(f,"throw",W)}if("object"==typeof _&&_&&h(m,_))return _}return new g(!1)}},99212:function(t,e,i){var s=i(46916),o=i(19670),r=i(58173);t.exports=function(t,e,i){var n,a;o(t);try{if(n=r(t,"return"),!n){if("throw"===e)throw i;return i}n=s(n,t)}catch(l){a=!0,n=l}if("throw"===e)throw i;if(a)throw n;return o(n),i}},13383:function(t,e,i){"use strict";var s,o,r,n=i(47293),a=i(60614),l=i(70030),h=i(79518),d=i(98052),c=i(5112),u=i(31913),p=c("iterator"),g=!1;[].keys&&(r=[].keys(),"next"in r?(o=h(h(r)),o!==Object.prototype&&(s=o)):g=!0);var m=void 0==s||n((function(){var t={};return s[p].call(t)!==t}));m?s={}:u&&(s=l(s)),a(s[p])||d(s,p,(function(){return this})),t.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:g}},97497:function(t){t.exports={}},83009:function(t,e,i){var s=i(17854),o=i(47293),r=i(1702),n=i(41340),a=i(53111).trim,l=i(81361),h=s.parseInt,d=s.Symbol,c=d&&d.iterator,u=/^[+-]?0x/i,p=r(u.exec),g=8!==h(l+"08")||22!==h(l+"0x16")||c&&!o((function(){h(Object(c))}));t.exports=g?function(t,e){var i=a(n(t));return h(i,e>>>0||(p(u,i)?16:10))}:h},21574:function(t,e,i){"use strict";var s=i(19781),o=i(1702),r=i(46916),n=i(47293),a=i(81956),l=i(25181),h=i(55296),d=i(47908),c=i(68361),u=Object.assign,p=Object.defineProperty,g=o([].concat);t.exports=!u||n((function(){if(s&&1!==u({b:1},u(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach((function(t){e[t]=t})),7!=u({},t)[i]||a(u({},e)).join("")!=o}))?function(t,e){var i=d(t),o=arguments.length,n=1,u=l.f,p=h.f;while(o>n){var m,f=c(arguments[n++]),v=u?g(a(f),u(f)):a(f),y=v.length,b=0;while(y>b)m=v[b++],s&&!r(p,f,m)||(i[m]=f[m])}return i}:u},70030:function(t,e,i){var s,o=i(19670),r=i(36048),n=i(80748),a=i(3501),l=i(60490),h=i(80317),d=i(6200),c=">",u="<",p="prototype",g="script",m=d("IE_PROTO"),f=function(){},v=function(t){return u+g+c+t+u+"/"+g+c},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=h("iframe"),i="java"+g+":";return e.style.display="none",l.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},_=function(){try{s=new ActiveXObject("htmlfile")}catch(e){}_="undefined"!=typeof document?document.domain&&s?y(s):b():y(s);var t=n.length;while(t--)delete _[p][n[t]];return _()};a[m]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(f[p]=o(t),i=new f,f[p]=null,i[m]=t):i=_(),void 0===e?i:r.f(i,e)}},36048:function(t,e,i){var s=i(19781),o=i(3353),r=i(3070),n=i(19670),a=i(45656),l=i(81956);e.f=s&&!o?Object.defineProperties:function(t,e){n(t);var i,s=a(e),o=l(e),h=o.length,d=0;while(h>d)r.f(t,i=o[d++],s[i]);return t}},1156:function(t,e,i){var s=i(84326),o=i(45656),r=i(8006).f,n=i(41589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return r(t)}catch(e){return n(a)}};t.exports.f=function(t){return a&&"Window"==s(t)?l(t):r(o(t))}},79518:function(t,e,i){var s=i(92597),o=i(60614),r=i(47908),n=i(6200),a=i(49920),l=n("IE_PROTO"),h=Object,d=h.prototype;t.exports=a?h.getPrototypeOf:function(t){var e=r(t);if(s(e,l))return e[l];var i=e.constructor;return o(i)&&e instanceof i?i.prototype:e instanceof h?d:null}},52050:function(t,e,i){var s=i(47293),o=i(70111),r=i(84326),n=i(7556),a=Object.isExtensible,l=s((function(){a(1)}));t.exports=l||n?function(t){return!!o(t)&&((!n||"ArrayBuffer"!=r(t))&&(!a||a(t)))}:a},81956:function(t,e,i){var s=i(16324),o=i(80748);t.exports=Object.keys||function(t){return s(t,o)}},90288:function(t,e,i){"use strict";var s=i(51694),o=i(70648);t.exports=s?{}.toString:function(){return"[object "+o(this)+"]"}},97651:function(t,e,i){var s=i(46916),o=i(19670),r=i(60614),n=i(84326),a=i(22261),l=TypeError;t.exports=function(t,e){var i=t.exec;if(r(i)){var h=s(i,t,e);return null!==h&&o(h),h}if("RegExp"===n(t))return s(a,t,e);throw l("RegExp#exec called on incompatible receiver")}},22261:function(t,e,i){"use strict";var s=i(46916),o=i(1702),r=i(41340),n=i(67066),a=i(52999),l=i(72309),h=i(70030),d=i(29909).get,c=i(9441),u=i(38173),p=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,f=o("".charAt),v=o("".indexOf),y=o("".replace),b=o("".slice),_=function(){var t=/a/,e=/b*/g;return s(g,t,"a"),s(g,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),S=a.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],x=_||w||S||c||u;x&&(m=function(t){var e,i,o,a,l,c,u,x=this,C=d(x),k=r(t),T=C.raw;if(T)return T.lastIndex=x.lastIndex,e=s(m,T,k),x.lastIndex=T.lastIndex,e;var M=C.groups,N=S&&x.sticky,B=s(n,x),W=x.source,E=0,D=k;if(N&&(B=y(B,"y",""),-1===v(B,"g")&&(B+="g"),D=b(k,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==f(k,x.lastIndex-1))&&(W="(?: "+W+")",D=" "+D,E++),i=new RegExp("^(?:"+W+")",B)),w&&(i=new RegExp("^"+W+"$(?!\\s)",B)),_&&(o=x.lastIndex),a=s(g,N?i:x,D),N?a?(a.input=b(a.input,E),a[0]=b(a[0],E),a.index=x.lastIndex,x.lastIndex+=a[0].length):x.lastIndex=0:_&&a&&(x.lastIndex=x.global?a.index+a[0].length:o),w&&a&&a.length>1&&s(p,a[0],i,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&M)for(a.groups=c=h(null),l=0;l<M.length;l++)u=M[l],c[u[0]]=a[u[1]];return a}),t.exports=m},67066:function(t,e,i){"use strict";var s=i(19670);t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},52999:function(t,e,i){var s=i(47293),o=i(17854),r=o.RegExp,n=s((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=n||s((function(){return!r("a","y").sticky})),l=n||s((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:n}},9441:function(t,e,i){var s=i(47293),o=i(17854),r=o.RegExp;t.exports=s((function(){var t=r(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},38173:function(t,e,i){var s=i(47293),o=i(17854),r=o.RegExp;t.exports=s((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},58003:function(t,e,i){var s=i(3070).f,o=i(92597),r=i(5112),n=r("toStringTag");t.exports=function(t,e,i){t&&!i&&(t=t.prototype),t&&!o(t,n)&&s(t,n,{configurable:!0,value:e})}},28710:function(t,e,i){var s=i(1702),o=i(19303),r=i(41340),n=i(84488),a=s("".charAt),l=s("".charCodeAt),h=s("".slice),d=function(t){return function(e,i){var s,d,c=r(n(e)),u=o(i),p=c.length;return u<0||u>=p?t?"":void 0:(s=l(c,u),s<55296||s>56319||u+1===p||(d=l(c,u+1))<56320||d>57343?t?a(c,u):s:t?h(c,u,u+2):d-56320+(s-55296<<10)+65536)}};t.exports={codeAt:d(!1),charAt:d(!0)}},53111:function(t,e,i){var s=i(1702),o=i(84488),r=i(41340),n=i(81361),a=s("".replace),l="["+n+"]",h=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),c=function(t){return function(e){var i=r(o(e));return 1&t&&(i=a(i,h,"")),2&t&&(i=a(i,d,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},84590:function(t,e,i){var s=i(73002),o=RangeError;t.exports=function(t,e){var i=s(t);if(i%e)throw o("Wrong offset");return i}},73002:function(t,e,i){var s=i(19303),o=RangeError;t.exports=function(t){var e=s(t);if(e<0)throw o("The argument can't be less than 0");return e}},81361:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},57327:function(t,e,i){"use strict";var s=i(82109),o=i(42092).filter,r=i(81194),n=r("filter");s({target:"Array",proto:!0,forced:!n},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},66992:function(t,e,i){"use strict";var s=i(45656),o=i(51223),r=i(97497),n=i(29909),a=i(3070).f,l=i(70654),h=i(31913),d=i(19781),c="Array Iterator",u=n.set,p=n.getterFor(c);t.exports=l(Array,"Array",(function(t,e){u(this,{type:c,target:s(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,i=t.kind,s=t.index++;return!e||s>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:s,done:!1}:"values"==i?{value:e[s],done:!1}:{value:[s,e[s]],done:!1}}),"values");var g=r.Arguments=r.Array;if(o("keys"),o("values"),o("entries"),!h&&d&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(m){}},85827:function(t,e,i){"use strict";var s=i(82109),o=i(53671).left,r=i(9341),n=i(7392),a=i(35268),l=r("reduce"),h=!a&&n>79&&n<83;s({target:"Array",proto:!0,forced:!l||h},{reduce:function(t){var e=arguments.length;return o(this,t,e,e>1?arguments[1]:void 0)}})},68309:function(t,e,i){var s=i(19781),o=i(76530).EXISTS,r=i(1702),n=i(3070).f,a=Function.prototype,l=r(a.toString),h=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=r(h.exec),c="name";s&&!o&&n(a,c,{configurable:!0,get:function(){try{return d(h,l(this))[1]}catch(t){return""}}})},19601:function(t,e,i){var s=i(82109),o=i(21574);s({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},41539:function(t,e,i){var s=i(51694),o=i(98052),r=i(90288);s||o(Object.prototype,"toString",r,{unsafe:!0})},91058:function(t,e,i){var s=i(82109),o=i(83009);s({global:!0,forced:parseInt!=o},{parseInt:o})},74916:function(t,e,i){"use strict";var s=i(82109),o=i(22261);s({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},78783:function(t,e,i){"use strict";var s=i(28710).charAt,o=i(41340),r=i(29909),n=i(70654),a="String Iterator",l=r.set,h=r.getterFor(a);n(String,"String",(function(t){l(this,{type:a,string:o(t),index:0})}),(function(){var t,e=h(this),i=e.string,o=e.index;return o>=i.length?{value:void 0,done:!0}:(t=s(i,o),e.index+=t.length,{value:t,done:!1})}))},4723:function(t,e,i){"use strict";var s=i(46916),o=i(27007),r=i(19670),n=i(17466),a=i(41340),l=i(84488),h=i(58173),d=i(31530),c=i(97651);o("match",(function(t,e,i){return[function(e){var i=l(this),o=void 0==e?void 0:h(e,t);return o?s(o,e,i):new RegExp(e)[t](a(i))},function(t){var s=r(this),o=a(t),l=i(e,s,o);if(l.done)return l.value;if(!s.global)return c(s,o);var h=s.unicode;s.lastIndex=0;var u,p=[],g=0;while(null!==(u=c(s,o))){var m=a(u[0]);p[g]=m,""===m&&(s.lastIndex=d(o,n(s.lastIndex),h)),g++}return 0===g?null:p}]}))},15306:function(t,e,i){"use strict";var s=i(22104),o=i(46916),r=i(1702),n=i(27007),a=i(47293),l=i(19670),h=i(60614),d=i(19303),c=i(17466),u=i(41340),p=i(84488),g=i(31530),m=i(58173),f=i(10647),v=i(97651),y=i(5112),b=y("replace"),_=Math.max,S=Math.min,w=r([].concat),x=r([].push),C=r("".indexOf),k=r("".slice),T=function(t){return void 0===t?t:String(t)},M=function(){return"$0"==="a".replace(/./,"$0")}(),N=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),B=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));n("replace",(function(t,e,i){var r=N?"$":"$0";return[function(t,i){var s=p(this),r=void 0==t?void 0:m(t,b);return r?o(r,t,s,i):o(e,u(s),t,i)},function(t,o){var n=l(this),a=u(t);if("string"==typeof o&&-1===C(o,r)&&-1===C(o,"$<")){var p=i(e,n,a,o);if(p.done)return p.value}var m=h(o);m||(o=u(o));var y=n.global;if(y){var b=n.unicode;n.lastIndex=0}var M=[];while(1){var N=v(n,a);if(null===N)break;if(x(M,N),!y)break;var B=u(N[0]);""===B&&(n.lastIndex=g(a,c(n.lastIndex),b))}for(var W="",E=0,D=0;D<M.length;D++){N=M[D];for(var Z=u(N[0]),L=_(S(d(N.index),a.length),0),R=[],O=1;O<N.length;O++)x(R,T(N[O]));var A=N.groups;if(m){var P=w([Z],R,L,a);void 0!==A&&x(P,A);var V=u(s(o,void 0,P))}else V=f(Z,a,L,R,A,o);L>=E&&(W+=k(a,E,L)+V,E=L+Z.length)}return W+k(a,E)}]}),!B||!M||N)},48675:function(t,e,i){"use strict";var s=i(90260),o=i(26244),r=i(19303),n=s.aTypedArray,a=s.exportTypedArrayMethod;a("at",(function(t){var e=n(this),i=o(e),s=r(t),a=s>=0?s:i+s;return a<0||a>=i?void 0:e[a]}))},3462:function(t,e,i){"use strict";var s=i(17854),o=i(46916),r=i(90260),n=i(26244),a=i(84590),l=i(47908),h=i(47293),d=s.RangeError,c=s.Int8Array,u=c&&c.prototype,p=u&&u.set,g=r.aTypedArray,m=r.exportTypedArrayMethod,f=!h((function(){var t=new Uint8ClampedArray(2);return o(p,t,{length:1,0:3},1),3!==t[1]})),v=f&&r.NATIVE_ARRAY_BUFFER_VIEWS&&h((function(){var t=new c(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));m("set",(function(t){g(this);var e=a(arguments.length>1?arguments[1]:void 0,1),i=l(t);if(f)return o(p,this,i,e);var s=this.length,r=n(i),h=0;if(r+e>s)throw d("Wrong length");while(h<r)this[e+h]=i[h++]}),!f||v)},41202:function(t,e,i){"use strict";var s,o=i(17854),r=i(1702),n=i(89190),a=i(62423),l=i(77710),h=i(29320),d=i(70111),c=i(52050),u=i(29909).enforce,p=i(68536),g=!o.ActiveXObject&&"ActiveXObject"in o,m=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},f=l("WeakMap",m,h);if(p&&g){s=h.getConstructor(m,"WeakMap",!0),a.enable();var v=f.prototype,y=r(v["delete"]),b=r(v.has),_=r(v.get),S=r(v.set);n(v,{delete:function(t){if(d(t)&&!c(t)){var e=u(this);return e.frozen||(e.frozen=new s),y(this,t)||e.frozen["delete"](t)}return y(this,t)},has:function(t){if(d(t)&&!c(t)){var e=u(this);return e.frozen||(e.frozen=new s),b(this,t)||e.frozen.has(t)}return b(this,t)},get:function(t){if(d(t)&&!c(t)){var e=u(this);return e.frozen||(e.frozen=new s),b(this,t)?_(this,t):e.frozen.get(t)}return _(this,t)},set:function(t,e){if(d(t)&&!c(t)){var i=u(this);i.frozen||(i.frozen=new s),b(this,t)?S(this,t,e):i.frozen.set(t,e)}else S(this,t,e);return this}})}},4129:function(t,e,i){i(41202)},1118:function(t,e,i){"use strict";var s=i(90260),o=i(9671).findLastIndex,r=s.aTypedArray,n=s.exportTypedArrayMethod;n("findLastIndex",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},37380:function(t,e,i){"use strict";var s=i(90260),o=i(9671).findLast,r=s.aTypedArray,n=s.exportTypedArrayMethod;n("findLast",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},23767:function(t,e,i){"use strict";var s=i(21843),o=i(90260),r=o.aTypedArray,n=o.exportTypedArrayMethod,a=o.TYPED_ARRAY_CONSTRUCTOR;n("toReversed",(function(){return s(r(this),this[a])}))},8585:function(t,e,i){"use strict";var s=i(90260),o=i(1702),r=i(19662),n=i(97745),a=s.aTypedArray,l=s.exportTypedArrayMethod,h=s.TYPED_ARRAY_CONSTRUCTOR,d=o(s.TypedArrayPrototype.sort);l("toSorted",(function(t){void 0!==t&&r(t);var e=a(this),i=n(e[h],e);return d(i,t)}))},68696:function(t,e,i){"use strict";var s=i(11572),o=i(90260),r=o.aTypedArray,n=o.exportTypedArrayMethod,a=o.TYPED_ARRAY_CONSTRUCTOR;n("with",{with:function(t,e){return s(r(this),this[a],t,e)}}["with"])},54747:function(t,e,i){var s=i(17854),o=i(48324),r=i(98509),n=i(18533),a=i(68880),l=function(t){if(t&&t.forEach!==n)try{a(t,"forEach",n)}catch(e){t.forEach=n}};for(var h in o)o[h]&&l(s[h]&&s[h].prototype);l(r)},33948:function(t,e,i){var s=i(17854),o=i(48324),r=i(98509),n=i(66992),a=i(68880),l=i(5112),h=l("iterator"),d=l("toStringTag"),c=n.values,u=function(t,e){if(t){if(t[h]!==c)try{a(t,h,c)}catch(s){t[h]=c}if(t[d]||a(t,d,e),o[e])for(var i in n)if(t[i]!==n[i])try{a(t,i,n[i])}catch(s){t[i]=n[i]}}};for(var p in o)u(s[p]&&s[p].prototype,p);u(r,"DOMTokenList")},91296:function(t,e,i){var s="Expected a function",o=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,u="object"==typeof self&&self&&self.Object===Object&&self,p=c||u||Function("return this")(),g=Object.prototype,m=g.toString,f=Math.max,v=Math.min,y=function(){return p.Date.now()};function b(t,e,i){var o,r,n,a,l,h,d=0,c=!1,u=!1,p=!0;if("function"!=typeof t)throw new TypeError(s);function g(e){var i=o,s=r;return o=r=void 0,d=e,a=t.apply(s,i),a}function m(t){return d=t,l=setTimeout(w,e),c?g(t):a}function b(t){var i=t-h,s=t-d,o=e-i;return u?v(o,n-s):o}function S(t){var i=t-h,s=t-d;return void 0===h||i>=e||i<0||u&&s>=n}function w(){var t=y();if(S(t))return C(t);l=setTimeout(w,b(t))}function C(t){return l=void 0,p&&o?g(t):(o=r=void 0,a)}function k(){void 0!==l&&clearTimeout(l),d=0,o=h=r=l=void 0}function T(){return void 0===l?a:C(y())}function M(){var t=y(),i=S(t);if(o=arguments,r=this,h=t,i){if(void 0===l)return m(h);if(u)return l=setTimeout(w,e),g(h)}return void 0===l&&(l=setTimeout(w,e)),a}return e=x(e)||0,_(i)&&(c=!!i.leading,u="maxWait"in i,n=u?f(x(i.maxWait)||0,e):n,p="trailing"in i?!!i.trailing:p),M.cancel=k,M.flush=T,M}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function S(t){return!!t&&"object"==typeof t}function w(t){return"symbol"==typeof t||S(t)&&m.call(t)==r}function x(t){if("number"==typeof t)return t;if(w(t))return o;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var i=l.test(t);return i||h.test(t)?d(t.slice(2),i?2:8):a.test(t)?o:+t}t.exports=b},20773:function(t,e,i){var s="Expected a function",o="__lodash_hash_undefined__",r="[object Function]",n="[object GeneratorFunction]",a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,h="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,d="object"==typeof self&&self&&self.Object===Object&&self,c=h||d||Function("return this")();function u(t,e){return null==t?void 0:t[e]}function p(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(i){}return e}var g=Array.prototype,m=Function.prototype,f=Object.prototype,v=c["__core-js_shared__"],y=function(){var t=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),b=m.toString,_=f.hasOwnProperty,S=f.toString,w=RegExp("^"+b.call(_).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=g.splice,C=Y(c,"Map"),k=Y(Object,"create");function T(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var s=t[e];this.set(s[0],s[1])}}function M(){this.__data__=k?k(null):{}}function N(t){return this.has(t)&&delete this.__data__[t]}function B(t){var e=this.__data__;if(k){var i=e[t];return i===o?void 0:i}return _.call(e,t)?e[t]:void 0}function W(t){var e=this.__data__;return k?void 0!==e[t]:_.call(e,t)}function E(t,e){var i=this.__data__;return i[t]=k&&void 0===e?o:e,this}function D(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var s=t[e];this.set(s[0],s[1])}}function Z(){this.__data__=[]}function L(t){var e=this.__data__,i=U(e,t);if(i<0)return!1;var s=e.length-1;return i==s?e.pop():x.call(e,i,1),!0}function R(t){var e=this.__data__,i=U(e,t);return i<0?void 0:e[i][1]}function O(t){return U(this.__data__,t)>-1}function A(t,e){var i=this.__data__,s=U(i,t);return s<0?i.push([t,e]):i[s][1]=e,this}function P(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var s=t[e];this.set(s[0],s[1])}}function V(){this.__data__={hash:new T,map:new(C||D),string:new T}}function I(t){return G(this,t)["delete"](t)}function z(t){return G(this,t).get(t)}function F(t){return G(this,t).has(t)}function $(t,e){return G(this,t).set(t,e),this}function U(t,e){var i=t.length;while(i--)if(K(t[i][0],e))return i;return-1}function H(t){if(!tt(t)||j(t))return!1;var e=J(t)||p(t)?w:l;return e.test(q(t))}function G(t,e){var i=t.__data__;return X(e)?i["string"==typeof e?"string":"hash"]:i.map}function Y(t,e){var i=u(t,e);return H(i)?i:void 0}function X(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function j(t){return!!y&&y in t}function q(t){if(null!=t){try{return b.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Q(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(s);var i=function(){var s=arguments,o=e?e.apply(this,s):s[0],r=i.cache;if(r.has(o))return r.get(o);var n=t.apply(this,s);return i.cache=r.set(o,n),n};return i.cache=new(Q.Cache||P),i}function K(t,e){return t===e||t!==t&&e!==e}function J(t){var e=tt(t)?S.call(t):"";return e==r||e==n}function tt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}T.prototype.clear=M,T.prototype["delete"]=N,T.prototype.get=B,T.prototype.has=W,T.prototype.set=E,D.prototype.clear=Z,D.prototype["delete"]=L,D.prototype.get=R,D.prototype.has=O,D.prototype.set=A,P.prototype.clear=V,P.prototype["delete"]=I,P.prototype.get=z,P.prototype.has=F,P.prototype.set=$,Q.Cache=P,t.exports=Q},93096:function(t,e,i){var s="Expected a function",o=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,u="object"==typeof self&&self&&self.Object===Object&&self,p=c||u||Function("return this")(),g=Object.prototype,m=g.toString,f=Math.max,v=Math.min,y=function(){return p.Date.now()};function b(t,e,i){var o,r,n,a,l,h,d=0,c=!1,u=!1,p=!0;if("function"!=typeof t)throw new TypeError(s);function g(e){var i=o,s=r;return o=r=void 0,d=e,a=t.apply(s,i),a}function m(t){return d=t,l=setTimeout(w,e),c?g(t):a}function b(t){var i=t-h,s=t-d,o=e-i;return u?v(o,n-s):o}function _(t){var i=t-h,s=t-d;return void 0===h||i>=e||i<0||u&&s>=n}function w(){var t=y();if(_(t))return x(t);l=setTimeout(w,b(t))}function x(t){return l=void 0,p&&o?g(t):(o=r=void 0,a)}function k(){void 0!==l&&clearTimeout(l),d=0,o=h=r=l=void 0}function T(){return void 0===l?a:x(y())}function M(){var t=y(),i=_(t);if(o=arguments,r=this,h=t,i){if(void 0===l)return m(h);if(u)return l=setTimeout(w,e),g(h)}return void 0===l&&(l=setTimeout(w,e)),a}return e=C(e)||0,S(i)&&(c=!!i.leading,u="maxWait"in i,n=u?f(C(i.maxWait)||0,e):n,p="trailing"in i?!!i.trailing:p),M.cancel=k,M.flush=T,M}function _(t,e,i){var o=!0,r=!0;if("function"!=typeof t)throw new TypeError(s);return S(i)&&(o="leading"in i?!!i.leading:o,r="trailing"in i?!!i.trailing:r),b(t,e,{leading:o,maxWait:e,trailing:r})}function S(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||w(t)&&m.call(t)==r}function C(t){if("number"==typeof t)return t;if(x(t))return o;if(S(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=S(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var i=l.test(t);return i||h.test(t)?d(t.slice(2),i?2:8):a.test(t)?o:+t}t.exports=_},88797:function(t,e,i){"use strict";i.d(e,{Z:function(){return n}});var s=i(59344),o=i(33963),r=i(768);class n extends r.Z{constructor(){super(),this._inverse={slideLeft:"slideRight",slideRight:"slideLeft",slideUp:"slideDown",slideDown:"slideUp",fadeIn:"fadeOut",fadeOut:"fadeInt",rotateInTopLeft:"rotateOutTopLeft",zoomIn:"zoomInInverse",slideLeftUp:"slideLeftUpInverse",slideLeftDown:"slideLeftDownInverse",slideRightDown:"slideRightDownInverse",slideRightUp:"slideRightUpInverse"},this._inverseEasing={easeElasticIn:"easeElasticOut",easeElasticOut:"easeElasticIn",easeBounceIn:"easeBounceOut",easeBounceOut:"easeBounceIn"},this._colorAttribs={color:!0,background:!0,borderTopColor:!0,borderBottomColor:!0,borderRightColor:!0,borderLeftColor:!0,caretBackground:!0,caretColor:!0,barColor:!0,handleColor:!0,handleBorderColor:!0,borderColorButton:!0,colorForeGround:!0,colorButton:!0,selectedBackground:!0,selectedColor:!0,tableHeaderColor:!0,tableHeaderBackground:!0,weekdayBackground:!0,weekendBackground:!0,weekdayColor:!0,weekendColor:!0,headerBackground:!0,headerColor:!0,headerBorderColor:!0,labelColor:!0},this._txtAttribs={textAlign:!0,fontStyle:!0,fontFamily:!0,borderTopStyle:!0,borderBottomStyle:!0,borderRightStyle:!0,borderLeftStyle:!0,textDecoration:!0,fontWeight:!0,backgroundImage:!0,verticalAlign:!0,labelFontWeight:!0,popupBackground:!0,popupBorderColor:!0,popupColor:!0},this._shadowAttribs={boxShadow:!0,testShadow:!0,popupShadow:!0},this._defaultAnimValues={opacity:1,lineHeight:1,letterSpacing:1,textDecoration:"none",fontStyle:"normal",fontWeight:"400"}}getInverseAnimation(t){return this._inverse[t]?this._inverse[t]:null}getInverseEasing(t){return this._inverseEasing[t]?this._inverseEasing[t]:t}getAnimationMixedStyle(t,e,i){var s={};for(var r in e){var n=t[r],a=e[r];if(this._shadowAttribs[r])if(!n&&a&&(n={b:0,c:a.c,h:0,s:0,v:0,i:a.i}),!a&&n&&(a={b:0,c:n.c,h:0,s:0,v:0,i:n.i}),a&&n){var l={b:n.b-(n.b-a.b)*i,h:n.h-(n.h-a.h)*i,v:n.v-(n.v-a.v)*i,s:n.s-(n.s-a.s)*i,c:o.Z.blendColors(new o.Z(n.c),new o.Z(a.c),i),i:a.i};s[r]=l}else console.warn("getAnimationMixedStyle() > No values for "+r);else if(this._colorAttribs[r])if(n&&a&&"transparent"!=a){var h=o.Z.blendColors(new o.Z(n),new o.Z(a),i);h.a<1?s[r]=h.toCss(!0):s[r]=h.toHex()}else s[r]=a;else if(this._txtAttribs[r])!a&&this._defaultAnimValues[r]&&(a=this._defaultAnimValues[r]),s[r]=a;else if("backgroundPosition"==r){var d={top:n.top-(n.top-a.top)*i,left:n.left-(n.left-a.left)*i};s[r]=d}else if("filter"==r)s[r]=this.getMixedFilter(n,a,i);else{isNaN(n)&&(n=this._defaultAnimValues[r]?this._defaultAnimValues[r]:0);var c=n-a;s[r]=n-c*i}}return s}getMixedFilter(t,e,i){if(e&&t){var s={blur:t.blur-(t.blur-e.blur)*i,grayscale:t.grayscale-(t.grayscale-e.grayscale)*i,hueRotate:t.hueRotate-(t.hueRotate-e.hueRotate)*i,opacity:t.opacity-(t.opacity-e.opacity)*i,contrast:t.contrast-(t.contrast-e.contrast)*i,saturate:t.saturate-(t.saturate-e.saturate)*i,brightness:t.brightness-(t.brightness-e.brightness)*i};return s}}getAnimationMixedPos(t,e,i){var s=1-i,o={x:(t.x-e.x)*s,y:(t.y-e.y)*s,w:(t.w-e.w)*s,h:(t.h-e.h)*s};return o}createWidgetAnimation(t,e){var i=this.createAnimation();i.duration=e.duration,i.delay=e.delay,i.event=e,e.easing&&i.setEasing(e.easing);var s=e.from.style,o=e.from.pos,r=e.to.style,n=e.to.pos,a=this;return i.onRender((e=>{if(t)try{if(r){var i=a.getAnimationMixedStyle(s,r,e);t.setAnimatedStyle(i)}if(n&&o){var l=a.getAnimationMixedPos(o,n,e);t.setAnimatedPos(l,i)}}catch(h){console.error("WidgetAnimation.render() >  ",h),console.error("WidgetAnimation.render() >  ",h.stack)}})),i}createAnimationEvent_transformFromParent(t,e,i,s){var o=this._createAnimationBaseEvent(t,e),r=i.widgets[t];if(r){var n=i.widgets[r.animFrom];if(!n){let e=i.widgets[t];s&&e?n=this.getCopyOfLastScreen(i,e,s):console.warn("createAnimationEvent_transformFromParent() > No lastScreen")}if(n){var a=this.getWidgetPostionInScreen(r,i),l=this.getWidgetPostionInScreen(n,i);return a.x==l.x&&a.y==l.y&&a.w==l.w&&a.h==l.h||(o.from.pos=l,o.to.pos=a),this.objectEquals(r.style,n.style)||(o.from.style=n.style,o.to.style=r.style),o}console.warn("createAnimationEvent_transformFromParent() > Old widget does not exits",r)}}getCopyOfLastScreen(t,e,i){for(var s=i.children,o=0;o<s.length;o++){var r=t.widgets[s[o]];if(r.name===e.name)return r}}createAnimationEvent_fadeIn(t,e){var i=this._createAnimationBaseEvent(t,e);return i.to.style={opacity:1},i.from.style={opacity:0},i}createAnimationEvent_slideLeft(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getWidgetPostionInScreen(o,i),n=this.getParentScreen(o,i);n&&(s.to.pos={x:r.x,y:r.y,w:r.w,h:r.h},s.from.pos={x:n.w+r.w,y:r.y,w:r.w,h:r.h},e.offSet&&(s.from.pos.x+=e.offSet.left))}return s}createAnimationEvent_slideRight(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getWidgetPostionInScreen(o,i);s.to.pos={x:r.x,y:r.y,w:r.w,h:r.h},s.from.pos={x:0-r.w,y:r.y,w:r.w,h:r.h},e.offSet&&(s.from.pos.x+=e.offSet.right)}return s}createAnimationEvent_rotate(t,e){var i=this._createAnimationBaseEvent(t,e);return i.to.style={rotate:e.rotate},i.from.style={rotate:0},i}createAnimationEvent_zoomIn(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getWidgetPostionInScreen(o,i);s.to.pos={x:r.x,y:r.y,w:r.w,h:r.h},s.from.pos={x:r.x+r.w/2,y:r.y+r.h/2,w:0,h:0,c:!0}}return s}createAnimationEvent_zoomOut(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getWidgetPostionInScreen(o,i);s.from.pos={x:r.x,y:r.y,w:r.w,h:r.h},s.to.pos={x:r.x,y:r.y,w:0,h:0}}return s}createAnimationEvent_slideUp(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getParentScreen(o,i);if(r){var n=this.getWidgetPostionInScreen(o,i);s.to.pos={x:n.x,y:n.y,w:n.w,h:n.h},s.from.pos={x:n.x,y:r.h+n.h,w:n.w,h:n.h}}e.offSet&&(s.from.pos.y+=e.offSet.top)}return s}createAnimationEvent_slideDown(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getWidgetPostionInScreen(o,i);s.to.pos={x:r.x,y:r.y,w:r.w,h:r.h},s.from.pos={x:r.x,y:0-r.h,w:r.w,h:r.h},e.offSet&&(s.from.pos.y+=e.offSet.bottom)}return s}createAnimationEvent_growRight(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getParentScreen(o,i);if(r){var n=this.getWidgetPostionInScreen(o,i);s.to.pos={x:n.x,y:n.y,w:n.w,h:n.h},s.from.pos={x:n.x,y:n.y,w:0,h:n.h}}}return s}createAnimationEvent_growLeft(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getParentScreen(o,i);if(r){var n=this.getWidgetPostionInScreen(o,i);s.to.pos={x:n.x,y:n.y,w:n.w,h:n.h},s.from.pos={x:n.x+n.w,y:n.y,w:0,h:n.h}}}return s}createAnimationEvent_growUp(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getParentScreen(o,i);if(r){var n=this.getWidgetPostionInScreen(o,i);s.to.pos={x:n.x,y:n.y,w:n.w,h:n.h},s.from.pos={x:n.x,y:n.y+n.h,w:n.w,h:0}}}return s}createAnimationEvent_growDown(t,e,i){var s=this._createAnimationBaseEvent(t,e),o=i.widgets[t];if(o){var r=this.getParentScreen(o,i);if(r){var n=this.getWidgetPostionInScreen(o,i);s.to.pos={x:n.x,y:n.y,w:n.w,h:n.h},s.from.pos={x:n.x,y:n.y,w:n.w,h:0}}}return s}createAnimationEvent_fadeOut(t,e){var i=this._createAnimationBaseEvent(t,e);return i.to.style={opacity:0},i.from.style={opacity:1},i}_createAnimationBaseEvent(t,e){return{duration:e.duration,delay:e.delay,easing:e.easing,from:{style:null,pos:null},to:{style:null,pos:null},id:t}}createScreen_fadeIn(t,e,i,o){i?i.style.opacity=0:e&&(e.style.opacity=0);var r=this.createScreenAnimation(e,i);return r.duration=250,o||r.onFinish(s.Z.hitch(this,"removeScreen",e,i)),r.onRender((function(t){i?i.style.opacity=t:e&&(e.style.opacity=t)})),r}createScreen_fadeOut(t,e,i,o){i?i.style.opacity=1:e&&(e.style.opacity=1);var r=this.createScreenAnimation(e,i);return r.duration=250,o||r.onFinish(s.Z.hitch(this,"removeScreen",e,i)),r.onRender((function(t){i?i.style.opacity=1-t:e&&(e.style.opacity=1-t)})),r}createScreen_slideDown(t,e,i,o){i&&this._set_y(-1*t.h,i);var r=this,n=this.createScreenAnimation(e,i);return n.duration=250,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(s){e&&r._set_y(Math.round(t.h*s),e),i&&r._set_y(-1*Math.round(t.h*(1-s)),i)})),n}createScreen_slideUp(t,e,i,o){i&&this._set_y(t.h,i);var r=this,n=this.createScreenAnimation(e,i);return n.duration=250,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(s){e&&r._set_y(-1*Math.round(t.h*s),e),i&&r._set_y(Math.round(t.h*(1-s)),i)})),n}createScreen_slideLeft(t,e,i,o){i&&this._set_x(t.w,i);var r=this,n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(s){e&&r._set_x(-1*Math.round(t.w*s),e),i&&r._set_x(Math.round(t.w*(1-s)),i)})),n}createScreen_slideRight(t,e,i,o){i&&this._set_x(-1*t.w,i);var r=this,n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(s){e&&r._set_x(Math.round(t.w*s),e),i&&r._set_x(-1*Math.round(t.w*(1-s)),i)})),n}createScreen_rotateInTopLeft(t,e,i,o){var r=-90;i&&(i.style.transform="rotate("+r+"deg)",i.style.webkitTransform="rotate("+r+"deg)",i.style.transformOrigin="0 0",i.style.webkitTransformOrigin="0 0");var n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(t){if(i){var e=r*(1-t),s="rotate("+e+"deg)";i.style.transform=s,i.style.webkitTransform=s}})),n}createScreen_rotateOutTopLeft(t,e,i,o){var r=-90;e&&(e.style.transform="rotate(0deg)",e.style.webkitTransform="rotate(0deg)",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0");var n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(t){if(e){var i=r*t,s="rotate("+i+"deg)";e.style.transform=s,e.style.webkitTransform=s}})),n}createScreen_zoomIn(t,e,i,o){var r=0;i&&(i.style.transform="scale("+r+")",i.style.webkitTransform="scale("+r+")",i.style.transformOrigin="50% 50%",i.style.webkitTransformOrigin="50% 50%");var n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(t){if(i){var e=t,s="scale("+e+")";i.style.transform=s,i.style.webkitTransform=s}})),n}createScreen_zoomInInverse(t,e,i,o){var r=this.createScreenAnimation(e,i);return r.duration=100,o||r.onFinish(s.Z.hitch(this,"removeScreen",e,i)),r.onRender((function(t){if(e){var i=1-t,s="scale("+i+")";e.style.transform=s,e.style.webkitTransform=s}})),r}createScreen_slideLeftDown(t,e,i,o){if(i){var r="translate("+t.w+"px, "+-1*t.h+"px)";i.style.transform=r,i.style.webkitTransform=r}var n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(e){if(i){var s=1-e,o="translate("+Math.round(s*t.w)+"px, "+Math.round(-1*s*t.h)+"px)";i.style.transform=o,i.style.webkitTransform=o}})),n}createScreen_slideLeftDownInverse(t,e,i,o){var r=this.createScreenAnimation(e,i);return r.duration=100,o||r.onFinish(s.Z.hitch(this,"removeScreen",e,i)),r.onRender((function(i){if(e){var s=i,o="translate("+Math.round(s*t.w)+"px, "+Math.round(-1*s*t.h)+"px)";e.style.transform=o,e.style.webkitTransform=o}})),r}createScreen_slideLeftUp(t,e,i,o){if(i){var r="translate("+t.w+"px, "+t.h+"px)";i.style.transform=r,i.style.webkitTransform=r}var n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(e){if(i){var s=1-e,o="translate("+Math.round(s*t.w)+"px, "+Math.round(s*t.h)+"px)";i.style.transform=o,i.style.webkitTransform=o}})),n}createScreen_slideLeftUpInverse(t,e,i,o){var r=this.createScreenAnimation(e,i);return r.duration=100,o||r.onFinish(s.Z.hitch(this,"removeScreen",e,i)),r.onRender((function(i){if(e){var s=i,o="translate("+Math.round(s*t.w)+"px, "+Math.round(s*t.h)+"px)";e.style.transform=o,e.style.webkitTransform=o}})),r}createScreen_slideRightUp(t,e,i,o){if(i){var r="translate("+-1*t.w+"px, "+t.h+"px)";i.style.transform=r,i.style.webkitTransform=r}var n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(e){if(i){var s=1-e,o="translate("+Math.round(-1*s*t.w)+"px, "+Math.round(s*t.h)+"px)";i.style.transform=o,i.style.webkitTransform=o}})),n}createScreen_slideRightUpInverse(t,e,i,o){var r=this.createScreenAnimation(e,i);return r.duration=100,o||r.onFinish(s.Z.hitch(this,"removeScreen",e,i)),r.onRender((function(i){if(e){var s=i,o="translate("+Math.round(-1*s*t.w)+"px, "+Math.round(s*t.h)+"px)";e.style.transform=o,e.style.webkitTransform=o}})),r}createScreen_slideRightDown(t,e,i,o){if(i){var r="translate("+-1*t.w+"px, "+-1*t.h+"px)";i.style.transform=r,i.style.webkitTransform=r}var n=this.createScreenAnimation(e,i);return n.duration=100,o||n.onFinish(s.Z.hitch(this,"removeScreen",e,i)),n.onRender((function(e){if(i){var s=1-e,o="translate("+Math.round(-1*s*t.w)+"px, "+Math.round(-1*s*t.h)+"px)";i.style.transform=o,i.style.webkitTransform=o}})),n}createScreen_slideRightDownInverse(t,e,i,o){var r=this.createScreenAnimation(e,i);return r.duration=100,o||r.onFinish(s.Z.hitch(this,"removeScreen",e,i)),r.onRender((function(i){if(e){var s=i,o="translate("+Math.round(-1*s*t.w)+"px, "+Math.round(-1*s*t.h)+"px)";e.style.transform=o,e.style.webkitTransform=o}})),r}createScreenAnimation(t,e){return this.createAnimation(t,e)}createAnimation(){return{startTime:0,duration:this.defaultAnimationDuration,delay:0,endTime:-1,easing:function(t){return t*(2-t)},finished:!1,setStart:function(t){this.startTime=t},setModel:function(t){this.model=t},setDuration:function(t){this.duration=t},setDelay:function(t){t&&(this.delay=t)},setEasing:function(t){switch(t){case"linear":this.easing=function(t){return t};break;case"easeInQuad":this.easing=function(t){return t*t};break;case"easeOutQuad":this.easing=function(t){return t*(2-t)};break;case"easeInOutQuad":this.easing=function(t){return t<.5?2*t*t:(4-2*t)*t-1};break;case"easeElasticIn":{let t=2*Math.PI,e=1,i=.3,s=Math.asin(1/(e=Math.max(1,e)))*(i/=t);this.easing=function(t){return e*Math.pow(2,10*--t)*Math.sin((s-t)/i)};break}case"easeElasticOut":{let t=2*Math.PI,e=1,i=.3,s=Math.asin(1/(e=Math.max(1,e)))*(i/=t);this.easing=function(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+s)/i)};break}case"easeBounceIn":{let t=4/11,i=6/11,s=8/11,o=3/4,r=9/11,n=10/11,a=15/16,l=21/22,h=63/64,d=1/t/t;var e=function(e){return(e=+e)<t?d*e*e:e<s?d*(e-=i)*e+o:e<n?d*(e-=r)*e+a:d*(e-=l)*e+h};this.easing=function(t){return 1-e(1-t)};break}case"easeBounceOut":{let t=4/11,e=6/11,i=8/11,s=3/4,o=9/11,r=10/11,n=15/16,a=21/22,l=63/64,h=1/t/t;this.easing=function(d){return(d=+d)<t?h*d*d:d<i?h*(d-=e)*d+s:d<r?h*(d-=o)*d+n:h*(d-=a)*d+l};break}default:console.warn("setEasing() > Not implemented",t);break}},onFinish(t){this.finishCallback=t},stop(){this.finished=!0},onEnd(t){this.endCallback=t},onStep(t){this.stepCallback=t},onRender(t){this.renderCallback=t},isDelayed(){this.renderCallback&&this.renderCallback(0)},setP(t){this.lastP=t,this.easing&&(t=this.easing(t)),this.renderCallback&&this.renderCallback(t)},cont(){var t=(new Date).getTime();this.startTime=t-Math.round(this.duration*this.lastP),this.run()},getP(t,e,i){var s=0;return t>e&&(s=Math.min(1,(t-e)/i)),this.easing&&(s=this.easing(s)),Math.min(1,s)},time(t){var e=Math.max(0,t-this.startTime),i=this.getP(e,this.delay,this.duration);this.renderCallback&&this.renderCallback(i),1!=i||this.finished||(this.endCallback&&this.endCallback(),this.finishCallback&&this.finishCallback(),this.finished=!0)},run(){if(this.duration>0){this.startTime||(this.startTime=(new Date).getTime());var t=(new Date).getTime(),e=t-this.startTime;if(this.stepCallback&&this.stepCallback(e),e<this.duration+this.delay&&!this.finished){var i=s.Z.hitch(this,"run");requestAnimationFrame(i)}this.time(t)}else this.renderCallback&&this.renderCallback(1),this.endCallback&&this.endCallback(),this.finishCallback&&this.finishCallback(),this.finished=!0}}}removeScreen(t,e){e.style.transform="",e.style.webkitTransform="",e.style.transformOrigin="",e.style.webkitTransformOrigin="";var i=t.parentNode;i&&i.removeChild(t)}_set_x(t,e){var i="translateX("+t+"px)";e.style.transform=i,e.style.webkitTransform=i}_set_y(t,e){var i="translateY("+t+"px)";e.style.transform=i,e.style.webkitTransform=i}objectEquals(t,e){if(typeof t!==typeof e)return!1;if("function"===typeof t)return t.toString()===e.toString();if(t instanceof Object&&e instanceof Object){if(this.countProps(t)!==this.countProps(e))return!1;var i=!0;for(let s in t)if(i=this.objectEquals(t[s],e[s]),!i)return!1;return!0}return t===e}countProps(t){var e=0;for(let i in t)t.hasOwnProperty(i)&&e++;return e}getP(t,e,i){var s=0;return t>e&&(s=Math.min(1,(t-e)/i)),this.easing&&(s=this.easing(s)),Math.min(1,s)}}},9723:function(t,e,i){"use strict";i.d(e,{Z:function(){return yn}});i(21703);var s=i(59344),o=i(28379),r=i(54524),n=i(20144),a=i(89313),l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeCheckBox"},[i("div",{attrs:{"data-dojo-attach-point":"back"}},[i("span",{staticClass:"MatcWidgetTypeCheckBoxHook",attrs:{"data-dojo-attach-point":"hook"}})])])}],d=i(60245),c={name:"CheckBoxWidget",mixins:[a.Z,d.Z],data:function(){return{value:!1}},components:{},methods:{postCreate(){this.log=new r.Z("CheckBoxWigdet"),this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.wireHover()},resize(t){this.hook.style.borderBottomWidth=this._getBorderWidth(t.w/10)+"px",this.hook.style.borderRightWidth=this._getBorderWidth(t.w/10)+"px"},render:function(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),this.hook.style.borderBottomWidth=this._getBorderWidth(t.w/10)+"px",this.hook.style.borderRightWidth=this._getBorderWidth(t.w/10)+"px",t.props.colorButton&&(this.hook.style.borderBottomColor=t.props.colorButton,this.hook.style.borderRightColor=t.props.colorButton),t.style.colorButton&&(this.hook.style.borderBottomColor=t.style.colorButton,this.hook.style.borderRightColor=t.style.colorButton),this.setValue(t.props.checked,!0)},getValue(){return this.value},_setDataBindingValue(t){"false"===t&&(t=!1),"true"===t&&(t=!0),!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue(t,e){this.value=t;var i=!0;e||(i=this.validate(this.value,!0)),t?(this.model.checked&&i&&this.setStyle(this.model.checked),o.Z.add(this.domNode,"MatcWidgetTypeCheckBoxChecked")):(!i&&this.model.error||(this.domNode.style.background=this.model.style.background,this.setBorderColor()),o.Z.remove(this.domNode,"MatcWidgetTypeCheckBoxChecked"))},getState:function(){return{type:"checked",value:this.value}},setState(t){t&&"checked"==t.type&&this.setValue(t.value)},_validateValue(t){var e=this.model.props.validation;return!e||!e.required||!1!==t},isValid(t){return this.validate(this.value,t)},onChange(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,t)}},mounted(){}},u=c,p=i(1001),g=(0,p.Z)(u,l,h,!1,null,null,null),m=g.exports,f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeRadioBox"},[i("div",{attrs:{"data-dojo-attach-point":"back"}},[i("span",{staticClass:"MatcWidgetTypeRadioBoxCircle",attrs:{"data-dojo-attach-point":"hook"}})])])}],y=i(19721),b={name:"RadioBox",mixins:[a.Z,d.Z],data:function(){return{value:!1,topic:"MatcWidgetRadioBoxChange"}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.own(y.Z.subscribe(this.topic,s.Z.hitch(this,"onOtherChecked"))),this.wireHover()},onOtherChecked(t){t&&this.model&&t.id!=this.model.id&&this.setValue(!1)},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props.colorButton&&(this.hook.style.background=t.props.colorButton),t.style.colorButton&&(this.hook.style.background=t.style.colorButton),this.setValue(t.props.checked)},getValue:function(){return this.value},_setDataBindingValue:function(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue:function(t){this.value=t,t?(o.Z.add(this.domNode,"MatcWidgetTypeRadioBoxChecked"),this.model.checked&&this.setStyle(this.model.checked)):(o.Z.remove(this.domNode,"MatcWidgetTypeRadioBoxChecked"),this.model.checked&&this.setStyle(this.model.style))},getState:function(){return{type:"radiobox.checked",value:this.value}},setState:function(t){t&&"radiobox.checked"==t.type&&this.setValue(t.value)},onChange:function(t){this.value?this.emitClick(t):(this.emitDataBinding(!0),this.setValue(!0),this.emitStateChange("radiobox.checked",this.value,t),y.Z.publish(this.topic,{id:this.model.id}))}},mounted(){}},_=b,S=(0,p.Z)(_,f,v,!1,null,null,null),w=S.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeRadioBox MatcWidgetTypeRadioBox2"},[i("div",{attrs:{"data-dojo-attach-point":"back"}},[i("span",{staticClass:"MatcWidgetTypeRadioBoxCircle",attrs:{"data-dojo-attach-point":"hook"}})])])}],k={name:"RadioBox2",mixins:[a.Z,d.Z],data:function(){return{value:!1,topic:"MatcWidgetRadioBoxChange2"}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.own(y.Z.subscribe(this.topic,s.Z.hitch(this,"onOtherChecked"))),this.wireHover()},onOtherChecked(t){t&&this.model&&t.id!=this.model.id&&this.getFormGroup(this.model)===t.formGroup&&this.setValue(!1)},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props.colorButton&&(this.hook.style.background=t.props.colorButton),t.style.colorButton&&(this.hook.style.background=t.style.colorButton),this.setValue(t.props.checked)},getValue:function(){return this.value},_setDataBindingValue:function(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue:function(t){this.value=t,t?(o.Z.add(this.domNode,"MatcWidgetTypeRadioBoxChecked"),this.model.checked&&this.setStyle(this.model.checked)):(o.Z.remove(this.domNode,"MatcWidgetTypeRadioBoxChecked"),this.model.checked&&this.setStyle(this.model.style))},getState:function(){return{type:"radiobox.checked",value:this.value}},setState:function(t){t&&"radiobox.checked"==t.type&&this.setValue(t.value)},getFormGroup:function(t){if(t.props)return t.props.formGroup},onChange:function(t){this.value?this.emitClick(t):(this.emitDataBinding(!0),this.setValue(!0),this.emitStateChange("radiobox.checked",this.value,t)),y.Z.publish(this.topic,{id:this.model.id,formGroup:this.getFormGroup(this.model)})}},mounted(){}},T=k,M=(0,p.Z)(T,x,C,!1,null,null,null),N=M.exports,B=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},W=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeSwitch"},[i("div",{staticClass:"MatcWidgetTypeSwitchCntr",attrs:{"data-dojo-attach-point":"cntr"}},[i("div",{staticClass:"MatcWidgetTypeSwitchBackground",attrs:{"data-dojo-attach-point":"backgroundDiv"}}),i("div",{staticClass:"MatcWidgetTypeSwitchForeground",attrs:{"data-dojo-attach-point":"foregroundDiv"}})]),i("span",{staticClass:"MatcWidgetTypeSwitchHandle",attrs:{"data-dojo-attach-point":"handle"}},[i("span",{staticClass:"MatcWidgetTypeSwitchHandleBtn",attrs:{"data-dojo-attach-point":"button"}})])])}],E={name:"SwitchWidget",mixins:[a.Z,d.Z],data:function(){return{value:!1}},components:{},methods:{postCreate(){this._borderNodes=[this.cntr,this.backgroundDiv],this._backgroundNodes=[this.backgroundDiv],this._shadowNodes=[this.handle]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.wireHover()},resize(t){if(this._setBorderRadius(this.foregroundDiv,this.style),this._setBorderRadius(this.handle,this.style),this._setBorderRadius(this.button,this.style),this.model.props&&this.model.props.roundButton){let e=t.h;this.style.paddingButton&&(e-=this._getBorderWidth(this.style.paddingButton/2)-1),this.handle.style.width=e+"px",this.handle.style.height=e+"px"}else{let e=Math.ceil(t.w/2)+1;this.style.paddingButton&&(e-=this._getBorderWidth(this.style.paddingButton/2)-1),this.handle.style.width=e+"px"}},render:function(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),this.resize(t),this.setValue(t.props.checked,!0)},_set_paddingButton:function(t,e){var i=this._getBorderWidth(e.paddingButton);this.handle.style.padding=i+"px"},_set_colorForeGround:function(t,e){this.foregroundDiv.style.background=e.colorForeGround},_set_cssClass:function(t,e){o.Z.add(this.domNode,e.cssClass)},_set_borderWidthButton:function(t,e){var i=this._getBorderWidth(e.borderWidthButton);this.button.style.borderWidth=i+"px"},_set_borderColorButton:function(t,e){this.button.style.borderColor=e.borderColorButton},_set_colorButton:function(t,e){this.button.style.background=e.colorButton},_set_boxShadowButton:function(t,e){this._setShadow(this.button,e.boxShadowButton)},getValue:function(){return this.value},_setDataBindingValue:function(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue:function(t,e){this.value=t;var i=!0;e||(i=this.validate(this.value,!0)),t?(o.Z.add(this.domNode,"MatcWidgetTypeSwitchChecked"),this.model.active&&i&&this.setStyle(this.model.active,this.model)):(o.Z.remove(this.domNode,"MatcWidgetTypeSwitchChecked"),this.model.active&&i&&this.setStyle(this.model.style,this.model))},_validateValue:function(t){var e=this.model.props.validation;return!e||!e.required||!1!==t},isValid:function(t){return this.validate(this.value,t)},getState:function(){return{type:"checked",value:this.value}},setState:function(t){t&&"checked"==t.type&&this.setValue(t.value)},onChange:function(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,t)}},mounted(){}},D=E,Z=(0,p.Z)(D,B,W,!1,null,null,null),L=Z.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidget MatchWidgetTypeButton MatcEventedWidget MatcSimulatorClickable"},[i("div",{staticClass:"MatcInlineEditable",attrs:{"data-dojo-attach-point":"labelNode"}},[t._v(t._s(t.label))])])},O=[],A={name:"Button",mixins:[a.Z,d.Z],data:function(){return{value:"",model:null}},components:{},computed:{label(){return this.model&&this.model.props&&this.model.props.label?this.model.props.label:""}},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.labelNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.wireHover()},getLabelNode(){return this.labelNode},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t)},updateScale(t,e,i,s){this._scaleX=i,this._scaleY=s,this.setStyle(e,t)},getValue(){return this.value},setValue(){},getState(){},setState(){},onClick(t){this.stopEvent(t),this.emitClick(t)}},mounted(){}},P=A,V=(0,p.Z)(P,R,O,!1,null,null,null),I=V.exports,z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeDropDown"},[i("div",{staticClass:"MatcWidgetTypeDropDownCntr",attrs:{"data-dojo-attach-point":"button"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabelCntr",attrs:{"data-dojo-attach-point":"labelCntr"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabel",attrs:{"data-dojo-attach-point":"label"}},[t._v("F")])]),i("div",{staticClass:"MatcWidgetTypeDropDownCarretCntr",attrs:{"data-dojo-attach-point":"caretCnr"}},[i("span",{staticClass:"MatcWidgetTypeDropDownCarret",attrs:{"data-dojo-attach-point":"caret"}})])]),i("div",{staticClass:"MatcWidgetTypeDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}})])}],$=i(48039),U=i(75790),H=i(16328),G=i(17386),Y={name:"DropDown",mixins:[a.Z,d.Z],data:function(){return{value:!1,hoverAnimationDuration:0}},components:{},methods:{postCreate(){this._borderNodes=[this.button,this.popup],this._shadowNodes=[this.button],this._backgroundNodes=[this.button],this._paddingNodes=[this.button],this.cleanUpTempListener(),this._isOpen=!1},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onOpenPopup"))),this.own((0,$.Z)(this.domNode,U.Z.over,s.Z.hitch(this,"onDomMouseOver"))),this.own((0,$.Z)(this.domNode,U.Z.out,s.Z.hitch(this,"onDomMouseOut"))),this.wired=!0},onDomMouseOver(t){this.lastValidation&&this.model.hover&&!this._isOpen&&this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.hover),this.emitMouseOver(t)},onDomMouseOut(t){this.lastValidation&&this.model.hover&&!this._isOpen&&(this.value&&this.model.active?this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.active):this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.style)),this.emitMouseOut(t)},resize(t){let e=4;if(this.style.fontSize&&(e=Math.floor(this.style.fontSize/3)),this.caret&&!this.model.props.icon){const t=this._getBorderWidth(e)+"px";this.caret.style.borderLeftWidth=t,this.caret.style.borderRightWidth=t,this.caret.style.borderTopWidth=t}if(this.icon&&(this.icon.style.fontSize=t.h+"px",this.button.style.padding="0px"),this.caretCnr){const t=this._getBorderWidth(40);this.caretCnr.style.width=t+"px"}},render(t,e,i,s){if(this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,t.props.selected?this.setValue(t.props.selected,!0):t.props.options&&t.props.options.length>0?this.setValue(t.props.options[0],!0):this.setValue("- No Options - ",!0),t.props.popupPosition&&o.Z.add(this.domNode,t.props.popupPosition),this.renderIcon(t),this.model.props.caretBorderColor&&(this.caret.style.color=e.background,this.caretCnr.style.background=e.borderRightColor),this.setStyle(e,t),this.resize(t),e.iconSize&&this.caret){const t=Math.max(1,this.getZoomed(e.iconSize,this._scaleY));this.caret.style.fontSize=t+"px"}this.set_popupMargin(this.popup,e,t)},renderIcon(t){t.props.icon&&(t.props.hidetext?(this.labelCntr.innerHTML="",this.icon=document.createElement("span"),o.Z.add(this.icon,"MatcWidgetTypeDropDownIcon "+t.props.icon),this.labelCntr.appendChild(this.icon),o.Z.add(this.domNode,"MatcWidgetTypeDropDownWithIcon MatcWidgetTypeDropDownNoText"),this.button.style.padding="0px",this.button.style.borderRadius="0px",this.popup.style.width=this._getBorderWidth(200)+"px",this.caretCnr&&(this.button.removeChild(this.caretCnr),delete this.caretCnr,delete this.caret,delete this.label)):(o.Z.remove(this.caret,"MatcWidgetTypeDropDownCarret"),this.caret.style.border="none",o.Z.add(this.caret,t.props.icon+" MatcWidgetTypeDropDownCarretIcon")))},onOpenPopup(t){return this.stopEvent(t),this.emitOpenPopup(),this.renderPopup(),this.initCompositeState(this.getStateOptions(),t),!1},flushOpen(){this.emitCompositeState("openWithHover",this.getStateOptions())},onSimulatorEvent(t,e,i){"ScreenScroll"!=t&&"Animation"!=t&&"ScreenGesture"!=t&&i!=this.model.id&&(this.cleanUp(),this.emitNoTransitionStateChange("close",""))},onSelect(t,e){this.stopEvent(e),this.emitDataBinding(t),this.setValue(t),this.cleanUp();const i={type:"select",value:t,runTransition:!0,noheat:!0,e:e};this.emit("stateChange",i)},onClose(t){this.stopEvent(t),this.cleanUp(),this.emitNoTransitionStateChange("close","",t)},renderPopup(){if(!this._isOpen){const t=new G.Z;this.optionNodes=[];const e=this.model.props.options,i=this.style;for(let o=0;o<e.length;o++){const r=e[o],n=t.div("MatcWidgetTypeDropDownOption",r).build(this.popup);n.style.paddingTop=this._getBorderWidth(this.style["paddingTop"])+"px",n.style.paddingLeft=this._getBorderWidth(this.style["paddingLeft"])+"px",n.style.paddingRight=this._getBorderWidth(this.style["paddingRight"])+"px",n.style.paddingBottom=this._getBorderWidth(this.style["paddingBottom"])+"px",this.value==r&&(i.selectedOptionColor&&(n.style.color=i.selectedOptionColor),i.selectedOptionBackground&&(n.style.background=i.selectedOptionBackground)),this.wired&&(this.tempOwn((0,$.Z)(n,U.Z.press,s.Z.hitch(this,"onSelect",r))),this.tempOwn((0,$.Z)(n,U.Z.over,s.Z.hitch(this,"onMouseOverOption",o)))),this.optionNodes.push(n)}o.Z.add(this.domNode,"MatcWidgetTypeDropDownOpen"),this.domNode.parentNode&&o.Z.add(this.domNode.parentNode,"MatcWidgetTypeDropDownFront"),this.wired&&(this.tempOwn((0,$.Z)(H.Z.body(),U.Z.over,s.Z.hitch(this,"onMouseOutOption"))),this.tempOwn((0,$.Z)(H.Z.body(),U.Z.press,s.Z.hitch(this,"onClose"))),this.tempOwn(y.Z.subscribe("MatcSimulatorEvent",s.Z.hitch(this,"onSimulatorEvent")))),this.model.focus&&this.emitAnimation(this.model.id,0,this.model.focus),this._isOpen=!0}},_set_caretBackground(t,e){this.caretCnr&&(this.caretCnr.style.background=e.caretBackground)},_set_caretColor(t,e){this.caret&&(this.caret.style.color=e.caretColor),this.icon&&(this.icon.style.color=e.caretColor)},_set_popupShadow(t,e){this._setShadow(this.popup,e.popupShadow)},_set_popupBorderColor(t,e){this.popup.style.borderColor=e.popupBorderColor},_set_popupBorderWidth(t,e){if(e.popupBorderWidth){var i=Math.max(1,this.getZoomed(e.popupBorderWidth,this._scaleY));this.popup.style.borderWidth=i+"px"}else this.popup.style.borderWidth="0px"},_set_popupBackground(t,e){this.popup.style.background=e.popupBackground},_set_popupColor(t,e){this.popup.style.color=e.popupColor},set_popupMargin(t,e,i){if(i?.props?.hideUpperBorder)if("MatcWidgetTypeDropDownPopUber"===i.props.popupPosition){const i=this._getBorderWidth(e.borderTopWidth)+1;t.style.bottom=`calc(100% - ${i}px)`,t.style.borderBottomWidth="0px",t.style.borderBottomRightRadius="0px",t.style.borderBottomLeftRadius="0px"}else{const i=this._getBorderWidth(e.borderBottomWidth)+1;t.style.top=`calc(100% - ${i}px)`,t.style.borderTopWidth="0px",t.style.borderTopRightRadius="0px",t.style.borderTopLeftRadius="0px"}},onMouseOverOption(t,e){this.stopEvent(e),this.hover!=t&&(this.setHoverOption(t),this.addCompositeSubState(this.getStateOptions()))},onMouseOutOption(){-1!=this.selected&&(this.setHoverOption(-1),this.addCompositeSubState(this.getStateOptions()))},setHoverOption(t){if(this.optionNodes){if(this.hover!=t){for(var e=this.style,i=this.model.props.options,s=0;s<this.optionNodes.length;s++){let r=this.optionNodes[s];var o=i[s];this.value==o&&t<0?(e.selectedOptionColor&&(r.style.color=e.selectedOptionColor),e.selectedOptionBackground&&(r.style.background=e.selectedOptionBackground)):(r.style.color=e.popupColor,r.style.background=e.popupBackground)}let r=this.optionNodes[t];r&&(e.selectedOptionColor&&(r.style.color=e.selectedOptionColor),e.selectedOptionBackground&&(r.style.background=e.selectedOptionBackground))}this.hover=t}},cleanUp(){this.cleanUpTempListener(),this.cleanUpPopup(),this.model.focus&&this.lastValidation&&this.emitAnimation(this.model.id,0,this.model.style)},cleanUpPopup(){this._isOpen&&(this.popup?this.popup.innerHTML="":console.warn("DropDown.cleanUp() > Called in wrong state. Popup is null"),delete this.optionNodes,this.domNode&&o.Z.remove(this.domNode,"MatcWidgetTypeDropDownOpen"),this.hover=-1,this._isOpen=!1,this.flushOpen())},getValue(){return this.value},_setDataBindingValue(t){var e=this.model.props.options;if(e)if(isNaN(t)){var i=e.indexOf(t);i>=0&&i<e.length&&(t=e[i],this.setValue(t))}else t>=0&&t<e.length&&(t=e[t],this.setValue(t))},setValue(t,e){this.value=t,e||this.validate(this.value,!0),this.label&&this.setTextContent(this.label,this.value)},getStateOptions(){return{hover:this.hover}},getState(){return{type:"select",value:this.value}},setState(t,e){if(t){const r=t.type;switch(r){case"select":this.setValue(t.value),setTimeout(s.Z.hitch(this,"cleanUp"),200);break;case"close":this.cleanUp();break;case"open":this.renderPopup();break;case"openWithHover":if(this.renderPopup(),t.children){var i=this.getLastSubState(t,e);if(i){var o=i.value;this.setHoverOption(o.hover)}}break;default:this.cleanUp();break}}else this.cleanUp()},_validateValue(t){const e=this.model.props.validation;return!e||!e.required||t!==this.model.props.options[0]},isValid(t){return this.validate(this.value,t)},beforeDestroy(){this.cleanUp()}},mounted(){}},X=Y,j=(0,p.Z)(X,z,F,!1,null,null,null),q=j.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeTextBox"})},K=[],J=i(33963),tt={name:"TextBox",mixins:[a.Z,d.Z],data:function(){return{value:null,mode:"edit",hasFocus:!1}},components:{},methods:{postCreate(){this.log=new r.Z("TextBox"),"simulator"==this.mode?(this.input=document.createElement("input"),this.input.type="text"):(this.input=document.createElement("div"),o.Z.add(this.input,"MatcWidgetTypeTextBoxPreview")),o.Z.add(this.input,"MatcWidgetTypeTextBoxInput"),this.domNode.appendChild(this.input),this._borderNodes=[this.input],this._backgroundNodes=[this.input],this._paddingNodes=[this.input],this._shadowNodes=[this.input]},getAnimationNode(){return this.domNode.parentNode},onSimulatorEvent(t,e,i){this.log.log(5,"onSimulatorEvent",this.model.id,t,"@",e,i),"ScreenScroll"!=t&&"Animation"!=t&&"ScreenGesture"!=t&&i!=this.model.id&&this.hasFocus&&this.input.blur()},wireEvents(){this.wired||(this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onInputClick"))),this.own((0,$.Z)(this.input,"focus",s.Z.hitch(this,"onFocus"))),"simulator"==this.mode&&(this.own((0,$.Z)(this.input,"blur",s.Z.hitch(this,"onBlur"))),this.own((0,$.Z)(this.input,"change",s.Z.hitch(this,"onChange"))),this.own(y.Z.subscribe("MatcSimulatorEvent",s.Z.hitch(this,"onSimulatorEvent"))))),this.afterWiredEvents(),this.wired=!0,this.setAutoFocus(this.input),this.wireHover()},onDomMouseOver(t){this.hasFocus||!1===this.lastValidation||(this.model.hover&&this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.hover),this.emitMouseOver(t))},onDomMouseOut(t){this.hasFocus||!1===this.lastValidation||(this.model.hover&&(this.value&&this.model.active?this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.active):this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.style)),this.emitMouseOut(t))},afterWiredEvents(){},getLabelNode(){return this.input},onInputClick(t){this.log.log(0,"onInputClick","enter"),this.stopPropagation(t),this.emitClick(t)},onFocus(t){this.log.log(0,"onFocus","enter >"+this.lastValidation),this.stopPropagation(t),this.hasFocus=!0,this.keyUpListener=(0,$.Z)(this.input,"keyup",s.Z.hitch(this,"onKeyUp")),this.keyDownListener=(0,$.Z)(this.input,"keydown",s.Z.hitch(this,"onKeyDown")),this.model.focus&&this.lastValidation&&(console.debug("onFocus",this.model.focus.color),this.emitAnimation(this.model.id,200,this.model.focus)),this.emit("focus",{}),this.afterFocus()},afterFocus(){this.initCompositeState(this._readValue())},onKeyUp(){this.log.log(3,"onKeyUp","enter > "),this.addCompositeSubState(this._readValue()),this.value=this._readValue(),this.emit("keyUp",this._readValue())},onKeyDown(t){this.log.log(3,"onKeyDown","enter > ");const e=t.which||t.keyCode;13==e&&this.onEnterPressed()},onEnterPressed(){this.input.blur();var t={type:"KeyboardEnter"};this.emit("gesture",t)},onChange(){this.onBlur();const t={type:"InputChange"};this.emit("gesture",t)},onBlur(t){this.log.log(1,"onBlur","enter"),this.stopPropagation(t);const e=this._readValue();this.emitCompositeState("text",e),this.emitDataBinding(e);const i=this.validate(this._readValue(),!0);i&&this.model.focus&&this.emitAnimation(this.model.id,0,this.style),this.value=this._readValue(),this.cleanUp(),this.hasFocus=!1,this.emit("blur",{})},getStateOptions(){return{valid:this.lastValidation,focus:this.hasFocus}},getState(){return{type:"text",value:this._readValue(),options:{valid:this.lastValidation,focus:this.hasFocus}}},_readValue(){return"simulator"==this.mode?this.input.value:this.input.innerHTML},setState(t,e){if(t&&"text"==t.type)if(t.children){let i=this.getLastSubState(t,e);if(i){let t=i.value;this.setValue(t)}}else this.setValue(t.value);if(t&&"typing"==t.type){let i=this.getLastSubState(t,e);if(i){let t=i.value;this.setValue(t)}}this.afterSetState(t,e)},afterSetState(){},cleanUp(){this.keyUpListener&&this.keyUpListener.remove(),delete this.keyUpListener,this.keyDownListener&&this.keyDownListener.remove(),delete this.keyDownListener},render(t,e,i,r){if(this.model=t,this.style=e,this._validStyle=s.Z.clone(e),this._scaleX=i,this._scaleY=r,t.props.options?(this.hasTypeahead=!0,this.hints=t.props.options):this.hints=[],t.props.stringCase?o.Z.add(this.domNode,"MatcWidgetTypeTextBox"+t.props.stringCase):(o.Z.remove(this.domNode,"MatcWidgetTypeTextBoxUpperCase"),o.Z.remove(this.domNode,"MatcWidgetTypeTextBoxLowerCase")),this.initLabel(t),t.props.validation&&"simulator"==this.mode){const e=t.props.validation;let i=e.type;switch("custom"==i&&(i=e.subtype),i){case"int":this.input.type="number";break;case"double":this.input.type="number";break;case"email":this.input.type="email";break;case"phone":this.input.type="tel";break;default:break}}if("simulator"==this.mode){const i=t.id+""+(new Date).getTime(),s={color:this.getPlaceHolderColor(e)};this.addCssClass(i+"::-webkit-input-placeholder",s),o.Z.add(this.input,i)}this.beforeSetStyle(e,t),this.setStyle(e,t),this.onTextBoxRendered(t)},initLabel(t){t.props.label&&(t.props.placeholder?this.setPlaceholder(t.props.label):this.setValue(t.props.label,!0))},onTextBoxRendered(){},beforeSetStyle(){},getPlaceHolderColor(t){const e=new J.Z(t.color);return e.a=.5,e.toString()},addCssClass(t,e){this._styleNode||(this._styleNode=[]);const i=document.createElement("style");i.type="text/css",i.setAttribute("matc","true");let s="."+t+"{";for(let o in e)s+=o+" :"+e[o]+";";s+="}",i.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(i),this._styleNode.push(i)},getValue(){return this.value},unsetPlaceHolder(){o.Z.remove(this.input,"MatcWidgetTypeTextBoxInputPlaceholder"),this.input.style.color=this.style.color},setPlaceholder(t){"simulator"==this.mode?this.input.placeholder=t:(o.Z.add(this.input,"MatcWidgetTypeTextBoxInputPlaceholder"),this.input.innerHTML=t,this.input.style.color=this.getPlaceHolderColor(this.style))},setValue(t,e){this.unsetPlaceHolder(),null!=t&&void 0!=t&&this.value!=t&&(this.value=t,"simulator"==this.mode?this.input.value=t:(this.input.innerHTML=t,this.model.props.placeholder&&(this.model.props.label!=t?this.input.style.color=this.style.color:this.input.style.color=this.getPlaceHolderColor(this.style))),e||this.validate(this.value,!0))},_validateValue(t){const e=this.model.props.validation;if(e){let r=e.type;if("custom"==r&&(r=e.subtype),e.required&&""==t)return!1;if(!t)return!0;if("int"==r){let i=/^-?[0-9]+$/;if(i.test(t)){let i=!0;return null!=e.min&&void 0!=e.min&&(i=i&&t>=e.min),null!=e.max&&void 0!=e.max&&(i=i&&t<=e.max),i}return!1}if("email"==r){let e=/\S+@\S+\.\S+/;return e.test(t)}if("phone"==r){let e=/^[\+]?([0-9]|[-\s\.])*$/;return e.test(t)}if("date"==r){let e=/^[0-9]{1,2}(\/|-|\.)[0-9]{1,2}(\/|-|\.)[0-9]{2,4}$/;return e.test(t)}if("time"==r){let e=/^[0-9]{2}(\/|-|\.|\:)[0-9]{1,2}$/;return e.test(t)}if("double"==r){var i=/^-?[0-9]+((\.|,)[0-9]+)?$/;if(i.test(t)){let i=!0;return null!=e.min&&void 0!=e.min&&(i=i&&t>=e.min),null!=e.max&&void 0!=e.max&&(i=i&&t<=e.max),i}return!1}if("string"==r){var s=e.operator;if(t){if("contains"==s&&e.text)return t.indexOf(e.text)>=0;if("equals"==s&&e.text)return t==e.text;if("pattern"==s&&e.pattern){var o=new Regex(e.pattern);return o.test(t)}if("length"==s){let i=!0;return null!=e.min&&void 0!=e.min&&(i=i&&t.length>=e.min),null!=e.max&&void 0!=e.max&&(i=i&&t.length<=e.max),i}}}}return!0},isValid:function(t){return this.validate(this._readValue(),t)},_setDataBindingValue(t){this.isQDate(t)&&(t=this.convertQDateToString(t)),this.setValue(t)},beforeDestroy(){this._compositeState&&this.emitCompositeState("text",this.input.value),this.cleanUpTempListener();try{if(this._styleNode){for(var t=0;t<this._styleNode.length;t++){var e=this._styleNode[t];e.parentNode.removeChild(e)}delete this._styleNode}}catch(i){console.warn("TextBox.destroy()",i)}this.cleanUp()}},mounted(){}},et=tt,it=(0,p.Z)(et,Q,K,!1,null,null,null),st=it.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeTextBox MatcWidgetTypeTextArea"})},rt=[],nt={name:"Password",mixins:[st,d.Z],data:function(){return{value:null,mode:"edit",passwordHidden:!0}},components:{},methods:{postCreate:function(){this.log=new r.Z("Password"),"simulator"==this.mode?(this.input=document.createElement("input"),this.input.type="password",this.input.autocomplete="off"):(this.input=document.createElement("div"),o.Z.add(this.input,"MatcWidgetTypeTextBoxPreview")),o.Z.add(this.input,"MatcWidgetTypeTextBoxInput");var t=document.createElement("form");t.appendChild(this.input),t.autocomplete="off",o.Z.add(t,"MatcWidgetTypeTextBoxInputForm"),this.domNode.appendChild(t),this._borderNodes=[this.input],this._backgroundNodes=[this.input],this._paddingNodes=[this.input],this._shadowNodes=[this.input]},getLabelNode:function(){return null},afterWiredEvents:function(){this.hideLabel&&this.tempOwn((0,$.Z)(this.hideLabel,U.Z.press,s.Z.hitch(this,"togglePasswordHiddden"))),this.setAutoFocus(this.input)},beforeSetStyle:function(t,e){e.props.cleartextVisible?this.passwordHidden=!e.props.cleartextVisible:this.passwordHidden=!0,e.props.cleartext?(this.hideLabel||(this.hideLabel=document.createElement("span"),o.Z.add(this.hideLabel,"MatcWidgetTypePasswordClearTextLabel"),this.domNode.appendChild(this.hideLabel)),this.setPasswordHiddenLabel()):this.hideLabel&&this.domNode.removeChild(this.hideLabel)},setPasswordHiddenLabel:function(){this.hideLabel&&(this.passwordHidden?this.hideLabel.innerHTML=this.model.props.cleartextShowLabel:this.hideLabel.innerHTML=this.model.props.cleartextHideLabel),this.passwordHidden?this.input.type="password":this.input.type="text"},togglePasswordHiddden:function(t){this.log.log(0,"togglePasswordHiddden","enter > focus: "+this.hasFocus+" > hidden: "+this.passwordHidden),this.emitCompositeState("text",this._readValue()),this.passwordHidden=!this.passwordHidden,this.setPasswordHiddenLabel(),this.emitNoTransitionStateChange("hidden",this.passwordHidden,t),this.input.blur()},setCursor:function(t,e,i){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,i);else if(t.createTextRange){let s=t.createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",e),s.select()}},_set_cleartextColor:function(t,e){this.hideLabel&&(this.hideLabel.style.color=e.cleartextColor)},_readValue:function(){return this.input.value},setValue:function(t){null!=t&&void 0!=t&&this.value!=t&&(this.value=t,o.Z.remove(this.input,"MatcWidgetTypeTextBoxInputPlaceholder"),this.input.value=t)},getStateOptions:function(){return{hidden:this.passwordHidden,valid:this.lastValidation,focus:this.hasFocus}},getState:function(){return{type:"text",value:this._readValue(),options:{hidden:this.passwordHidden,valid:this.lastValidation,focus:this.hasFocus}}},afterSetState:function(t){!t.options||!1!==t.options.hidden&&!0!==t.options.hidden||(this.passwordHidden=t.options.hidden,this.setPasswordHiddenLabel())}},mounted(){}},at=nt,lt=(0,p.Z)(at,ot,rt,!1,null,null,null),ht=lt.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeTextBox MatcWidgetTypeTextArea"})},ct=[],ut={name:"TextArea",mixins:[st],data:function(){return{value:null,mode:"edit"}},components:{},methods:{postCreate:function(){this.log=new r.Z("TextArea"),"simulator"==this.mode?this.input=document.createElement("textarea"):this.input=document.createElement("div"),o.Z.add(this.input,"MatcWidgetTypeTextBoxInput"),this.domNode.appendChild(this.input),this._borderNodes=[this.input],this._backgroundNodes=[this.input],this._paddingNodes=[this.input],this._shadowNodes=[this.input]},onEnterPressed:function(){},setValue:function(t){if(null!=t&&void 0!=t&&this.value!=t){if("object"===typeof t&&!Array.isArray(t)&&null!==t)try{t=JSON.stringify(t,null,2)}catch(e){console.warn("TextArea._setDataBindingValue() Cannot convert JSON",t)}if(Array.isArray(t)&&t.length>0){let e=t[0];t="object"===typeof e||Array.isArray(e)?JSON.stringify(t,null,2):t.join(",")}this.value=t,o.Z.remove(this.input,"MatcWidgetTypeTextBoxInputPlaceholder"),"simulator"==this.mode?this.input.value=t:(t=t.replace(/\n/g,"<br>"),this.input.innerHTML=t)}}},mounted(){}},pt=ut,gt=(0,p.Z)(pt,dt,ct,!1,null,null,null),mt=gt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetDragNDrop"},[i("div",{ref:"lblNode",staticClass:"MatcInlineEditable MatcWidgetTypeLabelInlineEditable"})])},vt=[],yt=i(77050),bt=i(52468),_t={name:"DragNDrop",mixins:[a.Z,d.Z],data:function(){return{label:"",value:null,dndX:!0,dndY:!0}},components:{},methods:{postCreate(){this.log=new r.Z("DragNDrop"),this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._imageNodes=[this.domNode],this._labelNodes=[this.$refs.lblNode],this.log.log(4,"postrCreate","enter")},wireEvents(){this.own(this.addTouchStart(this.domNode,s.Z.hitch(this,"onDndStart"))),this.wireHover()},getLabelNode(){return this.$refs.lblNode},onDndStart(t){this.stopEvent(t),this.emitClick(t),this.cleanUp(),this.initDnd(),o.Z.add(this.domNode,"MatcWidgetDragNDropMove"),this.dndStartPos=this.getMouse(t),this.moveListener=this.addTouchMove(H.Z.body(),s.Z.hitch(this,"onDnDMove")),this.releaseListener=this.addTouchRelease(H.Z.body(),s.Z.hitch(this,"onDndEnd")),this.initCompositeState(this.value),this.model.active},initDnd(){this.containerSize||(this.domNode.parentNode.parentNode?(this.containerSize=yt.Z.position(this.domNode.parentNode.parentNode),this.log.log(4,"onDndStart","enter "+this.containerSize.w+" "+this.containerSize.h)):console.warn("No container node!")),this.dndParentPos||(this.dndParentPos=this.getCanvasPosition(this.domNode.parentNode),this.log.log(4,"onDndStart","dom "+this.dndParentPos.x+","+this.dndParentPos.y))},onDnDMove(t){this.stopEvent(t);const e=this.getMouse(t);this.emitMouseMove(t,!0);const i={x:0,y:0};this.dndX&&(i.x=Math.round(e.x-this.dndStartPos.x)),this.dndY&&(i.y=Math.round(e.y-this.dndStartPos.y)),this.dndCurrentDelta=i,this.renderPosition(),this._lastAbsPos.event=t,y.Z.publish("DragNDrop.Move",this._lastAbsPos)},renderPosition(){this.dndCurrentDelta&&(this.updateValue(this.dndCurrentDelta),this.addCompositeSubState(this.value)),delete this.dndCurrentDelta},onDndEnd(t){this.stopEvent(t),this.emitCompositeState("dnd",this.value),this.cleanUp(),this.dndParentPos=this._lastDndPositon,this._lastAbsPos.event=t,y.Z.publish("DragNDrop.End",this._lastAbsPos)},updateValue(t){if(this.containerSize){let e=this.dndParentPos.x+t.x,i=this.dndParentPos.y+t.y;e+this.model.w>this.containerSize.w&&(e=this.containerSize.w-this.model.w),e<0&&(e=0),i+this.model.h>this.containerSize.h&&(i=this.containerSize.h-this.model.h),i<0&&(i=0);const s={x:e/this.containerSize.w,y:i/this.containerSize.h};this.setValue(s),this._lastAbsPos={x:e,y:i,w:this.model.w,h:this.model.h,z:this.model.z,id:this.model.id}}else console.warn("No container Size")},getValue(){return this.value},setValue(t,e=!0){if(t)if(this.initDnd(),this.value=t,this.containerSize){if(this.posReset||(this.dndX&&(this.domNode.parentNode.style.left="0"),this.dndY&&(this.domNode.parentNode.style.top="0"),this.posReset=!0),this.dndX&&!this.dndY){let e="translateX("+t.x*this.containerSize.w+"px)";this.domNode.parentNode.style.transform=e,this.domNode.parentNode.style.webkitTransform=e}else if(this.dndY&&!this.dndX){let e="translateY("+t.y*this.containerSize.h+"px)";this.domNode.parentNode.style.transform=e,this.domNode.parentNode.style.webkitTransform=e}else{let e="translate("+t.x*this.containerSize.w+"px,"+t.y*this.containerSize.h+"px)";this.domNode.parentNode.style.transform=e,this.domNode.parentNode.style.webkitTransform=e}this._lastDndPositon={x:t.x*this.containerSize.w,y:t.y*this.containerSize.h}}else console.warn("setValue() > No container..."),e&&this.$nextTick((()=>{this.setValue(t,!1)}))},getState(){return{type:"pos",value:this.value}},setState(t,e){if(t&&t.type,t&&"dnd"==t.type){var i=this.getLastSubState(t,e);if(i){var s=i.value;this.setValue(s)}}},cleanUp(){this.moveListener&&this.moveListener.remove(),this.releaseListener&&this.releaseListener.remove(),delete this.moveListener,delete this.releaseListener,delete this.dndStartPos,o.Z.remove(this.domNode,"MatcWidgetDragNDropMove"),this.model.active},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props.label&&(this.label=t.props.label),this.setInnerHTML(this.$refs.lblNode,this.label),this.model.props&&(this.dndX=this.model.props.dndX,this.dndY=this.model.props.dndY)},getCanvasPosition:function(t){var e=bt.Z.get(t);return{x:this.removePx(e.left),y:this.removePx(e.top)}},removePx:function(t){var e=t.indexOf("px");return e>=0&&(t=t.substring(0,e)),1*t},beforeDestroy:function(){this._compositeState&&this.emitCompositeState(),this.cleanUp()}},mounted(){}},St=_t,wt=(0,p.Z)(St,ft,vt,!1,null,null,null),xt=wt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetDragNDropTarget"},[i("div",{ref:"lblNode",staticClass:"MatcInlineEditable MatcWidgetTypeLabelInlineEditable"},[t._v(" "+t._s(t.label)+" ")])])},kt=[],Tt=i(96722),Mt={name:"DragNDropTarget",mixins:[a.Z,d.Z],data:function(){return{value:null,label:""}},components:{},methods:{postCreate(){this.log=new r.Z("DragNDropTarget"),this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.$refs.lblNode],this._imageNodes=[this.domNode]},wireEvents(){this._moveListener=y.Z.on("DragNDrop.Move",(t=>{this.onDNDMove(t)})),this._endListener=y.Z.on("DragNDrop.End",(t=>{this.onDNDEnd(t)}))},getLabelNode(){return this.$refs.lblNode},onDNDMove(t){this.isInside(t)?(this.model.hover&&this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.hover),this.emitMouseOver(t.event)):this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.style)},onDNDEnd(t){this.isInside(t)&&this.emitClick(t.event)},isInside(t){const e=this.modelPosition;return!!(e&&t.x>=e.x&&t.x+t.w<=e.w+e.x&&t.y>=e.y&&t.y+t.h<=e.y+e.h)&&t.z>=this.model.z},setZoomedModel(t){this.zoomedModel=t},getValue(){return this.value},setValue(){},getState(){return{}},setState(){},cleanUp(){this.model.active},render(t,e,i,s){this.model=t,this.modelPosition=Tt.Z.getWidgetPostionInScreen(t,this.zoomedModel),this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props.label&&(this.label=t.props.label),this.setInnerHTML(this.$refs.lblNode,this.label),this.model.props&&(this.dndX=this.model.props.dndX,this.dndY=this.model.props.dndY)},getCanvasPosition(t){const e=bt.Z.get(t);return{x:this.removePx(e.left),y:this.removePx(e.top)}},removePx(t){const e=t.indexOf("px");return e>=0&&(t=t.substring(0,e)),1*t},beforeDestroy(){this._compositeState&&this.emitCompositeState(),this._moveListener&&this._moveListener.remove(),this._endListener&&this._endListener.remove()}},mounted(){}},Nt=Mt,Bt=(0,p.Z)(Nt,Ct,kt,!1,null,null,null),Wt=Bt.exports,Et=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Dt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeSpinner"},[i("div",{staticClass:"MatcWidgetTypeSpinnerBorderBox",attrs:{"data-dojo-attach-point":"borderBox"}})])}],Zt=i(88797),Lt={name:"Spinner",mixins:[a.Z,d.Z],data:function(){return{value:null,repeats:3}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode]},wireEvents(){this.wired=!0;for(let t=0;t<this.options.length;t++)this.tempOwn(this.addTouchStart(this.options[t],s.Z.hitch(this,"onDndStart",this.values[t],t)));this.wireHover()},onDndStart(t,e,i){return this.stopEvent(i),this.dndStartPos=this.getMouse(i),this.dndStartTime=(new Date).getTime(),this.moveListener=this.addTouchMove(H.Z.body(),s.Z.hitch(this,"onDnDMove")),this.releaseListener=this.addTouchRelease(H.Z.body(),s.Z.hitch(this,"onDndEnd",t,e)),this.initCompositeState(this.getTopInPercent(this.currentTop),i),!1},onDnDMove:function(t){this.stopEvent(t);var e=this.getMouse(t),i=e.y-this.dndStartPos.y;return this.setTop(i+this.currentTop),this.addCompositeSubState(this.getTopInPercent(i+this.currentTop)),this.emitMouseMove(t),!1},onDndEnd:function(t,e,i){if(this.stopEvent(i),this.dndStartPos){var o=this.getMouse(i),r=o.y-this.dndStartPos.y;if(Math.abs(Math.abs(r)<10))this.onSelect(t,e,i);else{var n=Math.round(.33*this.model.h),a=this._lastTop,l=Math.abs(a%n);e=Math.floor(Math.abs(a/n))+1;var h=0;l>n/2?(e++,h=n-l):h=-1*l,t=this.values[e],this.currentTop=a;var d=(new Zt.Z).createAnimation();d.duration=5*l,d.onRender(s.Z.hitch(this,"onSlide",this.currentTop,h)),d.onEnd(s.Z.hitch(this,"onSlideDone",t)),d.run()}window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(30)}this.cleanUp()},cleanUp:function(){this.moveListener&&this.moveListener.remove(),this.releaseListener&&this.releaseListener.remove(),delete this.moveListener,delete this.releaseListener,delete this.dndStartPos,delete this.dndStartTime},render(t,e,i,s){this.cntr&&this.cntr.parentNode&&this.cntr.parentNode.removeChild(this.cntr),this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t);var o=new G.Z;let r=this.model.props.options;r||(r=[]);var n=o.div("MatcWidgetTypeSpinnerCntr").build();this.options=[],this.values=[];for(var a=Math.round(.33*this.model.h),l=0;l<this.repeats;l++)for(var h=0;h<r.length;h++){var d=r[h],c=o.div("MatcWidgetTypeSpinnerOption").build(n);c.style.height=a+"px",o.div("MatcVAlignCntr").div("MatcVAlignCenter",d).build(c),this.options.push(c),this.values.push(d)}if(this.domNode.appendChild(n),this.cntr=n,this.cntrHeight=a*this.repeats*r.length,this.viewHeight=3*a,this.model.style.borderBoxColor&&(this.borderBox.style.borderColor=this.model.style.borderBoxColor),this.model.style.borderBoxWidth){var u=Math.max(1,this.getZoomed(this.model.style.borderBoxWidth,this._scaleY));this.borderBox.style.borderTopWidth=u+"px",this.borderBox.style.borderBottomWidth=u+"px"}this.setValue(r[0])},onSelect(t,e,i){if(this.stopPropagation(i),e==this.currentPos)this.emitClick(i);else{var o=Math.round(.33*this.model.h),r=-1*o;e>this.currentPos&&(r=o);var n=(new Zt.Z).createAnimation();n.onRender(s.Z.hitch(this,"onSlide",this.currentTop,r)),n.onEnd(s.Z.hitch(this,"onSlideDone",t)),n.run(),this.initCompositeState(this.getTopInPercent(this.currentTop),i)}},setPosition(t){for(var e=Math.round(.33*this.model.h),i=t+this.model.props.options.length,s=0;s<this.options.length;s++)o.Z.remove(this.options[s],"MatcWidgetTypeSpinnerOptionSelected");o.Z.add(this.options[i],"MatcWidgetTypeSpinnerOptionSelected");var r=-e*(i-1);this.setTop(r),this.currentTop=r,this.currentPos=i},setTop(t){if(t>0||t<-.66*this.cntrHeight){var e=t%Math.round(this.cntrHeight/this.repeats);t=this.cntrHeight/this.repeats*-1+e}this.cntr.style.top=t+"px",this._lastTop=t},getTopInPercent(t){return t/this.cntrHeight},onSlide(t,e,i){var s=t-e*i;this.setTop(s),this.addCompositeSubState(this.getTopInPercent(s))},onSlideDone(t){this.emitDataBinding(t),this.setValue(t),this.emitCompositeState("select",t)},resize(t){for(var e=Math.round(.33*t.h),i=0;i<this.options.length;i++){var s=this.options[i];s.style.height=e+"px"}this.cntrHeight=e*this.repeats*this.options.length,this.viewHeight=3*e,this.optionHeight=e,this.model.h=t.h,this.model.w=t.w,this.setPosition(0)},setValue(t){if(t!==this.value){var e=this.model.props.options.indexOf(t);e>=0&&this.setPosition(e),this.value=t}},getValue(){return this.value},getState:function(){return{type:"select",value:this.value}},setState:function(t,e){if(t&&"select"==t.type){var i=this.getLastSubState(t,e);i?this.setTop(i.value*this.cntrHeight):this.setValue(t.value)}},destroy:function(){this._compositeState&&this.emitCompositeState(),this.cleanUp()}},mounted(){}},Rt=Lt,Ot=(0,p.Z)(Rt,Et,Dt,!1,null,null,null),At=Ot.exports,Pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Vt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeDate"},[i("div",{staticClass:"MatcWidgetTypeDateHeader",attrs:{"data-dojo-attach-point":"header"}},[i("div",{staticClass:"MatcWidgetTypeDateLabel"},[i("span",{staticClass:"MatcVAlignCenter",attrs:{"data-dojo-attach-point":"lbl",span:""}})]),i("div",{staticClass:"MatcWidgetTypeDateNext",attrs:{"data-dojo-attach-point":"nextButton"}},[i("span",{staticClass:"MatcVAlignCenter",attrs:{"data-dojo-attach-point":"nextButtonLbl"}},[t._v("+")])]),i("div",{staticClass:"MatcWidgetTypeDateBack",attrs:{"data-dojo-attach-point":"lastButton"}},[i("span",{staticClass:"MatcVAlignCenter",attrs:{"data-dojo-attach-point":"lastButtonLbl"}},[t._v("-")])])]),i("div",{staticClass:"MatcWidgetTypeDateBody",attrs:{"data-dojo-attach-point":"body"}})])}],It={name:"QDate",mixins:[a.Z,d.Z],data:function(){return{value:null,month_names:["January","February","March","April","May","June","July","August","September","October","November","December"]}},components:{},methods:{postCreate:function(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this.day_names=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},wireEvents:function(){this.own(this.addClickListener(this.lastButton,s.Z.hitch(this,"onLast"))),this.own(this.addClickListener(this.nextButton,s.Z.hitch(this,"onNext"))),this.wireHover()},onLast:function(t){this.stopEvent(t);var e=this.value;this.isRange&&(e=this.value.view);var i=e.d,s=e.m,o=e.y;s--,s<0&&(s=11,o--),this.isRange?(this.value.view=this.createQDate(o,s,i),this.setValue(this.value)):(e=this.createQDate(o,s,i),this.setValue(e)),this.emitStateChange("value",this.value,t,!1)},onNext:function(t){this.stopEvent(t);var e=this.value;this.isRange&&(e=this.value.view);var i=e.d,s=e.m,o=e.y;s++,s>11&&(s=0,o++),this.isRange?(this.value.view=this.createQDate(o,s,i),this.setValue(this.value)):(e=this.createQDate(o,s,i),this.setValue(e)),this.emitStateChange("value",this.value,t,!1)},emitStateChange(t,e,i,s,o=!0){var r={type:t,value:e,runTransition:o,e:i,selection:s};this.emit("stateChange",r)},render(t,e,i,s){if(this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),this.isRange=t.props.range,t.props.day_names&&(this.day_names=t.props.day_names),t.props.nextButtonLbl&&(this.nextButtonLbl.innerHTML=t.props.nextButtonLbl),t.props.lastButtonLbl&&(this.lastButtonLbl.innerHTML=t.props.lastButtonLbl),e.headerBackground&&(this.header.style.background=e.headerBackground),e.headerColor&&(this.header.style.color=e.headerColor),this.tblHeaderTds)for(var o=0;o<this.tblHeaderTds.length;o++){var r=this.tblHeaderTds[o];e.tableHeaderBackground&&(r.style.background=e.tableHeaderBackground),e.tableHeaderColor&&(r.style.color=e.tableHeaderColor)}if(t.props.value)this.setValue(t.props.value,!1,!0);else if(this.isRange)if(t.props&&t.props.preselectRange){let t=(new Date).getTime(),e=this.convertMillisToQDate(t+1728e5),i=this.convertMillisToQDate(t+3456e5),s={from:e,to:i,view:i,defaultValue:!1};this.setValue(s,!1,!0)}else{let t=this.createNow(),e={from:t,to:t,view:t,defaultValue:!0};this.setValue(e,!0,!0)}else{let t=this.createNow();t.defaultValue=!0,this.setValue(t,!0,!0)}},resize:function(t){for(var e=Math.floor(.8*t.h/6),i=Math.floor(t.w/7),s=0;s<this.tds.length;s++)this.tds[s].style.height=e+"px",this.tds[s].style.width=i+"px"},renderCalender:function(t){var e=t.m,i=t.y,o=this.model.style;this.lbl.innerHTML=this.month_names[e]+" "+i;var r=new Date(i,e,1),n=r.getDay(),a=new G.Z,l=a.table().build(),h=a.tr().build(l),d=Math.floor(.8*this.model.h/6),c=Math.floor(this.model.w/7);if(this.tds=[],this.tblHeaderTds=[],this.dayTds={},o.tableBorderWidth){var u=this._getBorderWidth(o.tableBorderWidth)+"px";l.style.borderSpacing=u+" "+u,l.style.borderCollapse="separate"}for(let s=0;s<7;s++){let t=a.td("",this.day_names[s]).build(h);t.style.height=d+"px",t.style.width=c+"px",o.tableHeaderBackground&&(t.style.background=o.tableHeaderBackground),o.tableHeaderColor&&(t.style.color=o.tableHeaderColor),this.tds.push(t),this.tblHeaderTds.push(t)}for(let g=0;g<35;g++){g%7==0&&(h=a.tr().build(l));let t=a.td().build(h);if(t.style.height=d+"px",t.style.width=c+"px",o.itemBorderRadius&&(t.style.borderRadius=o.itemBorderRadius+"%"),g-n>=0){let r=g-n+1;g%7==0||g%7==6?(o.weekdayBackground&&(t.style.background=o.weekdayBackground),o.weekdayColor&&(t.style.color=o.weekdayColor)):(o.weekendBackground&&(t.style.background=o.weekendBackground),o.weekendColor&&(t.style.color=o.weekendColor));var p=new Date(i,e,r);p.getMonth()!=e?(r="",t.style.background="none"):this.dayTds[this.getKey(p)]=t,t.innerHTML=r,""!=r&&"simulator"==this.mode&&this.tempOwn(this.addClickListener(t,s.Z.hitch(this,"onSelect",r,e,i)))}this.tds.push(t)}this.body.innerHTML="",this.body.appendChild(l)},getKey:function(t){var e=t.getDate(),i=t.getMonth(),s=t.getYear();return e+"-"+i+"-"+s},renderSelectedDay(t,e){var i=this.convertQDateToDate(t),s=this.getKey(i);if(this.dayTds&&this.dayTds[s]){var o=this.dayTds[s],r=this.style;e&&r.selectedInRangeBackground?o.style.background=r.selectedInRangeBackground:r.selectedBackground&&(o.style.background=r.selectedBackground),e&&r.selectedInRangeColor?o.style.color=r.selectedInRangeColor:r.selectedColor&&(o.style.color=r.selectedColor)}},renderSelectionRange:function(t){var e=864e5;if(t.from&&t.to)for(var i=this.convertQDateToMillis(t.to),s=this.convertQDateToMillis(t.from),o=Math.floor(i-s)/e,r=0;r<o+1;r++){var n=this.convertMillisToQDate(s+e*r);this.renderSelectedDay(n,0!=r&r!=o)}else console.warn("renderSelectionRange() > wrong range",t)},onSelect:function(t,e,i,s){if(this.stopEvent(s),this.isRange){var o=new Date(i,e,t).getTime(),r=this.convertMillisToQDate(o);this._rangeStartTime=o;var n,a=!1,l=!0;if(this.value.defaultValue)n={from:r,to:r,view:r},a=!1;else{n=this.value;var h=this.convertQDateToMillis(n.to),d=this.convertQDateToMillis(n.from);h==d?(o<d&&(n.from=r),o>h&&(n.to=r),a=!0,l=!1):(n.from=r,n.to=r,a=!1)}this.emitDataBinding(n),this.setValue(n,!1,l),this.emitStateChange("value",this.value,s,a)}else{var c=this.createQDate(i,e,t);this.emitDataBinding(c),this.setValue(c),this.emitStateChange("value",this.value,s,!0)}},getValue:function(){return this.value},setValue:function(t,e,i){t&&(this.isRange?(this.isQDate(t.to)||(t.to=this.convertMillisToQDate(t.to)),this.isQDate(t.from)||(t.from=this.convertMillisToQDate(t.from)),this.isQDate(t.view)||(t.view=this.convertMillisToQDate(t.view)),this.renderCalender(t.view,e),this.value=t,e||t.defaultValue||this.renderSelectionRange(t)):(this.isQDate(t)||(t=this.convertMillisToQDate(t)),this.isEqualDate(this.value,t)||(this.value=t,this.renderCalender(t,e),e||this.renderSelectedDay(t))),i||this.validate(this.value,!0))},getState:function(){return{type:"value",value:this.value}},setState:function(t){t&&"value"==t.type&&this.setValue(t.value)},_validateValue:function(t){var e=this.model.props.validation;if(e)if(this.isRange){if(e.required&&(t.defaultValue||this.isEqualDate(t.to,t.from)))return!1}else{if(e.required&&null==t)return!1;if("date"==e.type&&e.date){if(!t)return!1;var i=t.y,s=t.m+1+"";1==s.length&&(s="0"+s);var o=t.d+"";1==o.length&&(o="0"+o);var r=o+"."+s+"."+i;return r==e.date}}return!0},isValid:function(t){return this.validate(this.value,t)}},mounted(){}},zt=It,Ft=(0,p.Z)(zt,Pt,Vt,!1,null,null,null),$t=Ft.exports,Ut=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ht=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeDropDown MatcWidgetTypeDateDropDown"},[i("div",{staticClass:"MatcWidgetTypeDropDownCntr",attrs:{"data-dojo-attach-point":"button"}},[i("div",{staticClass:"MatcWidgetTypeDateDropDownLabel",attrs:{"data-dojo-attach-point":"label"}})]),i("div",[i("div",{staticClass:"MatcWidgetTypeDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}})])])}],Gt={name:"QDateDropDown",mixins:[q,d.Z],data:function(){return{value:null}},components:{},methods:{postCreate(){this._borderNodes=[this.button],this._shadowNodes=[this.button],this._backgroundNodes=[this.button],this._paddingNodes=[this.button],this.cleanUpTempListener(),this._isOpen=!1},getLabelNode(){return this.label},render(t,e,i,s){if(this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),this.isRange=t.props.range,this.isModal=t.props.modal,this.showDefaultValue(),t.props.icon){if(!this.icon){var o=new G.Z;this.iconCntr=o.div("MatcWidgetTypeDateDropDownIcon").build(this.button),this.icon=o.span(t.props.icon).build(this.iconCntr)}this.icon.style.fontSize=Math.round(e.fontSize*this._scaleY)+"px",this.iconCntr.style.top=this._getBorderWidth(e.paddingTop)+"px",this.iconCntr.style.right=this._getBorderWidth(e.paddingRight)+"px"}this.resize(t)},showDefaultValue(){if(this.model.props.label)if(this.setTextContent(this.label,this.model.props.label),o.Z.add(this.label,"MatcWidgetTypeDateDropDownDefaultLabel"),this.isRange)if(this.model.props.preselectRange){const t=(new Date).getTime(),e=this.convertMillisToQDate(t+1728e5),i=this.convertMillisToQDate(t+3456e5);this.value={from:e,to:i,view:i,defaultValue:!1}}else{const t=this.createNow();this.value={from:t,to:t,view:t,defaultValue:!0}}else this.value=this.createNow(),this.value.defaultValue=!0;else if(this.isRange){const t=this.createNow(),e={from:t,to:t,view:t};this.setValue(e,!0)}else{let t=this.createNow();this.setValue(t,!0)}},resize(){},_set_popupBackground(){},_set_popupColor(){},onOpenPopup(t){return this.stopEvent(t),this.emitNoTransitionStateChange("open","",t),this.renderPopup(),!1},renderPopup(){if(!this._isOpen){const t=this.popup,e=Math.max(this.getZoomed(18*this.style.fontSize,this._scaleX),this.model.w),i=this.getZoomed(18*this.style.fontSize,this._scaleX);t.style.height=i+"px",t.style.width=e+"px";const r=s.Z.clone(this.model);r.h=i,r.w=e,delete r.props.databinding;const n=this.$new($t);n.mode=this.mode,n.render(r,this.getPopupStyle(),this._scaleX,this._scaleY),n.placeAt(t),n.setValue(this.value),o.Z.add(this.domNode,"MatcWidgetTypeDropDownOpen"),this.domNode.parentNode&&o.Z.add(this.domNode.parentNode,"MatcWidgetTypeDropDownFront"),this.wired&&(this.tempOwn(n.on("stateChange",s.Z.hitch(this,"onSelect"))),this.tempOwn((0,$.Z)(H.Z.body(),U.Z.press,s.Z.hitch(this,"onClose"))),this.tempOwn(y.Z.subscribe("MatcSimulatorEvent",s.Z.hitch(this,"onSimulatorEvent"))),n.wireEvents(),this.emitFocus()),this.datePicker=n,this._isOpen=!0}},getPopupStyle(){const t=s.Z.clone(this.style);return t.background=this.style.popupBackground,t.color=this.style.popupColor,t.borderTopWidth=this.style.popupBorderWidth,t.borderBottomWidth=this.style.popupBorderWidth,t.borderLeftWidth=this.style.popupBorderWidth,t.borderRightWidth=this.style.popupBorderWidth,t.borderTopColor=this.style.popupBorderColor,t.borderBottomColor=this.style.popupBorderColor,t.borderRightColor=this.style.popupBorderColor,t.borderLeftColor=this.style.popupBorderColor,t.paddingTop=0,t.paddingBottom=0,t.paddingLeft=0,t.paddingRight=0,this.style.popupShadow&&(t.boxShadow=this.style.popupShadow),this.style.popupBorderRadius&&(t.borderTopLeftRadius=this.style.popupBorderRadius,t.borderTopRightRadius=this.style.popupBorderRadius,t.borderBottomLeftRadius=this.style.popupBorderRadius,t.borderBottomRightRadius=this.style.popupBorderRadius),t},onSelect(t){if(t.selection){const e={type:"select",value:t.value,runTransition:!0,noheat:!0,e:t.e};this.emitDataBinding(e.value),this.emit("stateChange",e),this.setValue(e.value),setTimeout((()=>{this.cleanUp()}),150)}else{const e={type:"navigate",value:t.value,runTransition:!1,noheat:!0,e:t.e};this.emit("stateChange",e)}},onClose(t){this.stopEvent(t),this.emitNoTransitionStateChange("close","",t),this.cleanUp()},cleanUp(){if(this._isOpen)try{this.popup?this.popup.innerHTML="":console.warn("DropDown.cleanUp() > Called in wrong state. Popup is null"),this.domNode&&o.Z.remove(this.domNode,"MatcWidgetTypeDropDownOpen"),this.cleanUpTempListener(),this.datePicker.destroy(),delete this.datePicker,this._isOpen=!1}catch(t){console.warn(t),console.debug(t.stack)}},getValue(){return this.value},_setDataBindingValue(t){this.setValue(t)},setValue(t,e){if(t){if(o.Z.remove(this.label,"MatcWidgetTypeDateDropDownDefaultLabel"),this.value=t,e||this.validate(this.value,!0),this.label)if(this.isRange)if(this.isQDate(t.to)||(t.to=this.convertMillisToQDate(t.to)),this.isQDate(t.from)||(t.from=this.convertMillisToQDate(t.from)),this.isQDate(t.view)||(t.view=this.convertMillisToQDate(t.view)),t.defaultValue)this.showDefaultValue();else{var i=this.convertQDateToString(t.from),s=this.convertQDateToString(t.to);this.setTextContent(this.label,i+" - "+s)}else this.isQDate(t)||(t=this.convertMillisToQDate(t)),t.defaultValue?this.showDefaultValue():this.setTextContent(this.label,this.convertQDateToString(t))}else this.showDefaultValue()},getState(){return{type:"select",value:this.value}},getStateOptions(){return{value:this.value,open:this._isOpen}},setState(t){if(t){var e=t.type;switch(e){case"navigate":this.datePicker&&this.datePicker.setValue(t.value);break;case"select":this.setValue(t.value),setTimeout(s.Z.hitch(this,"cleanUp"),200);break;case"value":this.setValue(t.value),setTimeout(s.Z.hitch(this,"cleanUp"),200);break;case"close":this.cleanUp();break;case"open":this.renderPopup();break;default:this.cleanUp();break}}else this.cleanUp()},beforeDestroy(){this.cleanUp()},_validateValue(t){var e=this.model.props.validation;if(e)if(this.isRange){if(e.required&&(t.defaultValue||this.isEqualDate(t.to,t.from)))return!1}else{if(e.required&&null==t)return!1;if("date"==e.type&&e.date){if(!t)return!1;var i=t.y,s=t.m+1+"";1==s.length&&(s="0"+s);var o=t.d+"";1==o.length&&(o="0"+o);var r=o+"."+s+"."+i;return r==e.date}}return!0},isValid(t){return this.validate(this.value,t)}},mounted(){}},Yt=Gt,Xt=(0,p.Z)(Yt,Ut,Ht,!1,null,null,null),jt=Xt.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeHSlider"})},Qt=[],Kt=i(36214),Jt={name:"HSlider",mixins:[a.Z,d.Z],data:function(){return{value:null,sliderPressed:!1}},components:{},methods:{postCreate(){this.slider=this.$new(Kt.Z,{wire:!1}),this.slider.wire=!1,this.slider.placeAt(this.domNode),this._borderNodes=[this.slider.cntr,this.slider.bar],this._backgroundNodes=[this.slider.cntr],this._shadowNodes=[this.slider.cntr]},wireEvents(){this.slider.wireEvents(),this.own(this.slider.on("change",s.Z.hitch(this,"onSliderChange"))),this.own(this.slider.on("press",s.Z.hitch(this,"onSliderPress"))),this.own(this.slider.on("release",s.Z.hitch(this,"onSliderRelease"))),this.wireHover()},onSliderChange(t,e){this.sliderPressed?this.addCompositeSubState(this.slider.getValue()):this.emitStateChange("select",this.slider.getValue(),e);var i=this.slider.getValue();this.emitDataBinding(i),this.setValueLabel(i)},onSliderPress(t){this.sliderPressed=!0,this.initCompositeState(this.slider.getValue(),t)},onSliderRelease(t){this.sliderPressed=!1,this.emitCompositeState("select",this.slider.getValue()),setTimeout((()=>{this.emitStateChange("select",this.slider.getValue(),t)}),250)},cleanUp(){this.slider.cleanup(),this.sliderPressed=!1},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,e.barColor&&(this.slider.bar.style.backgroundColor=e.barColor),e.handleColor&&(this.slider.hndl.style.backgroundColor=e.handleColor),e.handleShadow&&this._setShadow(this.slider.hndl,e.handleShadow),t.props&&t.props.hasLabel&&this.slider.setShowLabel(!0),this.setStyle(e,t),this.resize(t)},resize(t){var e=Math.round(t.h/3);this.style.barHeight&&(e=Math.round(t.h*this.style.barHeight));var i={w:0,h:t.h},s={w:t.w,h:e};if(this.slider.hndl.style.height=t.h+"px",this.style.handleWidth){let t=this.getZoomed(this.style.handleWidth,this._scaleX);this.slider.hndl.style.width=t+"px",i.w=t}else this.slider.hndl.style.width=Math.round(t.w/10)+"px",i.w=Math.round(t.w/10);if(this.style.handleRadius){let t=this.getZoomed(this.style.handleRadius,this._scaleX);this.slider.hndl.style.borderRadius=t+"px"}if(this.slider.bar.style.height=s.h+"px",this.slider.cntr.style.height=s.h+"px",this.slider.render(t,s,i),this.model.props){var o=this.model.props;null!=o.max&&void 0!=o.max&&this.slider.setMax(o.max),null!=o.min&&void 0!=o.min&&this.slider.setMin(o.min),null!=o.value&&void 0!=o.value&&this.slider.setValue(o.value)}},_setDataBindingValue(t){t*=1,isNaN(t)?console.debug("_setDataBindingValue() > not int value"+t):this.setValue(t)},setValue(t){this.slider.setValue(t),this.setValueLabel(t)},getValue(){return this.slider.getValue()},getState(){return{type:"select",value:this.getValue()}},setState(t,e){if(t&&"select"==t.type){var i=this.getLastSubState(t,e);i?this.setValue(i.value):this.setValue(t.value)}},_set_handleBorderColor(t,e){this.slider.hndl.style.borderColor=e.handleBorderColor},_set_handleBorderWidth(t,e){this.slider.hndl.style.borderWidth=this._getBorderWidth(e.handleBorderWidth)+"px"},_set_handleBorderStyle(t,e){this.slider.hndl.style.borderStyle=e.handleBorderStyle},beforeDestroy(){this._compositeState&&this.emitCompositeState(),this.cleanUp()}},mounted(){}},te=Jt,ee=(0,p.Z)(te,qt,Qt,!1,null,null,null),ie=ee.exports,se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeTable"})},oe=[],re={name:"TableWidget",mixins:[a.Z,d.Z],data:function(){return{value:null,selected:[],mode:"edit"}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[this.domNode],this._paddingNodes=[],this._shadowNodes=[this.domNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.checkBoxes&&this.checkBoxes.forEach((t=>{this.own(this.addClickListener(t.div,(e=>{this.toggleCheckBox(e,t)})))})),this.trs.forEach(((t,e)=>{this.own((0,$.Z)(t,U.Z.over,(()=>this.onHoverStart(t,e)))),this.own((0,$.Z)(t,U.Z.out,(()=>this.onHoverEnd(t,e))))})),this.trs.forEach(((t,e)=>{this.own((0,$.Z)(t,U.Z.over,(()=>this.onHoverStart(t,e)))),this.own((0,$.Z)(t,U.Z.out,(()=>this.onHoverEnd(t,e))))})),this.model.props&&this.model.props.databinding&&this.model.props.databinding.action&&this.actions.forEach((t=>{this.own(this.addClickListener(t.div,(e=>this.onActionClick(e,t))))})),this.wireHover()},onClick(t){this.stopEvent(t),this.emitClick(t)},onActionClick(t,e){this.stopEvent(t),this.model.props.databinding&&this.model.props.databinding.action&&this.emitDataBinding(e.action.label,"action"),this.emitClick(t)},toggleCheckBox(t,e){this.stopEvent(t);const i=this.selected.indexOf(e.id);i<0?this.selected.push(e.id):this.selected.splice(i,1),this.model.props.databinding&&this.model.props.databinding.output&&this.emitDataBinding(this.selected,"output"),this.setSelected(this.selected),this.emitClick(t)},onHoverStart(t){this.style.hoverBackground&&(t.style.background=this.style.hoverBackground),this.style.hoverColor&&(t.style.color=this.style.hoverColor),o.Z.add(t,"MatcWidgetTypeTableRowHover")},onHoverEnd(t,e){let i=e%2!==0;this.style.evenRowBackground&&i?t.style.background=this.style.evenRowBackground:t.style.background=this.style.background,this.style.evenRowColor&&i?t.style.color=this.style.evenRowColor:t.style.color=this.style.color,o.Z.remove(t,"MatcWidgetTypeTableRowHover")},setSelected(t){this.checkBoxes&&this.checkBoxes.forEach((e=>{let i=e.id;t.indexOf(i)>=0?o.Z.add(e.div,"MatcWidgetTypeCheckBoxChecked"):o.Z.remove(e.div,"MatcWidgetTypeCheckBoxChecked")}))},onInputChange(t,e,i){console.debug("onInputChange",t,e,i),this.value},rerender(){this.render(this.model,this.style,this._scaleX,this._scaleY)},render(t,e,i,s){this.model=t,this.style=e,this.props=t.props,this._scaleX=i,this._scaleY=s,this.cleanUpTempListener(),this.removeAllChildren(this.domNode),this.checkBoxes=[],this.cells=[],this.trs=[],this.actions=[];const o=this.getTable(),r=this.getColumns(o,e),n=o.rows,a=this.getWidths(t.props,this.style),l=this.getBorderStyle(t),h=new G.Z,d=this.renderTable(h,e,l);this.renderHeader(n,r,d,e,l,a,h),this.renderRows(n,r,d,e,l,this.props.tableActions,h),this.domNode.appendChild(d),this.setStyle(e,t),this.renderOddRows(n,e)},renderTable(t,e,i){const s=t.table("MatcWidgetTypeTableBorder"+i).build();return"Out"==i||"Cell"==i?(s.style.borderColor=e.borderBottomColor,s.style.borderWidth=this._getBorderWidth(e.borderBottomWidth)+"px",s.style.borderStyle="solid"):s.style.border="none",s},renderHeader(t,e,i,s,o,r,n){let a=n.element("thead",s.headerSticky?"MatcWidgetTypeTableSticky":"").element("tr").build(i);this.setHeaderStyle(a,s),this.renderRowBorder(a,0,s,o,t.length);const l=this._getBorderWidth(s.fontSize)+"px";for(let h=0;h<e.length;h++){const i=document.createElement("td");i.setAttribute("valign","top"),i.textContent=e[h].label,i.style.fontSize=l,this.renderCellBorder(i,0,h,s,o,t.length,e.length),s.headerBottomBorderWidth&&(i.style.borderBottomWidth=s.headerBottomBorderWidth+"px"),a.appendChild(i),this._paddingNodes.push(i),r[h]&&this.setCellWidth(i,r[h])}},setCellWidth(t,e){t.style.width=Math.round(100*e)+"%"},setHeaderStyle(t,e){t.style.color=e.headerColor,t.style.background=e.headerBackground,e.headerFontStyle&&(t.style.fontStyle=e.headerFontStyle),e.headerFontWeight&&(t.style.fontWeight=e.headerFontWeight),e.headerTextDecoration&&(t.style.textDecoration=e.headerTextDecoration)},renderOddRows(t,e){if(e.evenRowBackground||e.evenRowColor)for(let i=1;i<this.trs.length;i+=2){let t=this.trs[i];t.style.background=e.evenRowBackground,t.style.color=e.evenRowColor}},renderRows(t,e,i,s,r,n,a){let l=a.tbody().build(i);for(let h=0;h<t.length;h++){let i=t[h];this.cells[h]=[];let d=a.element("tr","MatcWidgetTypeTableRow").build(l);this.trs.push(d),this.renderRowBorder(d,h,s,r,e.length);let c=s.checkBox?-1:0;for(let o=c;o<i.length;o++){const n=o-c;let l=document.createElement("td");if(l.setAttribute("valign","top"),this.setColumnColor(l,e,n),-1===o)this.renderCheckBox(i,h,l,s,a),this._paddingNodes.push(l);else if(e[n].isEditable){const t=a.input("MatcWidgetTypeTableInput").build(l);t.value=i[o],this._paddingNodes.push(t),this.tempOwn((0,$.Z)(t,"change",(e=>this.onInputChange(h,o,t.value,e))))}else l.textContent=i[o],this._paddingNodes.push(l);d.appendChild(l),this.renderCellBorder(l,h,o,s,r,t.length,e.length),this.cells[h].push(l)}if(n&&n.length>0){let l=document.createElement("td");o.Z.add(l,"MatcWidgetTypeTableActionCntr"),d.appendChild(l),this.renderCellBorder(l,h,e.length,s,r,t.length,e.length),n.forEach((t=>{let e=a.a("MatcWidgetTypeTableAction",t.label).build(l);this._paddingNodes.push(e),t.color&&(e.style.color=t.color),t.background&&(e.style.background=t.background),t.isHover&&o.Z.add(e,"MatcWidgetTypeTableActionOnlyHover"),this.actions.push({div:e,row:i,id:h,action:t})}))}}},setColumnColor(t,e,i){e[i]&&e[i].color&&(t.style.color=e[i].color),e[i]&&e[i].background&&(t.style.background=e[i].background)},renderCheckBox(t,e,i,s,o){let r=o.div("MatcWidgetTypeCheckBox").build(i),n=o.span("MatcWidgetTypeCheckBoxHook").build(r);s.checkBoxSize?(r.style.width=this._getBorderWidth(s.checkBoxSize)+"px",r.style.height=this._getBorderWidth(s.checkBoxSize)+"px"):(r.style.width=this._getBorderWidth(s.fontSize)+"px",r.style.height=this._getBorderWidth(s.fontSize)+"px"),s.checkBoxHookColor&&(n.style.borderColor=s.checkBoxHookColor),s.checkBoxBackground&&(r.style.background=s.checkBoxBackground),s.checkBoxBorderColor&&(r.style.borderColor=s.checkBoxBorderColor),s.checkBoxBorderRadius&&(r.style.borderRadius=this._getBorderWidth(s.checkBoxBorderRadius)+"px"),s.checkBoxBorderWidth&&(r.style.borderWidth=this._getBorderWidth(s.checkBoxBorderWidth)+"px"),this.checkBoxes.push({div:r,row:t,td:i,id:e})},renderRowBorder(t,e,i,s,o){if("HLines"==s)return t.style.border="none",void(e<o-1&&(t.style.borderBottomColor=i.borderBottomColor,t.style.borderBottomWidth=this._getBorderWidth(i.borderBottomWidth)+"px",t.style.borderBottomStyle="solid"))},renderCellBorder(t,e,i,s,o,r,n){if("Cell"===o){const o=this._getBorderWidth(s.borderBottomWidth)+"px";i<n-1&&(t.style.borderRightColor=s.borderBottomColor,t.style.borderRightWidth=o,t.style.borderRightStyle="solid"),e<r-1&&(t.style.borderBottomColor=s.borderBottomColor,t.style.borderBottomWidth=o,t.style.borderBottomStyle="solid")}"VLines"===o&&i<n-1&&(t.style.borderRightColor=s.borderBottomColor,t.style.borderRightWidth=this._getBorderWidth(s.borderBottomWidth)+"px",t.style.borderRightStyle="solid")},getBorderStyle(t){return t.props.borderStyle?t.props.borderStyle:"Cell"},getTable(){let t=this.getCVSData();return this.value&&(t=this.getDataBindingTable(t)),t},getCVSData(){const t=s.Z.clone(this.parseData(this.model.props.data)),e={columns:t[0].map((t=>({label:t,isEditable:!1,isSortable:!1,isSearchable:!1}))),rows:t};return this.model.props.columns?(e.columns=this.model.props.columns,this.model.props.columns.forEach(((t,i)=>{e.rows.forEach((t=>{void 0===t[i]&&(t[i]="-")}))}))):e.rows=e.rows.splice(1),e},setTabelColumns(t){return this.model.props.columns&&this.model.props.columns.forEach(((e,i)=>{t.columns[i]&&(t.columns[i].isEditable=e.isEditable,t.columns[i].isSortable=e.isSortable,t.columns[i].isSearchable=e.isSearchable,t.columns[i].databinding=e.databinding,t.columns[i].color=e.color,t.columns[i].background=e.background)})),t},getDataBindingTable(t){t.rows=[];let e=this.value;s.Z.isObject(e)&&(e=Object.values(e));const i=this.isArrayOfArray(e);return e.forEach((e=>{let s=[];t.columns.forEach(((t,o)=>{if(i)s.push(e[o]);else if(t.databinding)s.push(e[t.databinding]);else{let i=t.label;e[i]||(i=i.toLowerCase()),s.push(e[i])}})),t.rows.push(s)})),t},isArrayOfArray(t){if(Array.isArray(t)){let e=t[0];return Array.isArray(e)}return!1},parseData(t){if(t.substring){const e=[],i=t.split("\n");for(let t=0;t<i.length;t++){const s=i[t];e.push(s.split(","))}return e}return t},getColumns(t,e){let i=t.columns;return e.checkBox&&(i=[""].concat(i)),this.props.tableActions&&this.props.tableActions.length>0&&(i=i.concat([""])),i},getRowHeight(t){const e=this._getBorderWidth(t.fontSize)+this._getBorderWidth(t.paddingLeft)+this._getBorderWidth(t.paddingRight)+this._getBorderWidth(t.borderBottomWidth)+this._getBorderWidth(t.borderTopWidth);return e},getWidths(t,e,i=.6){const s=[];let o=this.getRawWidths(t);if(o){let r=0;const n=this._getBorderWidth(e.paddingLeft)+this._getBorderWidth(e.paddingRight);if(e.checkBox){const t=e.checkBoxSize?e.checkBoxSize:e.fontSize;o=[t+n].concat(o)}if(t.tableActions&&t.tableActions.length>0){const s=t.tableActions.map((t=>t.label)).join(),r=s.length*e.fontSize*i+n*t.tableActions.length;o=o.concat(r)}for(let t=0;t<o.length;t++)r+=o[t];for(let t=0;t<o.length;t++)s[t]=o[t]/r}return s},getRawWidths(t){let e=[];return t.columns&&t.columns.forEach(((t,i)=>{t.width&&(e[i]=1*t.width)})),e},setValue(t){this.value=t,this.rerender()}},mounted(){}},ne=re,ae=(0,p.Z)(ne,se,oe,!1,null,null,null),le=ae.exports,he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeSegmentButton"})},de=[],ce={name:"SegmentButton",mixins:[a.Z,d.Z],data:function(){return{value:!1}},components:{},computed:{isMulti(){return!!(this.model&&this.model.props&&this.model.props.multi)}},methods:{postCreate(){this._labelNodes=[],this._borderNodes=[],this._shadowNodes=[],this._backgroundNodes=[],this._paddingNodes=[]},wireEvents(){this.wired=!0;for(let t=0;t<this.btns.length;t++){const e=this.btns[t].o,i=this.btns[t].b;this.own(this.addClickListener(i,s.Z.hitch(this,"onSelect",e)))}this.wireHover()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s;const o=new G.Z;this.removeAllChildren(this.domNode);const r=this.model.props.options,n=100/r.length;this.btns=[];for(let a=0;a<r.length;a++){const t=r[a],i=o.div("MatcWidgetTypeSegmentButtonChild").build(this.domNode);i.style.width=n+"%";const s=o.span("",t).build(i);this._labelNodes.push(s),this.setDomStyle(i,e,a),this.btns.push({o:t,b:i}),this._paddingNodes.push(i),0==a&&(i.style.borderTopLeftRadius=this.getZoomed(e.borderTopLeftRadius,this._scaleX)+"px",i.style.borderBottomLeftRadius=this.getZoomed(e.borderBottomLeftRadius,this._scaleX)+"px"),a==r.length-1&&(i.style.borderTopRightRadius=this.getZoomed(e.borderTopRightRadius,this._scaleX)+"px",i.style.borderBottomRightRadius=this.getZoomed(e.borderBottomRightRadius,this._scaleX)+"px")}if(this.setStyle(e,t),this.model.props.selected)if(this.isMulti){let t=this.model.props.selected;this.setValue(t,!0)}else this.setValue(this.model.props.selected,!0);else this.isMulti?this.setValue([],!0):this.setValue("",!0)},setDomStyle(t,e,i){if(e.borderLeftColor&&(t.style.borderLeftColor=e.borderLeftColor),e.borderTopColor&&(t.style.borderTopColor=e.borderTopColor),e.borderBottomColor&&(t.style.borderBottomColor=e.borderBottomColor),e.borderRightColor&&(t.style.borderRightColor=e.borderRightColor),e.borderLeftWidth&&(t.style.borderLeftWidth=this.getZoomed(e.borderLeftWidth,this._scaleX)+"px"),e.borderBottomWidth&&(t.style.borderBottomWidth=this.getZoomed(e.borderBottomWidth,this._scaleX)+"px"),e.borderTopWidth&&(t.style.borderTopWidth=this.getZoomed(e.borderTopWidth,this._scaleX)+"px"),e.borderRightWidth&&(t.style.borderRightWidth=this.getZoomed(e.borderRightWidth,this._scaleX)+"px"),i>0){t.style.borderLeftColor=e.background,t.style.borderLeftWidth="0px";const i=this.getZoomed(e.paddingLeft,this._scaleX),s=this.getZoomed(e.borderLeftWidth,this._scaleX);t.style.paddingLeft=i+s+"px"}else t.style.paddingLeft=this.getZoomed(e.paddingLeft,this._scaleX)+"px";t.style.background=e.background,t.style.color=e.color},onSelect(t,e){this.stopEvent(e);let i=t;if(this.isMulti){let t=this.value.slice();const e=t.indexOf(i);e<0?t.push(i):t.splice(e,1),i=t}this.value=i,this.emitDataBinding(i),this.setValue(i),this.emitStateChange("select",i,e)},getValue(){return this.value},setValue(t){const e=this.model.active,i=this.style;if(this.isMulti){Array.isArray(t)||(t=[t]);for(let s=0;s<this.btns.length;s++){const o=this.btns[s].o,r=this.btns[s].b;t.indexOf(o)>=0&&e?this.setDomStyle(r,e,0):this.setDomStyle(r,i,s)}}else for(let s=0;s<this.btns.length;s++){const o=this.btns[s].o,r=this.btns[s].b;o==t&&e?this.setDomStyle(r,e,0):this.setDomStyle(r,i,s)}this.value=t},getState(){return{type:"select",value:this.value}},setState(t){t&&"select"==t.type&&this.setValue(t.value)},beforeDestroy:function(){}},mounted(){}},ue=ce,pe=(0,p.Z)(ue,he,de,!1,null,null,null),ge=pe.exports,me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["MatcWidgetTypeSegmentPicker",{MatcWidgetTypeSegmentPickerShadow:t.hasActiveShadow}]},[i("div",{ref:"highlight",staticClass:"MatcWidgetTypeSegmentPickerHighlight"}),i("div",{ref:"wrapper",staticClass:"MatcWidgetTypeSegmentPickerWrapper"})])},fe=[],ve={name:"SegmentPicker",mixins:[a.Z,d.Z],data:function(){return{value:!1,model:!1}},components:{},computed:{isMulti(){return!!(this.model&&this.model.props&&this.model.props.multi)},options(){return this.model&&this.model?.props?.options?this.model?.props?.options:[]},hasActiveShadow(){return!!(this.model&&this.model.active&&this.model.active.boxShadow)}},methods:{postCreate(){this._labelNodes=[],this._borderNodes=[this.domNode],this._shadowNodes=[this.$refs.highlight],this._backgroundNodes=[this.domNode],this._paddingNodes=[]},wireEvents(){this.wired=!0;for(var t=0;t<this.btns.length;t++){var e=this.btns[t].o,i=this.btns[t].b;this.own(this.addClickListener(i,s.Z.hitch(this,"onSelect",e)))}this.wireHover()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s;const o=this.$refs.wrapper;this.removeAllChildren(o);const r=new G.Z,n=this.model.props.options,a=100/n.length;this.btns=[];for(let h=0;h<n.length;h++){const t=n[h];var l=r.div("MatcWidgetTypeSegmentPickerChild").w(a,"%").build(o);let e=r.span("",t).build(l);this.btns.push({o:t,b:l}),this._paddingNodes.push(l),this._labelNodes.push(e)}this.setStyle(e,t),this.setActiveStyle(a,e),void 0!==this.model.props.selected&&this.setValue(this.model.props.selected,!0)},setActiveStyle(t,e){const i=this.$refs.highlight;i.style.width=t+"%",e.selectedBackground&&(i.style.background=e.selectedBackground),this._setBorderRadius(i,e)},onSelect(t,e){this.stopEvent(e);let i=t;this.value=i,this.emitDataBinding(i),this.setValue(i),this.emitStateChange("select",i,e)},moveSelection(t){const e=this.$refs.highlight,i=this.model.props.options,s=100/i.length;let o=i.indexOf(t);o>=0&&(e.style.left=s*o+"%");const r=this.style;for(let n=0;n<this.btns.length;n++){let e=this.btns[n].o,i=this.btns[n].b;i.style.color=e===t?r.selectedColor:r.color}},getValue(){return this.value},setValue(t){this.value=t,this.moveSelection(t)},getState(){return{type:"select",value:this.value}},setState(t){t&&"select"==t.type&&this.setValue(t.value)},beforeDestroy:function(){}},mounted(){}},ye=ve,be=(0,p.Z)(ye,me,fe,!1,null,null,null),_e=be.exports,Se=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},we=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeToggleButton"},[i("div",{staticClass:"MatcInlineEditable",attrs:{"data-dojo-attach-point":"labelNode"}})])}],xe={name:"ToggleButton",mixins:[d.Z,a.Z],data:function(){return{value:!1}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.labelNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.wireHover()},getLabelNode(){if(!this.model.props.isImageToggle)return this.labelNode},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),this.setInnerHTML(this.labelNode,this.model.props.label),this.setValue(t.props.active,!0),this.model.props.isImageToggle&&(e.backgroundImage||this.renderDefaultImage(t))},renderDefaultImage(t){let e=2*t.w,i=2*t.h;const s=document.createElement("canvas"),o=s.getContext("2d");s.width=e,s.height=i,i+=.5,e+=.5;const r=.5;o.moveTo(r,r),o.lineTo(e,i),o.moveTo(e,r),o.lineTo(r,i),o.strokeStyle="#333",o.strokeWidth=2,o.imageSmoothingEnabled=!1,o.stroke(),this.domNode.style.backgroundSize="100% 100%",this.domNode.style.backgroundImage="url("+s.toDataURL("image/png")+")";const n=Math.max(1,this._getBorderWidth(t.style.borderTopWidth));this.domNode.style.border=n+"px solid #777"},getValue(){return this.value},setValue(t,e){void 0!=t&&null!=t||(t=!1),this.value=t;let i=!0;e||(i=this.validate(this.value,!0)),t?(this.model.active&&i&&this.setStyle(this.model.active),this.setInnerHTML(this.labelNode,this.model.props.label)):(i&&this.setStyle(this.model.style),this.model.props.activeLabel&&this.setInnerHTML(this.labelNode,this.model.props.activeLabel))},getState(){return{type:"checked",value:this.value}},setState(t){t&&"checked"==t.type&&this.setValue(t.value)},_validateValue(t){var e=this.model.props.validation;return!e||!e.required||!1!==t},isValid(t){return this.validate(this.value,t)},_setDataBindingValue(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},onChange(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,t)}},mounted(){}},Ce=xe,ke=(0,p.Z)(Ce,Se,we,!1,null,null,null),Te=ke.exports,Me=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ne=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeLogicOr"},[i("div",{staticClass:"MatcWidgetTypeLogicOrLabel",attrs:{"data-dojo-attach-point":"label"}})])}],Be={name:"LogicOr",mixins:[a.Z,d.Z],data:function(){return{value:!1,topic:"MatcWidgetRadioBoxChange"}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},getLabelNode(){return this.label},resize(t){var e=Math.min(t.h,t.w);this.label.style.fontSize=.4*e+"px"},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this._drawRaute(this.domNode,t,e),this.resize(t),t.props.label&&this.setTextContent(this.label,t.props.label)},_drawRaute(t,e,i){var s=2*e.w,o=2*e.h,r=document.createElement("canvas");r.width=s,r.height=o,o+=.5,s+=.5;var n=.5,a=r.getContext("2d");a.beginPath(),a.moveTo(s/2,n),a.lineTo(s,o/2),a.lineTo(s/2,o),a.lineTo(n,o/2),a.lineTo(s/2,n),a.closePath(),a.strokeWidth=0,a.stroke(),a.fillStyle=i.background,a.fill(),t.style.backgroundImage="url("+r.toDataURL("image/png")+")"},getValue:function(){},setValue:function(){},getState:function(){return{}},setState:function(){}},mounted(){}},We=Be,Ee=(0,p.Z)(We,Me,Ne,!1,null,null,null),De=Ee.exports,Ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypePolyLine"})},Le=[],Re={name:"PolyLine",mixins:[a.Z,d.Z],data:function(){return{}},components:{},methods:{postCreate:function(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents:function(){},render:function(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s;var o=t.props.shape;this["_render_"+o]?this["_render_"+o](this.domNode,t,e):console.warn("render() > Shape "+o+" not supported")},_render_rectange_left:function(t,e,i){var s=2*e.w,o=2*e.h,r=document.createElement("canvas");r.width=s,r.height=o,o+=.5,s+=.5;var n=.5,a=r.getContext("2d");a.beginPath(),a.moveTo(s/2,n),a.lineTo(s,o/2),a.lineTo(s/2,o),a.lineTo(n,o/2),a.lineTo(s/2,n),a.closePath(),a.strokeWidth=0,a.stroke(),a.fillStyle=i.background,a.fill(),t.style.backgroundImage="url("+r.toDataURL("image/png")+")"},_render_diamond:function(t,e,i){var s=2*e.w,o=2*e.h,r=document.createElement("canvas");r.width=s,r.height=o,o+=.5,s+=.5;var n=.5,a=r.getContext("2d");a.beginPath(),a.moveTo(s/2,n),a.lineTo(s,o/2),a.lineTo(s/2,o),a.lineTo(n,o/2),a.lineTo(s/2,n),a.closePath(),a.strokeWidth=0,a.stroke(),a.fillStyle=i.background,a.fill(),t.style.backgroundImage="url("+r.toDataURL("image/png")+")"},getValue:function(){},setValue:function(){},getState:function(){return{}},setState:function(){}},mounted(){}},Oe=Re,Ae=(0,p.Z)(Oe,Ze,Le,!1,null,null,null),Pe=Ae.exports,Ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeVolumeSlider"})},Ie=[],ze={name:"VolumeSlider",mixins:[a.Z,d.Z],data:function(){return{value:null,repeats:3}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents(){this.wired=!0;for(let t=0;t<this.elements.length;t++)this.own(this.addClickListener(this.elements[t],s.Z.hitch(this,"onSelect",t)));this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onBodyClick"))),this.wireHover()},cleanUp(){this.moveListener&&this.moveListener.remove(),this.releaseListener&&this.releaseListener.remove(),delete this.moveListener,delete this.releaseListener,delete this.dndStartPos,delete this.dndStartTime},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s;var o=new G.Z;this.elements=[];for(var r=this.model.props.elementCount,n=o.div("MatcWidgetTypeVolumeSliderCntr").build(),a=1/r*100,l=1/(2*r-1)*100,h=1/(2*r-1)*100,d=0;d<r;d++){var c=o.div("MatcWidgetTypeVolumeSliderElement").build(n);c.style.height=a*(d+1)+"%",c.style.width=l+"%",c.style.left=l*d+h*d+"%",this._borderNodes.push(c),this._backgroundNodes.push(c),this._shadowNodes.push(c),this.elements.push(c)}this.domNode.appendChild(n),this.setStyle(e,t),this.setValue(t.props.selected)},onSelect(t,e){this.stopPropagation(e),this.emitStateChange("select",t,e),this.setValue(t)},onBodyClick(t){var e=this.getMouse(t),i=yt.Z.position(this.domNode),s=(e.x-i.x)/i.w,o=Math.floor(10*s);this.stopPropagation(t),this.emitStateChange("select",o,t),this.setValue(o)},setValue(t){if(t!==this.value){var e=this.model.active,i=this.model.style;if(e)for(var s=0;s<this.elements.length;s++){var o;o=s<t+1?e:i,this.elements[s].style.background=o.background,this.elements[s].style.borderTopColor=o.borderTopColor,this.elements[s].style.borderBottomColor=o.borderBottomColor,this.elements[s].style.borderRightColor=o.borderRightColor,this.elements[s].style.borderLeftColor=o.borderLeftColor,this.elements[s].style.borderTopWidth=o.borderTopWidth,this.elements[s].style.borderBottomWidth=o.borderBottomWidth,this.elements[s].style.borderRightWidth=o.borderRightColor,this.elements[s].style.borderLeftWidth=o.borderLeftWidth,this.elements[s].style.borderTopRightRadius=o.borderTopRightRadius,this.elements[s].style.borderTopLeftRadius=o.borderTopLeftRadius,this.elements[s].style.borderBottomRightRadius=o.borderBottomRightRadius,this.elements[s].style.borderBottomLeftRadius=o.borderBottomLeftRadius}this.value=t}},getValue(){return this.value},getMouse(t){const e={};return e.x=t.pageX,e.y=t.pageY,e},getState(){return{type:"select",value:this.value}},setState(t){t&&"select"==t.type&&this.setValue(t.value)},destroy(){this._compositeState&&this.emitCompositeState(),this.cleanUp()}},mounted(){}},Fe=ze,$e=(0,p.Z)(Fe,Ve,Ie,!1,null,null,null),Ue=$e.exports,He=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ge=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeImageCarousel"},[i("div",{staticClass:"MatcWidgetTypeImageCarouselCntr",attrs:{"data-dojo-attach-point":"cntr"}})])}],Ye={name:"ImageCarousel",mixins:[a.Z,d.Z],data:function(){return{value:null,repeats:3,animationDuration:300}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[],this._shadowNodes=[this.domNode]},wireEvents(){this.wired=!0,this.tempOwn(this.addTouchStart(this.domNode,s.Z.hitch(this,"onDndStart"))),this.wireHover()},onDndStart(t){return this.stopEvent(t),this.cleanUp(),this.dndStartPos=this.getMouse(t),this.moveListener=this.addTouchMove(H.Z.body(),s.Z.hitch(this,"onDnDMove")),this.releaseListener=this.addTouchRelease(H.Z.body(),s.Z.hitch(this,"onDndEnd")),this.initCompositeState(-1),!1},onDnDMove(t){this.stopEvent(t);var e=this.getMouse(t);this.emitMouseMove(t,!0);var i,s={x:Math.round(e.x-this.dndStartPos.x),y:Math.round(e.y-this.dndStartPos.y)};i=this._vertical?s.y/this.model.h:s.x/this.model.w,this.setCntrPos(-1+i),this.addCompositeSubState(-1+i)},onDndEnd(t){this.stopEvent(t);var e=this.getMouse(t);this.emitMouseMove(t);var i,o={x:Math.round(e.x-this.dndStartPos.x),y:Math.round(e.y-this.dndStartPos.y)};if(i=this._vertical?o.y/this.model.h:o.x/this.model.w,this.cleanUp(),Math.abs(i)<.2){let e=(new Zt.Z).createAnimation();e.duration=Math.round(this.animationDuration/3),e.onEnd(s.Z.hitch(this,"onSlideCenterDone",t)),i>0?e.onRender(s.Z.hitch(this,"renderSlideLeftCenter",i)):e.onRender(s.Z.hitch(this,"renderSlideRightCenter",i)),e.run()}else{let e=(new Zt.Z).createAnimation();if(e.duration=this.animationDuration,i>0){let o=this.value-1;e.onRender(s.Z.hitch(this,"renderSlideLeft",i)),e.onEnd(s.Z.hitch(this,"onSlideDone",o,t,null,-2))}else{let o=this.value+1;e.onRender(s.Z.hitch(this,"renderSlideRight",-1*i)),e.onEnd(s.Z.hitch(this,"onSlideDone",o,t,null,0))}e.run()}},_setDataBindingValue(t){const e=1*t-1;!isNaN(e)&&this.model&&this.model.props&&this.model.props.images?this.setValue(e):console.debug("_setDataBindingValue() > not int value"+t)},cleanUp(){this.moveListener&&this.moveListener.remove(),this.releaseListener&&this.releaseListener.remove(),delete this.moveListener,delete this.releaseListener,delete this.dndStartPos,delete this.dndStartTime},onScreenRendered(){let t=this.getRef("backButton");if(t){t=t[0];let e=this.factory.getUIWidgetByID(t);e||(e=this.factory.getWidgetNodeByID(t),e?(this.tempOwn((0,$.Z)(e,U.Z.press,s.Z.hitch(this,"onBack",t))),this.tempOwn((0,$.Z)(e,U.Z.release,s.Z.hitch(this,"stopEvent")))):console.error("onScreenRendered() > No widget with id as leftButton",t))}let e=this.getRef("nextButton");if(e){e=e[0];let t=this.factory.getUIWidgetByID(e);t||(t=this.factory.getWidgetNodeByID(e),t?(this.tempOwn((0,$.Z)(t,U.Z.press,s.Z.hitch(this,"onNext",e))),this.tempOwn((0,$.Z)(t,U.Z.release,s.Z.hitch(this,"stopEvent")))):console.error("onScreenRendered() > No widget with id as rightButton",e))}},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this._vertical=this.model.props.vertical;const o=new G.Z;if(this.elements=[],"edit"==this.mode){const t=o.div("MatcWidgetTypeImageCarouselBox").build(this.cntr);this.elements.push(t)}else for(var r=0;r<3;r++){const t=o.div("MatcWidgetTypeImageCarouselBox").build(this.cntr);this.elements.push(t)}this.setStyle(e),this.resize(this.model),this.setValue(0)},resize(t){if("edit"!=this.mode){if(this._vertical){this.cntr.style.height=3*t.h+"px";for(let e=0;e<3;e++){const i=this.elements[e];i.style.height=t.h+"px",i.style.top=e*t.h+"px"}}else{this.cntr.style.width=3*t.w+"px";for(let e=0;e<3;e++){const i=this.elements[e];i.style.width=t.w+"px",i.style.left=e*t.w+"px"}}this.setCntrPos(-1)}},setCntrPos(t){let e;e=this._vertical?"translateY("+t*this.model.h+"px)":"translateX("+t*this.model.w+"px)",this.cntr.style.transform=e,this.cntr.style.webkitTransform=e,this.scrollPos=t},onBack(t,e){const i=this.value-1,o=(new Zt.Z).createAnimation();return o.duration=this.animationDuration,o.onRender(s.Z.hitch(this,"renderSlideLeft",0)),o.onEnd(s.Z.hitch(this,"onSlideDone",i,e,t,-2)),o.run(),this.initCompositeState(-1),!1},onNext(t,e){const i=this.value+1,o=(new Zt.Z).createAnimation();return o.duration=this.animationDuration,o.onRender(s.Z.hitch(this,"renderSlideRight",0)),o.onEnd(s.Z.hitch(this,"onSlideDone",i,e,t,0)),o.run(),this.initCompositeState(-1),!1},renderSlideLeft(t,e){e=Math.min(e+t,1),this.setCntrPos(-1+e),this.addCompositeSubState(-1+e)},renderSlideRight(t,e){e=Math.min(e+t,1),this.setCntrPos(-1*(1+e)),this.addCompositeSubState(-1*(1+e))},onSlideDone(t,e,i,s){this.setValue(t),this.stopPropagation(e),this.emitCompositeState("slide",s),this.emitStateChange("select",t,e),this.emitDataBinding(t+1)},renderSlideLeftCenter(t,e){e=t*(1-e),this.setCntrPos(-1+e),this.addCompositeSubState(-1+e)},renderSlideRightCenter(t,e){e=t*(1-e),this.setCntrPos(-1+e),this.addCompositeSubState(-1+e)},onSlideCenterDone(t){this.emitCompositeState("slide",-1),this.setCntrPos(-1),this.emitClick(t)},getImage(t){const e=this.model.props.images,i=e.length;let s=t%i;return s<0&&(s+=i),e[s]},setImage(t,e){const i=this.elements[t];if(i)if(e)if(this.hash){let t="url(/rest/images/"+this.hash+"/"+e+")";i.style.backgroundImage=t}else if(this.jwtToken){let t="url(/rest/images/"+e+"?token="+this.jwtToken+")";i.style.backgroundImage=t}else{this.isPublic||this.logger.warn("setImage","error > no token or hash");let t="url(/rest/images/"+e+")";i.style.backgroundImage=t}else{let t=2*this.model.w,e=2*this.model.h;const s=document.createElement("canvas"),o=s.getContext("2d");s.width=t,s.height=e,e+=.5,t+=.5;const r=.5;o.moveTo(r,r),o.lineTo(t,e),o.moveTo(t,r),o.lineTo(r,e),o.strokeStyle="#333",o.strokeWidth=2,o.imageSmoothingEnabled=!1,o.stroke(),i.style.backgroundImage="url("+s.toDataURL("image/png")+")",i.style.border="1px solid #777"}},getValue(){return this.value},setValue(t){"edit"==this.mode?this.setImage(0,this.getImage(t)):(this.setImage(0,this.getImage(t-1)),this.setImage(1,this.getImage(t)),this.setImage(2,this.getImage(t+1)),this.setCntrPos(-1)),this.value=t},getMouse(t){const e={};return e.x=t.pageX,e.y=t.pageY,e},getState(){return{type:"select",value:this.value}},setState(t,e){if(t&&"select"==t.type)this.setValue(t.value);else if(t&&"slide"==t.type){const i=this.getLastSubState(t,e);i?this.setCntrPos(i.value):this.setCntrPos(0)}},destroy(){this._compositeState&&this.emitCompositeState(),this.cleanUp()}},mounted(){this.logger=new r.Z("ImageCarousel")}},Xe=Ye,je=(0,p.Z)(Xe,He,Ge,!1,null,null,null),qe=je.exports,Qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeRating"})},Ke=[],Je={name:"Rating",mixins:[a.Z,d.Z],data:function(){return{value:null,repeats:3}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents(){this.wired=!0;for(let t=0;t<this.elements.length;t++)this.own(this.addClickListener(this.elements[t],s.Z.hitch(this,"onSelect",t)));this.wireHover()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.elements=[],this.icons=[];const o=new G.Z,r=this.model.props.elementCount,n=o.div("MatcWidgetTypeRatingCntr").build();for(let a=0;a<r;a++){const t=o.div("MatcWidgetTypeRatingElement").build(n);t.style.height="100%";const i=o.span("mdi mdi-star-outline").build(t);i.style.color=e.color,this.icons.push(i),this.elements.push(t)}this.removeAllChildren(this.domNode),this.domNode.appendChild(n),this.resize(t),this.setValue(t.props.selected-1)},resize(t){const e=this.elements.length,i=t.h/t.w*100,s=(100-i*e)/(e-1);for(let o=0;o<e;o++){const e=this.elements[o];e.style.width=i+"%",e.style.left=i*o+s*o+"%";const r=this.icons[o];r.style.fontSize=t.h+"px"}},onSelect(t,e){this.stopPropagation(e),this.setValue(t),this.emitDataBinding(t+1),this.emitStateChange("select",t,e)},_setDataBindingValue(t){this.setValue(1*t-1)},setValue(t){for(let e=0;e<this.elements.length;e++){const i=this.icons[e];e<t+1?(o.Z.remove(i,"mdi-star-outline"),o.Z.add(i,"mdi-star")):(o.Z.add(i,"mdi-star-outline"),o.Z.remove(i,"mdi-star"))}this.value=t},getValue(){return this.value},getState(){return{type:"select",value:this.value}},setState(t){t&&"select"==t.type&&this.setValue(t.value)},destroy(){this._compositeState&&this.emitCompositeState()}},mounted(){}},ti=Je,ei=(0,p.Z)(ti,Qe,Ke,!1,null,null,null),ii=ei.exports,si=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},oi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeIconToggle"},[i("span",{staticClass:"MatcWidgetTypeIconToggleIcon",attrs:{"data-dojo-attach-point":"icon"}})])}],ri={name:"IconToggle",mixins:[a.Z,d.Z],data:function(){return{value:!1}},components:{},methods:{postCreate:function(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._paddingNodes=[]},wireEvents:function(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.wireHover()},getLabelNode:function(){return this.domNode},resize:function(t){var e=Math.min(t.h,t.w);this.icon.style.fontSize=e+"px"},render:function(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.domNode.style.color=e.color,e.boxShadow&&this._setBoxShadow(this.domNode,e),this.setValue(t.props.active,!0),this.resize(t)},getValue:function(){return this.value},_setDataBindingValue:function(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue:function(t,e){this.value=t;var i=!0;e||(i=this.validate(this.value,!0)),t?(this.style.activeColor&&i&&(this.domNode.style.color=this.style.activeColor),o.Z.remove(this.icon,this.model.props.passiveIcon),o.Z.add(this.icon,this.model.props.activeIcon)):(i&&(this.domNode.style.color=this.style.passiveColor),o.Z.remove(this.icon,this.model.props.activeIcon),o.Z.add(this.icon,this.model.props.passiveIcon))},getState:function(){return{type:"checked",value:this.value}},setState:function(t){t&&"checked"==t.type&&this.setValue(t.value)},_validateValue:function(t){var e=this.model.props.validation;return!e||!e.required||!1!==t},isValid(t){return this.validate(this.value,t)},_setBoxShadow(t,e){var i=e.boxShadow;if(i){var s=this.getZoomed(i.v,this._scaleY),o=this.getZoomed(i.h,this._scaleX),r=this.getZoomed(i.b,Math.max(this._scaleY,this._scaleX));t.style.textShadow=o+"px "+s+"px "+r+"px "+i.c}else t.style.textShadow="none"},onChange(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,t)}},mounted(){}},ni=ri,ai=(0,p.Z)(ni,si,oi,!1,null,null,null),li=ai.exports,hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeStepper"})},di=[],ci={name:"Stepper",mixins:[a.Z,d.Z],data:function(){return{value:0,min:!1,max:!1}},components:{},methods:{postCreate:function(){this._borderNodes=[this.domNode],this._shadowNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._paddingNodes=[]},wireEvents:function(){this.wired=!0,this.own(this.addClickListener(this.plusBtn,s.Z.hitch(this,"onPlus"))),this.own(this.addClickListener(this.minusBtn,s.Z.hitch(this,"onMinus"))),this.model.hover&&(this.own((0,$.Z)(this.plusBtn,U.Z.over,(()=>{this.onBtnOver(this.plusBtn)}))),this.own((0,$.Z)(this.plusBtn,U.Z.out,(()=>{this.onBtnOut(this.plusBtn)}))),this.own((0,$.Z)(this.minusBtn,U.Z.over,(()=>{this.onBtnOver(this.minusBtn)}))),this.own((0,$.Z)(this.minusBtn,U.Z.out,(()=>{this.onBtnOut(this.minusBtn)}))))},onBtnOut(t){t.style.background=this.style.background,t.style.color=this.style.color},onBtnOver(t){this.model.hover&&(t.style.background=this.model.hover.background,t.style.color=this.model.hover.color)},render:function(t,e,i,s){this.model=t,t.min&&(this.min=t.min),t.max&&(this.max=t.max),this.style=e,this._scaleX=i,this._scaleY=s,this.withLabel=t.props.withLabel;var o=new G.Z;if(this.removeAllChildren(this.domNode),!this.withLabel){this.minusBtn=o.div("MatcWidgetTypeStepperBtn").build(this.domNode),o.div("MatcWidgetTypeStepperLabel","-").build(this.minusBtn),this.plusBtn=o.div("MatcWidgetTypeStepperBtn").build(this.domNode),o.div("MatcWidgetTypeStepperLabel","+").build(this.plusBtn),this._paddingNodes.push(this.plusBtn),this._paddingNodes.push(this.minusBtn);var r=this._getBorderWidth(e.borderLeftWidth);this.plusBtn.style.borderLeftWidth=r+"px",this.plusBtn.style.borderLeftColor=e.borderLeftColor}t.props.value&&this.setValue(1*t.props.value,!0),this.setStyle(e)},resize:function(){},onPlus:function(t){if(this.stopEvent(t),!1===this.max||this.value<this.max){var e=this.value+1;this.emitDataBinding(e),this.setValue(e)}this.emitStateChange("select",this.value,t)},onMinus:function(t){if(this.stopEvent(t),!1===this.min||this.min>this.value){var e=this.value-1;this.emitDataBinding(e),this.setValue(e)}this.emitStateChange("select",this.value,t)},getValue:function(){return this.value},_setDataBindingValue:function(t){t*=1,isNaN(t)?console.debug("_setDataBindingValue() > not int value"+t):this.setValue(t)},setValue:function(t,e){this.value=t,e||this.setValueLabel(t)},getState:function(){return{type:"select",value:this.value}},setState:function(t){t&&"select"==t.type&&this.setValue(t.value)},beforeDestroy:function(){}},mounted(){}},ui=ci,pi=(0,p.Z)(ui,hi,di,!1,null,null,null),gi=pi.exports,mi=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},fi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeDropDown"},[i("div",{staticClass:"MatcWidgetTypeDropDownCntr",attrs:{"data-dojo-attach-point":"button"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabelCntr",attrs:{"data-dojo-attach-point":"labelCntr"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabel",attrs:{"data-dojo-attach-point":"label"}},[t._v("F")])]),i("div",{staticClass:"MatcWidgetTypeDropDownCarretCntr",attrs:{"data-dojo-attach-point":"caretCnr"}},[i("span",{staticClass:"MatcWidgetTypeDropDownCarret",attrs:{"data-dojo-attach-point":"caret"}})])]),i("div",{staticClass:"MatcWidgetTypeDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}})])}],vi={name:"MobileDropDown",mixins:[q],data:function(){return{screenScrollTop:0}},components:{},methods:{setScreenScroll(t){this.screenScrollTop=t},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onOpenPopup"))),this.own(y.Z.subscribe("MatcSimulatorScrollEvent",s.Z.hitch(this,"setScreenScroll"))),this.wireHover(),this.wired=!0},onOpenPopup(t){return this.stopEvent(t),this.emitNoTransitionStateChange("open",this.screenScrollTop,t),this.renderMobilePopup(this.screenScrollTop),!1},renderMobilePopup(){if(!this._isMobileOpen){const e=this.getScreenDiv();if(e){const i=new G.Z;this.mobileBackGround=i.div("MatchWidgetTypeDropDownMobilePopupBackground").build(e);const r=this.style,n=i.div("MatchWidgetTypeDropDownMobilePopup").build();if(r.popupShadow&&this._setShadow(n,r.popupShadow),r.popupBorderColor&&(n.style.borderColor=r.popupBorderColor),r.popupBorderWidth){var t=Math.max(1,this.getZoomed(r.popupBorderWidth,this._scaleY));n.style.borderWidth=t+"px"}r.popupBackground&&(n.style.background=r.popupBackground),r.popupColor&&(n.style.color=r.popupColor),r.popupRadius?n.style.borderRadius=this._getBorderWidth(r.popupRadius)+"px":n.style.borderRadius=this._getBorderWidth(10)+"px";const a=i.div("MatchWidgetTypeDropDownMobilePopupCntr").build(n),l=this._getBorderWidth(20)+"px",h=this._getBorderWidth(20)+"px",d=this._getBorderWidth(20)+"px",c=[],u=this.model.props.options;for(let t=0;t<u.length;t++){let e=u[t],n=i.div("MatcWidgetTypeDropDownMobileOption",e).build(a);if(c.push(n),this.value==e&&o.Z.add(n,"MatcWidgetTypeDropDownMobileOptionSelected"),n.style.padding=h,n.style.fontSize=l,r.optionBorderColor&&(n.style.borderBottomColor=r.optionBorderColor),r.optionBorderWidth){let t=this._getBorderWidth(r.optionBorderWidth)+"px";n.style.borderBottomWidth=t+"px"}let p=i.div("MatcWidgetTypeDropDownMobileRadio").build(n);i.div("MatcWidgetTypeDropDownMobileRadioCheck").build(p),p.style.height=d,p.style.width=d,p.style.top=h,p.style.right=h,r.radioBorderColor&&(p.style.borderColor=r.radioBorderColor),r.radioBackgroundColor&&(p.style.borderColor=r.radioBackgroundColor),this.wired&&(this.tempOwn((0,$.Z)(n,U.Z.press,s.Z.hitch(this,"onMobileOptionPress",e))),this.tempOwn((0,$.Z)(n,U.Z.release,s.Z.hitch(this,"onMobileOptionRelease",e,c,t))))}this.mobileBackGround.appendChild(n);const p=yt.Z.position(n),g=Math.round(yt.Z.position(a).h)+"px",m=this.factory.model,f=m.screenSize.h,v=Math.round(Math.min(p.h,.8*f)),b=Math.round((f-v)/2);n.style.height=v+"px",n.style.top=b+"px","view"==this.mode&&(a.style.height=g,a.style.position="relative"),v<p.h-5?(this._mobilePressHasScroll=!0,o.Z.add(a,"MatchWidgetTypeDropDownMobilePopupScroll")):this._mobilePressHasScroll=!1,this.wired&&(this.tempOwn((0,$.Z)(this.mobileBackGround,U.Z.press,s.Z.hitch(this,"onClose"))),this.tempOwn((0,$.Z)(H.Z.body(),U.Z.press,s.Z.hitch(this,"onClose"))),this.tempOwn(y.Z.subscribe("MatcSimulatorEvent",s.Z.hitch(this,"onSimulatorEvent"))),this.tempOwn((0,$.Z)(a,"scroll",s.Z.hitch(this,"onPopupScroll",v))),y.Z.publish("MatcSimulatorPreventScroll",0)),this._mobileCntr=a,this._mobilePopupHeight=v,this._mobilePopup=n,this._isMobileOpen=!0,y.Z.publish("MatcSimulatorRenderFixedPopup",this.mobileBackGround),setTimeout((()=>{}),50)}}},onPopupScroll(){const t=this.getPopupScroll();this._mobilePopupScrollInited?this.addCompositeSubState(t):(this.initCompositeState(t),this._mobilePopupScrollInited=!0)},onMobileOptionPress(t,e){return this.stopPropagation(e),this._mobilePressStart=this.getMouse(e),this._mobilePressHasScroll||(this._mobileMouseListener&&this._mobileMouseListener.remove(),this._mobileMouseListener=(0,$.Z)(H.Z.body(),U.Z.move,(function(t){return t.preventDefault(),!1}))),!1},onMobileOptionRelease(t,e,i,r){this.stopPropagation(r);var n=this.getMouse(r);if(this._mobilePressStart){if(Math.abs(n.x-this._mobilePressStart.x)<10&&Math.abs(n.y-this._mobilePressStart.y)<10){for(var a=0;a<e.length;a++)o.Z.remove(e[a],"MatcWidgetTypeDropDownMobileOptionSelected");o.Z.add(e[i],"MatcWidgetTypeDropDownMobileOptionSelected"),y.Z.publish("MatcSimulatorAllowScroll",1),setTimeout(s.Z.hitch(this,"onSelect",t,r),150)}else console.debug("scroll gesture");delete this._mobilePressStart}return!1},cleanUpMobilePopup(){this._isMobileOpen&&(this.emitCompositeState("popupScroll",this.getPopupScroll(),null),this.mobileBackGround&&this.mobileBackGround.parentNode&&this.mobileBackGround.parentNode.removeChild(this.mobileBackGround),delete this.mobileBackGround),this._mobileMouseListener&&this._mobileMouseListener.remove(),delete this._mobileMouseListener,delete this._mobilePressStart,delete this._mobilePressHasScroll,delete this._mobilePopupScrollInited,delete this._mobileCntr,delete this._mobilePopupHeight,delete this._mobileLastScrollTop,this._isMobileOpen=!1},getPopupScroll(){if(this._mobileCntr&&this._mobilePopupHeight){var t=this._mobileCntr,e=void 0!==t.pageYOffset?t.pageYOffset:t.scrollTop;return e/this._mobilePopupHeight}return 0},setPopupScroll(t){this.renderMobilePopup(this._mobileLastScrollTop),this._mobileCntr&&this._mobilePopupHeight&&(this._mobileCntr.style.top=-1*t*this._mobilePopupHeight+"px")},cleanUp(){this.cleanUpPopup(),this.cleanUpMobilePopup(),this.cleanUpTempListener(),this.model.focus&&this.lastValidation&&this.emitAnimation(this.model.id,0,this.model.style)},setState(t,e){if(t){const o=t.type;switch(o){case"select":this.setValue(t.value),setTimeout(s.Z.hitch(this,"cleanUp"),200);break;case"close":this.cleanUp();break;case"open":this._mobileLastScrollTop=t.value,this.renderMobilePopup(t.value);break;case"popupScroll":var i=this.getLastSubState(t,e);i&&this.setPopupScroll(i.value);break;default:this.cleanUp();break}}else this.cleanUp()},beforeDestroy(){this.cleanUp()}},mounted(){}},yi=vi,bi=(0,p.Z)(yi,mi,fi,!1,null,null,null),_i=bi.exports,Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeTextBox"})},wi=[],xi={name:"TypeAheadTextBox",mixins:[st],data:function(){return{selectedPopupItem:-1}},components:{},methods:{onTextBoxRendered(t){t?.props?.options&&(this.hints=t?.props?.options),this.log.log(4,"onTextBoxRendered","exit > ",this.hints)},onKeyUp(t){this.log.log(1,"onKeyUp","enter > ",t)},onKeyDown(t){if(this.log.log(-1,"onKeyPress","enter > "),this.suggestions){const e=t.which||t.keyCode;if(this.log.log(-1,"onKeyPress","enter > ",e),40==e){const t=Math.min(this.suggestions.length-1,this.selected+1);return this.setSelectedOption(t),void this.addCompositeSubState(this.getStateOptions())}if(38==e){const t=Math.max(-1,this.selected-1);return this.setSelectedOption(t),void this.addCompositeSubState(this.getStateOptions())}if(13==e&&this.selected>=0&&this.selected<this.suggestions.length)return void this.onSelect(this.suggestions[this.selected])}this.value=this._readValue(),this.setTypeAhead(this.value),this.addCompositeSubState(this.getStateOptions())},setTypeAhead(t){const e=this.getSuggestions(t);e.length>0?t!=this.currentTypeAheadValue&&(this.showTypeAhead(e),this.currentTypeAheadValue=t):this.hideTypeAhead()},getSuggestions(t){t=t.toLowerCase();const e=[];if(t.length>2)for(let i=0;i<this.hints.length;i++){const s=this.hints[i],o=s.toLowerCase();0==o.indexOf(t)&&e.push(s)}return e},showTypeAhead(t){this.renderTypeAhead(t)},renderTypeAhead(t){this.hideTypeAhead();const e=new G.Z;this.popup=e.div("MatcWidgetTypeDropDownPopUp ").build(),this.optionNodes=[],this.suggestions=t;const i=Math.min(10,t.length);for(let o=0;o<i;o++){const i=t[o],r=e.div("MatcWidgetTypeDropDownOption",i).build(this.popup);r.style.paddingTop=this._getBorderWidth(this.style["paddingTop"])+"px",r.style.paddingLeft=this._getBorderWidth(this.style["paddingLeft"])+"px",r.style.paddingRight=this._getBorderWidth(this.style["paddingRight"])+"px",r.style.paddingBottom=this._getBorderWidth(this.style["paddingBottom"])+"px",this.wired&&(this.tempOwn((0,$.Z)(r,U.Z.press,s.Z.hitch(this,"onSelect",i))),this.tempOwn((0,$.Z)(r,U.Z.over,s.Z.hitch(this,"onMouseOverOption",o)))),this.optionNodes.push(r)}o.Z.add(this.domNode,"MatcWidgetTypeDropDownOpen"),this.domNode.parentNode&&o.Z.add(this.domNode.parentNode,"MatcWidgetTypeDropDownFront"),this.wired&&(this.tempOwn((0,$.Z)(H.Z.body(),U.Z.over,s.Z.hitch(this,"onMouseOutOption"))),this.tempOwn((0,$.Z)(H.Z.body(),U.Z.press,s.Z.hitch(this,"hideTypeAhead"))),this.tempOwn(y.Z.subscribe("MatcSimulatorEvent",s.Z.hitch(this,"onSimulatorEvent")))),this.domNode.appendChild(this.popup),this.set_popupShadow(this.popup,this.style,this.model),this.set_popupBorderColor(this.popup,this.style,this.model),this.set_popupBorderWidth(this.popup,this.style,this.model),this.set_popupBackground(this.popup,this.style,this.model),this.set_popupColor(this.popup,this.style,this.model),this.set_popupMargin(this.popup,this.style,this.model)},set_popupMargin(t,e,i){if(i?.props?.hideUpperBorder)if("MatcWidgetTypeDropDownPopUber"===i.props.popupPosition){const i=this._getBorderWidth(e.borderTopWidth)+1;t.style.bottom=`calc(100% - ${i}px)`,t.style.borderBottomWidth="0px",t.style.borderBottomRightRadius="0px",t.style.borderBottomLeftRadius="0px"}else{const i=this._getBorderWidth(e.borderBottomWidth)+1;t.style.top=`calc(100% - ${i}px)`,t.style.borderTopWidth="0px",t.style.borderTopRightRadius="0px",t.style.borderTopLeftRadius="0px"}},set_popupShadow(t,e){e.popupShadow&&this._setShadow(this.popup,e.popupShadow)},set_popupBorderColor(t,e){e.popupBorderColor?this.popup.style.borderColor=e.popupBorderColor:this.popup.style.borderColor=e.borderBottomColor},set_popupBorderWidth(t,e){var i=Math.max(1,this.getZoomed(e.borderBottomWidth,this._scaleY));e.popupBorderWidth&&(i=Math.max(1,this.getZoomed(e.popupBorderWidth,this._scaleY))),this.popup.style.borderWidth=i+"px"},set_popupBackground(t,e){e.popupBackground?this.popup.style.background=e.popupBackground:this.popup.style.background=e.background},set_popupColor(t,e){this.popup.style.color=e.color},onMouseOverOption(t,e){this.stopEvent(e),this.setSelectedOption(t),this.addCompositeSubState(this.getStateOptions())},onMouseOutOption(){-1!=this.selected&&(this.setSelectedOption(-1),this.addCompositeSubState(this.getStateOptions()))},setSelectedOption(t){if(this.optionNodes){if(this.selected!=t){const e=this.style;for(let t=0;t<this.optionNodes.length;t++){const i=this.optionNodes[t];i.style.color=e.color,e.popupBackground?i.style.background=e.popupBackground:i.style.background=e.background}const i=this.optionNodes[t];i&&(e.selectedOptionColor&&(i.style.color=e.selectedOptionColor),e.selectedOptionBackground&&(i.style.background=e.selectedOptionBackground))}this.selected=t}},onSelect(t,e){this.stopEvent(e),this.hideTypeAhead(),this.cleanUp(),this.input.value=t,this.addCompositeSubState(this.getStateOptions()),this.input.blur()},hideTypeAhead(){this.popup&&(this.domNode.removeChild(this.popup),delete this.popup,this.cleanUpTempListener(),delete this.optionNodes,delete this.currentTypeAheadValue),this.selected=-1},setState(t,e){if(t&&"text"==t.type)if(t.children){var i=this.getLastSubState(t,e);if(i){var s=i.value;this.setValue(s.txt),s.visible?(this.setTypeAhead(s.txt),this.setSelectedOption(s.selected)):this.hideTypeAhead()}}else this.hideTypeAhead(),this.setValue(t.value);else this.cleanUp()},getState(){return{type:"text",value:this._readValue(),options:this.getStateOptions()}},getStateOptions(){var t=this._readValue(),e={txt:t,selected:this.selected,visible:null!=this.popup&&void 0!=this.popup,valid:this.lastValidation,focus:this.hasFocus};return e},cleanUp(){this.hideTypeAhead(),this.keyListener&&this.keyListener.remove(),delete this.keyListener},afterFocus(){this.initCompositeState(this.getStateOptions())},onSimulatorEvent(t,e,i){"ScreenScroll"!=t&&"Animation"!=t&&i!=this.model.id&&(this.popup&&(this.emitNoTransitionStateChange("close",""),this.cleanUp()),this.hasFocus&&this.input.blur())}},mounted(){}},Ci=xi,ki=(0,p.Z)(Ci,Si,wi,!1,null,null,null),Ti=ki.exports,Mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcInlineEditable MatcWidgetTypeLabelInlineEditable"})},Ni=[],Bi={name:"Label",mixins:[a.Z,d.Z],data:function(){return{value:"",hackValueLabel:!1}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.domNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.wireHover()},onSimulatoStarted(){this.isSimulatorStarted=!0,this.isAnimated()&&(this.isChatAnimation()?this.startChatAnimation(this.model.props.label,this.animDuration):this.startNumberAnimation(this.animMax))},getLabelNode(){return this.domNode},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.isAnimated()&&(this.animCurrent=t.props.min,this.animMax=t.props.max,this.animDuration=1*t.props.duration),this.setStyle(e,t),t.props&&t.props.label?this.setValue(t.props.label):this.setValue("")},updateScale(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t,!0)},_setDataBindingValue(t){if(this.isQDate(t))t=this.convertQDateToString(t);else if(this.isQDateRange(t))t=this.convertQDateToString(t.from)+" - "+this.convertQDateToString(t.to);else if("object"===typeof t&&!Array.isArray(t)&&null!==t)try{t=JSON.stringify(t,"  ",2)}catch(e){console.warn("Label._setDataBindingValue() Cannot convert JSON",t)}if(this.animIsRunning=!1,this.isAnimated()&&this.isChatAnimation())this.startChatAnimation(t,this.animDuration,!1);else if(!this.isAnimated()||isNaN(t)){if(this.model.props&&this.model.props.label){const e=this.getLabelValue();t=this.replaceVaribale(e,t)}this.setValue(t)}else this.startNumberAnimation(t)},getLabelValue(){return this.model.props&&this.model.props.label},replaceVaribale(t,e){return t.indexOf("{0}")>=0?t.replace("{0}",e):t.indexOf("{value}")>=0?t.replace("{value}",e):e},getValue(){return this.value},setValue(t){t+="",this.value!=t&&(this.value=t,this.setInnerHTML(this.domNode,t))},startChatAnimation(t,e){let i=1/(3*e);const s=t.length,o=Math.round(i*s*30),r=o/s;clearTimeout(this.animationRepeat),this.animSteps=[];for(let n=0;n<o;n++){const e=Math.floor(n/r);this.animSteps.push(t.slice(0,e))}this.animSteps.push(t),this.animIsRunning=!0,this.runLabelAnimation("",t)},startNumberAnimation(t){const e=this.getLabelValue(),i=t-this.animCurrent,s=30*this.animDuration,o=i/s;this.animSteps=[];let r=this.animCurrent;for(let n=0;n<s;n++)this.animSteps.push(Math.round(r)),r+=o;this.animSteps.push(t),this.animIsRunning=!0,this.runLabelAnimation(e,t)},runLabelAnimation(t,e,i){if(this.animIsRunning)if(this.animSteps.length>0){let s=this.animSteps.shift();s=this.replaceVaribale(t,s),this.setTextContent(this.domNode,s+""),requestAnimationFrame((()=>{this.runLabelAnimation(t,e,i)}))}else this.animCurrent=e,i&&i();else this.animCurrent=e},isAnimated(){return this.model&&this.model.props.animated},isChatAnimation(){return this.model&&"chat"===this.model.props.animation},getState(){return{type:"value",value:this.value}},setState(t){this.hackValueLabel||t&&"value"==t.type&&this.setValue(t.value)},resize(t){"Auto"!==this.style.fontSize&&"a"!==this.style.fontSize||(this.domNode.style.fontSize=.95*t.h+"px")},_set_fontSize(t,e){if("Auto"===e.fontSize||"a"===this.style.fontSize)t.style.fontSize=Math.round(.95*this.model.h)+"px";else{var i=e.fontSize*this._scaleX;this._scaleX<1&&(i*=.95),t.style.fontSize=Math.round(i)+"px"}},onClick(t){this.stopEvent(t),this.emitClick(t)},beforeDestroy(){this._isDestroyed=!0,this.animIsRunning=!1,clearTimeout(this.animationRepeat)}},mounted(){}},Wi=Bi,Ei=(0,p.Z)(Wi,Mi,Ni,!1,null,null,null),Di=Ei.exports,Zi=i(75919),Li=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ri=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeDropDown"},[i("div",{staticClass:"MatcWidgetTypeDropDownCntr",attrs:{"data-dojo-attach-point":"button"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabelCntr",attrs:{"data-dojo-attach-point":"labelCntr"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabel",attrs:{"data-dojo-attach-point":"label"}},[t._v("F")])]),i("div",{staticClass:"MatcWidgetTypeDropDownCarretCntr",attrs:{"data-dojo-attach-point":"caretCnr"}},[i("span",{staticClass:"MatcWidgetTypeDropDownCarret",attrs:{"data-dojo-attach-point":"caret"}})])]),i("div",{staticClass:"MatcWidgetTypeDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}})])}],Oi={name:"HoverDropDown",mixins:[q],data:function(){return{}},components:{},methods:{wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onOpenHoverPopup",!0))),this.own((0,$.Z)(this.domNode,U.Z.over,s.Z.hitch(this,"onOpenHoverPopup",!1))),this.own((0,$.Z)(this.domNode,U.Z.over,s.Z.hitch(this,"onDomMouseOver"))),this.own((0,$.Z)(this.domNode,U.Z.out,s.Z.hitch(this,"onDomMouseOut"))),this.wired=!0},onOpenHoverPopup(t,e){if(console.debug("onOpenHoverPopup"),!this.popupBackDrop){var i=new G.Z;this.popupBackDrop=i.div("MatcWidgetTypeHoverDropDownBackground").build(this.getScreenDiv()),o.Z.add(this.domNode,"MatcWidgetTypeHoverDropDownOpen"),this.tempOwn((0,$.Z)(this.popupBackDrop,U.Z.over,s.Z.hitch(this,"onCloseHover")))}return this.stopEvent(e),this.emitOpenPopup(),this.renderPopup(),t?this.initCompositeState(this.getStateOptions(),e):this.initCompositeState(this.getStateOptions()),!1},onCloseHover(t){this.stopEvent(t),this.cleanUpBackDrop(),this.cleanUp(),this.emitNoTransitionStateChange("close","")},cleanUpBackDrop(){if(this.popupBackDrop){var t=this.popupBackDrop.parentNode;t&&t.removeChild(this.popupBackDrop)}delete this.popupBackDrop,o.Z.remove(this.domNode,"MatcWidgetTypeHoverDropDownOpen")},beforeDestroy(){this.cleanUpBackDrop(),this.cleanUp()}},mounted(){}},Ai=Oi,Pi=(0,p.Z)(Ai,Li,Ri,!1,null,null,null),Vi=Pi.exports,Ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeCheckBoxGroup"})},zi=[],Fi={name:"CheckBoxGroup",mixins:[a.Z,d.Z],data(){return{value:[],options:[]}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._hookNodes=[],this._labelNodes=[],this._rowNodes=[]},cleanupRender(){this.removeAllChildren(this.domNode),this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._hookNodes=[],this._labelNodes=[],this._rowNodes=[]},wireEvents(){for(let t=0;t<this._borderNodes.length;t++){const e=this._borderNodes[t],i=this._rowNodes[t],o=this.options[t];this.own(this.addClickListener(e,s.Z.hitch(this,"onChange",o))),this.own(this.addClickListener(i,s.Z.hitch(this,"onChange",o)))}this.wireHover()},resize(t){this.setChildSize(t,this.style,this.scaleX,this.scaleY)},arraysEqual(t,e){if(t.length!==e.length)return!1;for(var i=t.length;i--;)if(t[i]!==e[i])return!1;return!0},render(t,e,i,s){this.arraysEqual(this.options,t.props.options)||this.cleanupRender(),this.model=t,this.style=e,this.options=t.props.options,this._scaleX=i,this._scaleY=s,this.renderChildren(t.props.options),this.setStyle(e,t),this.setChildStyles(t,e,i,s),this.setChildSize(t,e,i,s),this.setValue(t.props.selected,!0)},setChildStyles(t){for(var e=0;e<this._hookNodes.length;e++){var i=this._hookNodes[e];t.style.colorButton&&(i.style.borderBottomColor=t.style.colorButton,i.style.borderRightColor=t.style.colorButton)}},setChildSize(t,e){for(var i=this._getBorderWidth(e.boxHeight),s=this._borderNodes.length,o=(t.h-s*i)/(s-1),r=this._getBorderWidth(e.boxMarginRight),n=0;n<s;n++){var a=this._borderNodes[n];a.style.width=i+"px",a.style.height=i+"px",a.style.marginRight=r+"px";var l=this._hookNodes[n];l.style.borderBottomWidth=this._getBorderWidth(e.boxHeight/10)+"px",l.style.borderRightWidth=this._getBorderWidth(e.boxHeight/10)+"px";var h=this._rowNodes[n];h.style.height=i+"px",h.style.top=Math.floor(n*(o+i))+"px"}},renderChildren(t){if(0===this._borderNodes.length){for(var e=new G.Z,i=e.div().build(),s=0;s<t.length;s++){var o=t[s];this.renderChild(o,s,i,e)}this.domNode.appendChild(i)}},renderChild(t,e,i,s){var o=s.div("MatcWidgetTypeCheckBoxRow").build(i),r=s.div("MatcWidgetTypeCheckBox").build(o),n=s.span("MatcWidgetTypeCheckBoxHook").build(r),a=s.div("MatcWidgetTypeCheckBoxLabel").span(null,t).build(o);this._borderNodes.push(r),this._backgroundNodes.push(r),this._hookNodes.push(n),this._rowNodes.push(o),this._labelNodes.push(a)},getValue(){return this.value},_setDataBindingValue(t){t||(t=[]),this.setValue(t)},setValue(t,e){t||(t=[]),this.value=t;var i=!0;if(e||(i=this.validate(this.value,!0)),t&&t.indexOf)for(var s=0;s<this._borderNodes.length;s++){var r=this._borderNodes[s],n=this.options[s],a=t.indexOf(n)>=0;a&&i?o.Z.add(r,"MatcWidgetTypeCheckBoxChecked"):o.Z.remove(r,"MatcWidgetTypeCheckBoxChecked")}},getState(){return{type:"checked",value:this.value}},setState(t){t&&"checked"==t.type&&this.setValue(t.value)},_validateValue(t){var e=this.model.props.validation;return!(e&&e.required&&(!t||0===t.length))},isValid(t){return this.validate(this.value,t)},onChange(t,e,i){this.stopEvent(i),this.value||(this.value=[]),this.value.push||(this.value=[this.value]);var s=this.value.indexOf(t);s<0?this.value.push(t):this.value.splice(s,1),this.setValue(this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,i)}},mounted(){}},$i=Fi,Ui=(0,p.Z)($i,Ii,zi,!1,null,null,null),Hi=Ui.exports,Gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeRadioGroup"})},Yi=[],Xi={name:"RadioGroup",mixins:[Hi,d.Z],data(){return{value:{},options:[]}},components:{},methods:{renderChildren(t){if(0===this._borderNodes.length){const e=new G.Z,i=e.div().build();for(let s=0;s<t.length;s++){const o=t[s];this.renderChild(o,s,i,e)}this.domNode.appendChild(i)}},setChildStyles(t){for(let e=0;e<this._hookNodes.length;e++){const i=this._hookNodes[e];t.style.colorButton&&(i.style.background=t.style.colorButton)}},renderChild(t,e,i,s){const o=s.div("MatcWidgetTypeCheckBoxRow").build(i),r=s.div("MatcWidgetTypeRadioBox MatcWidgetTypeRadioBox2").build(o),n=s.span("MatcWidgetTypeRadioBoxCircle").build(r),a=s.div("MatcWidgetTypeCheckBoxLabel").span(null,t).build(o);this._borderNodes.push(r),this._backgroundNodes.push(r),this._hookNodes.push(n),this._rowNodes.push(o),this._labelNodes.push(a)},getValue(){return this.value},_setDataBindingValue(t){this.setValue(t)},setValue(t,e){this.value=t;let i=!0;e||(i=this.validate(this.value,!0));for(let s=0;s<this._borderNodes.length;s++){const e=this._borderNodes[s],r=this.options[s],n=r===t;n&&i?o.Z.add(e,"MatcWidgetTypeRadioBoxChecked"):o.Z.remove(e,"MatcWidgetTypeRadioBoxChecked")}},getState(){return{type:"select",value:this.value}},setState(t){t&&"select"==t.type&&this.setValue(t.value)},_validateValue(t){const e=this.model.props.validation;if(e&&e.required&&this.options){const e=this.options.indexOf(t);return e>=0}return!0},isValid(t){return this.validate(this.value,t)},onChange(t,e,i){this.stopEvent(i),this.setValue(t),this.emitDataBinding(this.value),this.emitStateChange("select",this.value,i)}},mounted(){}},ji=Xi,qi=(0,p.Z)(ji,Gi,Yi,!1,null,null,null),Qi=qi.exports,Ki=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ji=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeIconToggle MatcWidgetTypeLabeledIconToggle"},[i("span",{staticClass:"MatcWidgetTypeIconToggleIcon",attrs:{"data-dojo-attach-point":"icon"}}),i("span",{staticClass:"MatcWidgetTypeIconToggleIconLabel",attrs:{"data-dojo-attach-point":"label"}})])}],ts={name:"LabeledIconToggle",mixins:[a.Z,d.Z],data:function(){return{value:!1}},components:{},methods:{postCreate:function(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._paddingNodes=[this.label],this._labelNodes=[this.label]},wireEvents:function(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.wireHover()},getLabelNode:function(){return this.label},resize:function(t){var e=t.h;this.icon.style.fontSize=e+"px","Auto"===this.style.fontSize&&(this.label.style.fontSize=.95*e+"px")},render:function(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,t.props.label&&this.setTextContent(this.label,t.props.label),this.setValue(t.props.active,!0),this.resize(t),this.setStyle(e,t)},getValue:function(){return this.value},_set_color:function(t,e){e.color&&("transparent"!==e.color?this.label.style.color=e.color:this.label.style.color="")},_set_fontSize:function(t,e){"Auto"===e.fontSize||"a"===this.style.fontSize?this.label.style.fontSize=.95*this.model.h+"px":this.label.style.fontSize=e.fontSize*this._scaleX+"px"},_setDataBindingValue:function(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue:function(t,e){this.value=t;var i=!0;e||(i=this.validate(this.value,!0)),t?(this.style.activeColor&&i&&(this.domNode.style.color=this.style.activeColor),o.Z.remove(this.icon,this.model.props.passiveIcon),o.Z.add(this.icon,this.model.props.activeIcon)):(i&&(this.domNode.style.color=this.style.passiveColor),o.Z.remove(this.icon,this.model.props.activeIcon),o.Z.add(this.icon,this.model.props.passiveIcon))},getState:function(){return{type:"checked",value:this.value}},setState:function(t){t&&"checked"==t.type&&this.setValue(t.value)},_validateValue:function(t){var e=this.model.props.validation;return!e||!e.required||!1!==t},isValid:function(t){return this.validate(this.value,t)},onChange:function(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,t)}},mounted(){}},es=ts,is=(0,p.Z)(es,Ki,Ji,!1,null,null,null),ss=is.exports,os=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeRest"},[i("span",{staticClass:"MatcWidgetTypeIconToggleIcon mdi mdi-cloud-braces",attrs:{"data-dojo-attach-point":"icon"}}),i("span",{staticClass:"MatcWidgetTypeRestLabel",attrs:{"data-dojo-attach-point":"labelNode"}},[t._v(t._s(t.label))])])},rs=[],ns={name:"Rest",mixins:[a.Z,d.Z],data:function(){return{value:!1,model:null}},components:{},computed:{label(){return this.model?this.model.name:"Rest"}},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._paddingNodes=[]},getLabelNode(){return this.labelNode},resize(t){var e=t.h;this.icon.style.fontSize=.8*e+"px",this.labelNode.style.fontSize=.2*e+"px"},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.domNode.style.color=e.color,this.setValue(t.props.active,!0),this.resize(t)},_setDataBindingValue(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},getValue:function(){},setValue:function(){},getState:function(){return{}},setState:function(){}},mounted(){}},as=ns,ls=(0,p.Z)(as,os,rs,!1,null,null,null),hs=ls.exports,ds=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeVector",style:{backgroundImage:t.backgroundImage}},[t._v(t._s(t.errorMsg))])},cs=[],us={name:"Vector",mixins:[a.Z,d.Z],data:function(){return{backgroundImage:"",errorMsg:""}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[this.domNode],this._shadowNodes=[]},wireEvents(){this.own(this.addClickListener(this.domNode,(t=>{this.onClick(t)}))),this.wireHover()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s;var o=t.props.figmaImage;e.backgroundImage?this.hash?this.backgroundImage="url(/rest/images/"+this.hash+"/"+e.backgroundImage.url+")":this.jwtToken?this.backgroundImage="url(/rest/images/"+e.backgroundImage.url+"?token="+this.jwtToken+")":this.backgroundImage="url(/rest/images/"+e.backgroundImage.url+")":o?this.backgroundImage=`url(${o})`:this.errorMsg="No figma image"},getValue(){},setValue(){},getState(){return{}},setState(){}},mounted(){this.logger=new r.Z("Vector")}},ps=us,gs=(0,p.Z)(ps,ds,cs,!1,null,null,null),ms=gs.exports,fs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeSketch"},[t._v("X")])},vs=[],ys={name:"Sketch",mixins:[a.Z,d.Z],data:function(){return{}},components:{},methods:{postCreate:function(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents:function(){},render:function(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s},getValue:function(){},setValue:function(){},getState:function(){return{}},setState:function(){}},mounted(){}},bs=ys,_s=(0,p.Z)(bs,fs,vs,!1,null,null,null),Ss=_s.exports,ws=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["MatcWidgetTypeRepeater",{MatcWidgetTypeRepeaterHasBorder:t.hasBorder},{MatcWidgetTypeRepeaterGridSpaceBetween:t.hasSpaceBetween}]})},xs=[],Cs=i(768),ks=i(7325),Ts={name:"Repeater",mixins:[a.Z,d.Z],data:function(){return{model:{props:{}},hasXOverFlow:!1,dataBindingValues:null}},computed:{hasSpaceBetween(){return this.model.props.auto},hasBorder(){if(this.model&&this.model.style){let t=this.model.style;return t.borderTopWidth>0||t.borderBottomWidth>0||t.borderRightWidth>0||t.borderLeftWidth>0}return!1}},methods:{setSymbol(t){this.isSymbol=t},setZoomedModel(t){this.app=t},postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this.logger=new r.Z("Repeater")},wireEvents(){this.wireHover()},getHandlers(){if(this.boundingBox){let t=[];return t.push({y:this.boundingBox.h+this.distanceY,distanceY:this.distanceY,distanceX:this.distanceX,x:-10,hasY:!0,hasX:!1,icon:"MatcCutsomerHandlerY",cursor:"MatchResizeNorth",id:"DistanceY"}),"rows"!==this.model.props.layout&&!1===this.model.props.auto&&t.push({y:-10,distanceY:this.distanceY,distanceX:this.distanceX,x:this.boundingBox.w+this.distanceX,hasY:!0,hasX:!1,icon:"MatcCutsomerHandlerX",cursor:"MatchResizeWest",id:"DistanceX"}),t}},onHandlerChange(t){if(this.boundingBox){if("DistanceY"===t.id)return this.model.props.distanceY=(t.distanceY+t.difY)/this._scaleY,this.model.props.auto=!1,requestAnimationFrame((()=>{this.render(this.model,this.style,this._scaleX,this._scaleY)})),{y:this.boundingBox.h+t.distanceY+t.difY,x:-10};if("DistanceX"===t.id)return this.model.props.distanceX=(t.distanceX+t.difX)/this._scaleX,this.model.props.auto=!1,requestAnimationFrame((()=>{this.render(this.model,this.style,this._scaleX,this._scaleY)})),{x:this.boundingBox.w+t.distanceX+t.difX,y:-10}}},getHandlerCommand(t,e){if(this.boundingBox){if("DistanceY"===t.id)return this.model.props.distanceY=(t.distanceY+t.difY)/this._scaleY,this.model.props.auto=!1,e.distanceY=this.distanceY,{change:{distanceY:Math.floor((t.distanceY+t.difY)/this._scaleY),auto:!1},type:"props"};if("DistanceX"===t.id)return this.model.props.distanceX=(t.distanceX+t.difX)/this._scaleX,this.model.props.auto=!1,e.distanceX=this.distanceX,{change:{distanceX:Math.floor((t.distanceX+t.difX)/this._scaleX),auto:!1},type:"props"}}},getChildren(){return this._childWidgets},getDataBindingChildren(){return null},update(t){this.render(t,this.style,this._scaleX,this._scaleY)},render(t,e,i,o){this.model=t,this.setDataBindingFromTable(t),t.children?this.children=t.children:t.children=this.children,this.style=e,this._scaleX=i,this._scaleY=o,this.setStyle(e,t),this.removeAllChildren(this.domNode),this._childWidgets=[];let r=new G.Z;if(!this.isSymbol&&this.app&&t.children&&t.children.length>0){let e=new Cs.Z;e.model=this.app;let o=e.getBoundingBox(t.children),n=o.y-t.y-t.style.borderTopWidth*i,a=o.x-t.x-t.style.borderLeftWidth*i,l={x:o.x,y:o.y,w:a+o.w,h:n+o.h};"rows"===t.props.layout&&(l.w=t.w);let h=this.getRows(t,l),d=this.getDistanceY(t,h,l),c=this.getColumns(t,l),u=this.getDistanceX(t,c,l),p=r.div("MatcWidgetTypeRepeaterGrid "+t.props.layout).build();if("rows"!==t.props.layout){let e=c*l.w+(c-1)*u;p.style.width=e+"px",this.hasXOverFlow=e>t.w}let g=this.getChildWidgets(t),m=h*c;this.dataBindingValues&&Array.isArray(this.dataBindingValues)&&(m=this.dataBindingValues.length);for(let i=0;i<m;i++){let e=u;i%c===c-1&&(e=0);let o=d;i%h!==h-1||this.dataBindingFromExternal||(o=0);let m=r.div("MatcWidgetTypeRepeaterElement").w(l.w).h(l.h).marginBottom(o).marginRight(e).build(p);(this.isSimulator||i>0)&&g.forEach((e=>{let o=s.Z.clone(e);o.inherited=e.id,o.id=e.id+"-"+i,o.dataBingingIndex=i,o.isRepeaterChild=!0,this.rewriteDataBinding(i,o);let h=e.y-l.y+n,d=e.x-l.x+a,c=r.div("MatcWidget").w(e.w).h(e.h).top(h).left(d).build(m);this._childWidgets.push({parent:e.id,widget:o,div:c}),this.factory.createWidgetHTML(c,o);let u=this.factory.getUIWidgetByID(o.id);if(u){let e=this.getDataBindingValue(i,o,t);e&&u.setDataBinding(e.variable,e.value)}}))}this.domNode.appendChild(p),this.boundingBox=l,this.distanceY=d,this.distanceX=u}else r.div("MatcWidgetTypeRepeaterHint","Place widgets above").build(this.domNode)},rewriteDataBinding(t,e){if(e?.props?.databinding?.default)if(this.model.props.databinding&&this.model.props.databinding.default){const i=this.model.props.databinding.default,s=e.props.databinding.default,o=this.cutOffParentPath(s,i),r=`${i}[${t}].${o}`;e.props.databinding.default=r,e.props.databinding.defaultRelativ=o}else e.props.databinding.defaultRelativ=e.props.databinding.default},cutOffParentPath(t,e){return 0===t.indexOf(e)&&(t=t.substring(e.length),0===t.indexOf("[0]")&&(t=t.substring(3)),0===t.indexOf(".")&&(t=t.substring(1))),t},getDataBindingValue(t,e){if(this.dataBindingValues)if(e.props.databinding&&e.props.databinding.defaultRelativ){let i=e.props.databinding.default,s=e.props.databinding.defaultRelativ,o=this.dataBindingValues[t],r=ks.Z.get(o,s);if(null!==r&&void 0!=r)return{variable:i,value:r};this.logger.warn("getDataBindingValue()","Cannot find "+s)}else this.logger.warn("getDataBindingValue()","No defaultRelativ ",e.props)},getDataBindingValueOld(t,e){if(this.dataBindingValues&&e.props.databinding&&e.props.databinding.default){let i=e.props.databinding.default,s=i;if(this.model.props.databinding&&this.model.props.databinding.default){let t=this.model.props.databinding.default;0===i.indexOf(t)&&(s=i.substring(t.length),0===s.indexOf("[0]")&&(s=s.substring(3)),0===s.indexOf(".")&&(s=s.substring(1)))}if(this.dataBindingValues&&this.dataBindingValues.length>t){let e=this.dataBindingValues[t],o=ks.Z.get(e,s);if(null!==o&&void 0!=o)return{variable:i,value:o};this.logger.warn("getDataBindingValue()","Cannot find "+s)}}},getChildWidgets(t){return t.children.map((t=>{let e=this.app.widgets[t];if(e)return e}))},getDistanceY(t,e,i){let s=t.props.distanceY;if(s=Math.round(s*this._scaleY),t.props.distanceY<0||t.props.auto){let o=t.h-e*i.h;s=Math.max(0,o/Math.max(1,e-1))}return s},getDistanceX(t,e,i){let s=t.props.distanceX;if(s=Math.round(s*this._scaleX),t.props.distanceX<0||t.props.auto){let o=t.w-e*i.w;s=Math.max(0,o/Math.max(1,e-1))}return s},getColumns(t,e){if("rows"===t.props.layout)return 1;let i=t.props.columns;i>=0&&this.logger.warn("getColumns()","Row > not supported!");let s=e.w;if(t.props.distanceX>0&&!t.props.auto){let e=Math.round(t.props.distanceX*this._scaleX);i=Math.floor((t.w+e)/(s+e))}else i=Math.floor(t.w/s);return this.logger.log(3,"getColumns()","exit",i),i},getRows(t,e){let i=1*t.props.rows;i>=0&&this.logger.warn("getRows()","Row > not supported!");let s=e.h;if(t.props.distanceY>0&&!t.props.auto){let e=Math.round(t.props.distanceY*this._scaleY);i=Math.floor((t.h+e)/(s+e))}else i=Math.floor(t.h/s);return this.logger.log(3,"getRows()","exit",i),i},getValue(){},setValue(){},getState(){if(this.dataBindingFromExternal)return{dataBindingValues:this.dataBindingValues}},setState(t){t&&t.dataBindingValues&&(this.dataBindingValues=t.dataBindingValues,this.model&&this.render(this.model,this.style,this._scaleX,this._scaleY))},_setDataBindingValue(t){this.dataBindingValues=t,this.dataBindingFromExternal=!0,this.render(this.model,this.style,this._scaleX,this._scaleY),this.emit("rerender",this)},getOutputDataBindingValue(t){if(this.dataBindingValues)return this.dataBindingValues[t]},setDataBindingFromTable(t){if(!this.dataBindingValues&&!this.databindingInitedFromTable&&t.props.data&&t.props.data.length>1){let e=t.props.data;this.dataBindingValues=[];let i=t.props.data[0];for(let t=1;t<e.length;t++){let s={};for(let o=0;o<i.length;o++){let r=i[o];s[r]=e[t][o]}this.dataBindingValues.push(s)}this.databindingInitedFromTable=!0}}},mounted(){}},Ms=Ts,Ns=(0,p.Z)(Ms,ws,xs,!1,null,null,null),Bs=Ns.exports,Ws=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeUpload "},[t.icon?i("span",{class:[t.icon,"MatcWidgetTypeUploadIcon"],style:{"font-size":t.size}}):i("div",{ref:"labelNode",staticClass:"MatcWidgetTypeUploadLabel"},[t._v(" "+t._s(t.label)+" ")]),t.isWired?i("input",{ref:"input",staticClass:"MatcWidgetTypeUploadFile",attrs:{type:"file",accept:"image/*",capture:"user"},on:{change:t.onFileChange}}):t._e()])},Es=[],Ds={name:"Upload",mixins:[a.Z,d.Z],data:function(){return{value:"",style:{},model:{},bbox:{w:20,h:20},isWired:!1}},components:{},computed:{label(){return this.value&&!this.icon&&this.value.name?this.value.name:this.model&&this.model.props?this.model.props.label:""},maxFiles(){return this.model&&this.model.props&&void 0!==this.model.props.maxFiles?this.model.props.maxFiles:1},icon(){return this.model&&this.model.style&&this.model.style.icon?"mdi "+this.model.style.icon:""},size(){return this.bbox?Math.round(.6*Math.min(this.bbox.h,this.bbox.w))+"px":"20px"}},methods:{onFileChange(){if(this.$refs.input){let t=this.$refs.input.files;t.length>=this.maxFiles&&this.setImage(t[0])}},setImage(t,e){this.value=t,this.emitDataBinding(this.value),this.emitClick(e)},postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.$refs.labelNode]},wireEvents(){this.isWired=!0,this.wireHover()},getLabelNode(){if(!this.icon)return this.$refs.labelNode},render(t,e,i,s){this.model=t,this.bbox.w=t.w,this.bbox.h=t.h,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props&&t.props.label&&this.setValue(t.props.label)},getValue(){return this.value},setValue(t){this.value=t},getState(){return{type:"value",value:""}},setState(t){this.hackValueLabel||t&&"value"==t.type&&this.setValue(t.value)},resize(t){this.bbox.w=t.w,this.bbox.h=t.h},onClick(t){this.stopEvent(t),this.emitClick(t)}}},Zs=Ds,Ls=(0,p.Z)(Zs,Ws,Es,!1,null,null,null),Rs=Ls.exports,Os=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["MatcWidgetTypeUploadPreview",{MatcWidgetTypeUploadPreviewImage:t.hasImage}],style:{backgroundImage:t.src}})},As=[],Ps=(i(48675),i(3462),i(37380),i(1118),i(23767),i(8585),i(68696),i(82801),{name:"UploadPreview",mixins:[a.Z,d.Z],data:function(){return{value:"",style:{},model:{},hackValueLabel:!1}},computed:{hasImage(){return this.value&&this.value.length>0},src(){if(this.value){let t="url("+this.value+")";return t}if(this.model){if(this.model.style&&this.model.style.backgroundImage){let t="url("+this.model.style.backgroundImage+")";return t}{var t=2*this.model.w,e=2*this.model.h,i=document.createElement("canvas"),s=i.getContext("2d");i.width=t,i.height=e,e+=.5,t+=.5;var o=.5;s.moveTo(o,o),s.lineTo(t,e),s.moveTo(t,o),s.lineTo(o,e),s.strokeStyle="#333",s.strokeWidth=2,s.imageSmoothingEnabled=!1,s.stroke();let r="url("+i.toDataURL("image/png")+")";return r}}return""}},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.domNode]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.wireHover()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props&&t.props.label&&this.setValue(t.props.label)},_setDataBindingValue(t){if(!t.substring||0!==t.indexOf("data:image/png;base64")&&0!==t.indexOf("http"))if(t.name&&t.size){let e=new FileReader;e.readAsDataURL&&(e.onload=()=>{this.setValue(e.result)},e.readAsDataURL(t))}else try{let e=this.bufferToImage(t);this.setValue(e)}catch(e){console.error("UploadPreview._setDataBindingValue() Cannot handle data. Not ArrayBuffer",e)}else this.setValue(t)},getValue:function(){return this.value},setValue:function(t){this.value=t},bufferToImage(t){var e="data:image/jpeg;base64,",i=this.arrayBufferToBase64(t);return e+i},arrayBufferToBase64(t){var e="",i=[].slice.call(new Uint8Array(t));return i.forEach((t=>e+=String.fromCharCode(t))),window.btoa(e)},getState:function(){return{type:"value",value:""}},setState:function(t){t&&"value"==t.type&&this.setValue(t.value)},onClick:function(t){this.stopEvent(t),this.emitClick(t)}},mounted(){}}),Vs=Ps,Is=(0,p.Z)(Vs,Os,As,!1,null,null,null),zs=Is.exports,Fs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidget MatcWidgetTypeWebLink MatcEventedWidget MatcSimulatorClickable"},[i("div",{staticClass:"MatcInlineEditable",attrs:{"data-dojo-attach-point":"labelNode"}},[t._v(t._s(t.label))])])},$s=[],Us={name:"Label",mixins:[a.Z,d.Z],data:function(){return{value:"",isWired:!1,model:null}},components:{},computed:{label(){return this.model&&this.model.props&&this.model.props.label?this.model.props.label:""}},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.labelNode]},wireEvents(){this.isWired=!0,this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.wireHover()},getLabelNode(){return this.labelNode},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t)},getValue(){return this.value},setValue(){},getState(){},setState(){},onClick(t){if(this.isWired&&this.model&&this.model.props&&this.model.props.label){let t=this.model.props.label;if(t.toLowerCase().indexOf("javascript")<0){let i=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/;var e=new RegExp(i);if(t.match(e))window.open(t,"_blank");else{let e=new Error("WebLink.onClick() > URL is bad: "+t);this.logger.error("onClick","Error > URL pattern is bad: "+t,e)}}else{let e=new Error("WebLink.onClick() > URL has JS: "+t);this.logger.error("onClick","Error > URL has JS: "+t,e),this.logger.sendError(e)}}this.stopEvent(t),this.emitClick(t)}},mounted(){this.logger=new r.Z("WebLink")}},Hs=Us,Gs=(0,p.Z)(Hs,Fs,$s,!1,null,null,null),Ys=Gs.exports,Xs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeProgressBar"},[i("div",{staticClass:"MatcWidgetTypeProgressBarInner",style:{width:t.width,background:t.foreground}})])},js=[],qs={name:"ProgressBar",mixins:[a.Z,d.Z],data(){return{value:50,model:null}},components:{},computed:{width(){return this.value<1?100*this.value+"%":Math.max(0,Math.min(100,this.value))+"%"},foreground(){return this.model&&this.model.style?this.model.style.foreground:"#333"}},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode]},wireEvents(){this.wired=!0,this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.wireHover()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.resize(t),this.setStyle(e,t),t.props&&null!==t.props.value&&void 0!==t.props.value&&this.setValue(t.props.value)},_setDataBindingValue(t){this.setValue(t)},setValue(t){this.value=1*t},getValue(){return this.value},getState(){return{}},setState(){},onClick(t){this.stopEvent(t),this.emitClick(t)},destroy(){}},mounted(){}},Qs=qs,Ks=(0,p.Z)(Qs,Xs,js,!1,null,null,null),Js=Ks.exports,to=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["MatcWidgetTypeScreenSegement",{MatcWidgetTypeScreenSegementOverFlow:t.hasOverflow},{MatcWidgetTypeScreenSegementSnapp:t.hasSnapp}]})},eo=[],io=i(67265),so={name:"ScreenSegment",mixins:[a.Z,d.Z],data:function(){return{model:{props:{}},hasXOverFlow:!1,dataBindingValues:null}},computed:{hasOverflow(){return!0},hasSnapp(){return!0===this.model?.props?.snapp}},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode]},wireEvents(){this.domNode&&io.n(this.domNode,!1)},setSymbol(t){this.isSymbol=t},setZoomedModel(t){this.app=t},getChildren(){return this._childWidgets},getDataBindingChildren(){return this._childWidgets},update(t){this.render(t,this.style,this._scaleX,this._scaleY)},updateChild(t){if(this._childWidgets){let e=this._childWidgets.find((e=>e.parent===t.id));e&&(e.widget.style=t.style,e.widget.props=t.props,this.factory.setStyle(e.div,e.widget))}},render(t,e,i,s,o=!1){if(this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),o&&t.props.screenID===this._screenID)this.logger.log(2,"render","exit update > ",t.props);else if(!this.isSymbol&&this.app&&t.props.screenID)this.logger.log(2,"render","enter > full render"),this.renderScreen(t,t.props.screenID);else{this._screenID="";const t=new G.Z;t.div("MatcWidgetTypeScreenSegementHint","Select a screen segment").build(this.domNode)}},renderScreen(t,e){if(this._screenID===e)return;this._screenID=e,this.domNode.innerHTML="",this._childWidgets=[];const i=new G.Z,o=this.app.screens[e];if(o){const e=new Cs.Z;e.model=this.app;const r=e.getParentScreen(t,this.app),n=i.div("MatcWidgetTypeScreenSegementCntr").w(o.w).h(o.h).build(),a=e.getSortedScreenChildren(this.app,o,!1);for(let t=0;t<a.length;t++){const e=a[t],l=s.Z.clone(e);l.inherited=e.id,l.id=e.id+"@"+r?.name;const h=this.renderWidget(l,o,i);n.appendChild(h);const d={parent:e.id,widget:l,div:h};this._childWidgets.push(d)}this.cntr=n,this.domNode.appendChild(n)}else i.div("MatcWidgetTypeScreenSegementHint","Screen segment does not exist").build(this.domNode)},renderWidget(t,e,i){const s=i.div("MatcBox MatcWidget").w(t.w).h(t.h).top(t.y-e.y).left(t.x-e.x).build();return this.factory.createWidgetHTML(s,t),s},setValue(t){const e=Object.values(this.app.screens).find((e=>e.name===t));e?(this.renderScreen(this.model,e.id),this.emit("rerender",this)):(this.logger.error("setValue","Screen with name "+t+" does not exist"),this.renderScreen(this.model,this.model?.props?.screenID))}},mounted(){this.logger=new r.Z("ScreenSegment")}},oo=so,ro=(0,p.Z)(oo,to,eo,!1,null,null,null),no=ro.exports,ao=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["MatcWidgetTypeLockSlider",{MatcWidgetTypeLockSliderMoving:t.dndIsStarted}]},[i("div",{ref:"label",staticClass:"MatcWidgetTypeLockSliderLabel"},[t._v(t._s(t.label))]),i("div",{ref:"cntr",staticClass:"MatcWidgetTypeLockSliderCntr"},[i("div",{ref:"bar",staticClass:"MatcWidgetTypeLockSliderBar"},[i("div",{ref:"wrapper",staticClass:"MatcWidgetTypeLockSliderWrapper"},[i("div",{ref:"foreground",staticClass:"MatcWidgetTypeLockSliderForeground"}),i("div",{ref:"handle",staticClass:"MatcWidgetTypeLockSliderHandle"},[i("span",{ref:"icon",class:"MatcWidgetTypeLockSliderIcon "+t.icon})])])])])])},lo=[],ho={name:"LockSlider",mixins:[a.Z,d.Z],data:function(){return{value:!1,model:!1,dndIsStarted:!1}},components:{},computed:{label(){return this.model&&this.model.props&&this.model.props.label?this.model.props.label:""},icon(){return this.model&&this.model.style&&this.model.style.icon?this.model.style.icon:""}},methods:{postCreate(){const t=this.$refs.handle,e=this.$refs.label;this._labelNodes=[e],this._borderNodes=[this.domNode,t],this._shadowNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._paddingNodes=[this.domNode]},wireEvents(){this.wired=!0;const t=this.$refs.handle;this.own(this.addTouchStart(t,s.Z.hitch(this,"onDndStart"))),this.wireHover()},onDndStart(t){this.stopEvent(t),this.cleanUpDnd(),this.dndIsStarted=!0,this.dndCntrPos=yt.Z.position(this.$refs.wrapper),this.dndStartPos=this.getMouse(t),this.moveListener=this.addTouchMove(H.Z.body(),s.Z.hitch(this,"onDnDMove")),this.releaseListener=this.addTouchRelease(H.Z.body(),s.Z.hitch(this,"onDnDUp")),this.initCompositeState()},onDnDMove(t){this.stopEvent(t);var e=this.getMouse(t);let i=e.x-this.dndStartPos.x,s=100*Math.min(Math.max(0,i/this.dndCntrPos.w),1);this.dndnLastP=s,this.setPosition(s),this.emitMouseMove(t,!0),this.addCompositeSubState(s)},onDnDUp(t){this.dndnLastP<80?(this.addCompositeSubState(0),this.emitCompositeState("dnd",0),this.setValue(!1)):(this.addCompositeSubState(100),this.emitCompositeState("dnd",100),this.setValue(!0),setTimeout((()=>{this.emitClick(t)}),500)),this.onDndEnd(t)},onDndEnd(t){this.stopEvent(t),this.cleanUpDnd()},cleanUpDnd(){this.moveListener&&this.moveListener.remove(),this.releaseListener&&this.releaseListener.remove(),delete this.moveListener,delete this.releaseListener,delete this.dndStartPos,delete this.dndCntrPos,delete this.dndnLastP,this.dndIsStarted=!1},getLabelNode(){return this.$refs.label},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.resize(t),this.setStyle(e,t),this.setWrapper(e),this.setHandle(e),this.setForeground(e),this.setCntr(e),this.setValue(!1)},resize(t){let e=t.h;this.style.paddingTop&&(e-=this.getZoomed(this.style.paddingTop,this._scaleY)),this.style.paddingBottom&&(e-=this.getZoomed(this.style.paddingBottom,this._scaleY)),this.style.borderTopWidth&&(e-=this.getZoomed(this.style.borderTopWidth,this._scaleY)),this.style.borderBottomWidth&&(e-=this.getZoomed(this.style.borderTopWidth,this._scaleY));let i=t.w;this.style.paddingLeft&&(i-=this.getZoomed(this.style.paddingLeft,this._scaleY)),this.style.paddingRight&&(i-=this.getZoomed(this.style.paddingRight,this._scaleY)),this.style.borderRightWidth&&(i-=this.getZoomed(this.style.borderRightWidth,this._scaleY)),this.style.borderLeftWidth&&(i-=this.getZoomed(this.style.borderLeftWidth,this._scaleY));const s=this.$refs.icon;s.style.fontSize=Math.round(.6*e)+"px";const o=this.$refs.handle;o.style.height=e+"px",o.style.width=e+"px",o.style.right=e/-2+"px";const r=this.$refs.bar;r.style.width=Math.round(i-e)+"px";const n=this.$refs.foreground;n.style.right=e/-2+"px",n.style.width=i+"px"},setHandle(t){const e=this.$refs.icon;t.iconColor?e.style.color=t.iconColor:e.style.color=t.color;const i=this.$refs.handle;t.handleColor?i.style.background=t.handleColor:i.style.background=t.background},setForeground(t){const e=this.$refs.foreground;t.foregroundColor?e.style.background=t.foregroundColor:e.style.background=t.background,this.setRadius(e,t)},setWrapper(t){const e=this.$refs.wrapper;this.setRadius(e,t)},setCntr(t){const e=this.$refs.cntr;this.setRadius(e,t)},setRadius(t,e){t.style.borderTopRightRadius=this.getZoomed(e.borderTopRightRadius,this._scaleY)+"px",t.style.borderTopLeftRadius=this.getZoomed(e.borderTopLeftRadius,this._scaleY)+"px",t.style.borderBottomRightRadius=this.getZoomed(e.borderBottomRightRadius,this._scaleY)+"px",t.style.borderBottomLeftRadius=this.getZoomed(e.borderBottomLeftRadius,this._scaleY)+"px"},setPosition(t){t-=100;const e=this.$refs.wrapper;e.style.transform=`translateX(${t}%)`,this.handlePosition=t},_set_handleShadow(t,e){if(e.handleShadow){const t=e.handleShadow,i=this.$refs.handle;this._setShadow(i,t)}},onSelect(t,e){this.stopEvent(e);let i=t;this.value=i,this.emitDataBinding(i),this.setValue(i),this.emitStateChange("select",i,e)},onHandleClick(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value)},getValue(){return this.value},setValue(t){this.value=t,t?this.setPosition(100):this.setPosition(0)},getState(){return{type:"select",value:this.value}},setState(t,e){if(t&&("select"==t.type&&this.setValue(t.value),t&&"dnd"==t.type)){const i=this.getLastSubState(t,e);if(i){const t=i.value;this.setPosition(t)}}},beforeDestroy:function(){}},mounted(){}},co=ho,uo=(0,p.Z)(co,ao,lo,!1,null,null,null),po=uo.exports,go=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeRest"},[i("span",{staticClass:"MatcWidgetTypeIconToggleIcon mdi mdi-cloud-tags",attrs:{"data-dojo-attach-point":"icon"}}),i("span",{staticClass:"MatcWidgetTypeRestLabel",attrs:{"data-dojo-attach-point":"labelNode"}},[t._v(t._s(t.label))])])},mo=[],fo={name:"Script",mixins:[a.Z,d.Z],data:function(){return{value:!1,model:null}},components:{},computed:{label(){return this.model&&this.model&&this.model.props?this.model.name:"Script"}},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._paddingNodes=[]},getLabelNode(){return this.labelNode},resize(t){var e=t.h;this.icon.style.fontSize=.8*e+"px",this.labelNode.style.fontSize=.2*e+"px"},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.domNode.style.color=e.color,this.setValue(t.props.active,!0),this.resize(t)},_setDataBindingValue(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},getValue(){},setValue(){},getState(){return{}},setState(){}},mounted(){}},vo=fo,yo=(0,p.Z)(vo,go,mo,!1,null,null,null),bo=yo.exports,_o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetIconToggleButton"},[i("div",{staticClass:"MatcWidgetVisualPickerIcon"},[i("span",{ref:"iconNode",class:t.icon})]),i("div",{ref:"labelNode",staticClass:"MatcWidgetIconToggleButtonLabel"},[t._v(" "+t._s(t.label)+" ")])])},So=[],wo={name:"IconToggleButton",mixins:[a.Z,d.Z],data:function(){return{value:"",style:{},model:{},isWired:!1,topic:"MatcWidgetIconToggleButton"}},components:{},computed:{label(){return this.model&&this.model.props?this.model.props.label:""},icon(){return this.model&&this.model.style&&this.model.style.icon?"mdi "+this.model.style.icon:""},size(){return this.bbox?Math.round(.6*Math.min(this.bbox.h,this.bbox.w))+"px":"20px"}},methods:{postCreate(){this._borderNodes=[this.$el],this._backgroundNodes=[this.$el],this._shadowNodes=[this.$el],this._labelNodes=[this.$el]},wireEvents(){this.isWired=!0,this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.own(y.Z.subscribe(this.topic,s.Z.hitch(this,"onOtherChecked"))),this.wireHover(U.Z.enter,U.Z.leave)},onOtherChecked(t){const e=this.getFormGroup(this.model);e&&t&&this.model&&t.id!=this.model.id&&this.getFormGroup(this.model)===t.formGroup&&this.setValue(!1)},onChange(t){this.setValue(!this.value),this.emit("change",this.value),this.emitClick(t),y.Z.publish(this.topic,{id:this.model.id,formGroup:this.getFormGroup(this.model)})},getLabelNode(){return this.$refs.labelNode},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props&&void 0!==t.props.checked&&this.setValue(t.props.checked)},_set_iconSize(t,e){if(this.$refs.iconNode){const t=this._getBorderWidth(e.iconSize);this.$refs.iconNode.style.fontSize=t+"px"}},getValue(){return this.value},setValue(t){if(this.value=t,this.value&&this.model.active){const t=this.model.active;this.$el.style.background=t.background,this.$el.style.color=t.color}else this.$el.style.background=this.style.background,this.$el.style.color=this.style.color},getState(){return{type:"value",value:""}},setState(t){t&&"value"==t.type&&this.setValue(t.value)},onClick(t){this.stopEvent(t),this.emitClick(t)},getFormGroup(t){if(t.props)return t.props.formGroup}}},xo=wo,Co=(0,p.Z)(xo,_o,So,!1,null,null,null),ko=Co.exports,To=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcIFrameWidget"},[i("div",{staticClass:"MatcIFrameWidgetCover"},[t.url&&!t.isValidURL?i("span",{},[t._v(" The URL must start with https://www.youtube.com/embed/")]):t._e(),t.url?t._e():i("span",{staticClass:"mdi mdi-youtube",style:"fontSize:"+t.fontSize})]),t.url&&t.isValidURL?i("iframe",{staticClass:"MatcIFrameWidgetFrame",attrs:{width:"100%",height:"100%",src:t.url,title:"",sandbox:"allow-scripts allow-same-origin"}}):t._e()])},Mo=[],No={name:"IFrameWidget",mixins:[a.Z,d.Z],data:function(){return{value:this.value,style:{},model:{},height:0,url:""}},components:{},computed:{fontSize(){return this.model?Math.round(.8*this.height*this._scaleX)+"px":"60px"},isValidURL(){return 0===this.url.indexOf("https://www.youtube.com/embed/")&&this.url.indexOf("Javascript")<0}},methods:{getName(){return"Iframe"},postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.domNode]},resize(t){var e=Math.min(t.h,t.w);this.height=e},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.own((0,$.Z)(this.domNode,U.Z.over,s.Z.hitch(this,"onDomMouseOver"))),this.own((0,$.Z)(this.domNode,U.Z.out,s.Z.hitch(this,"onDomMouseOut")))},render(t,e,i,s){if(this.model=t,this.url="",this.style=e,this._scaleX=i,this._scaleY=s,this.setStyle(e,t),t.props&&t.props.url){const e=t.props.url;this.url=e}this.resize(t)},getValue(){return this.value},setValue(t){this.value=t},getState(){},setState(){},onClick:function(t){this.stopEvent(t),this.emitClick(t)}}},Bo=No,Wo=(0,p.Z)(Bo,To,Mo,!1,null,null,null),Eo=Wo.exports,Do=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeProgressSegments"})},Zo=[],Lo={name:"ProgessSegments",mixins:[a.Z,d.Z],data(){return{value:1,max:5,model:null}},components:{},computed:{width(){return this.value<1?100*this.value+"%":Math.max(0,Math.min(100,this.value))+"%"},foreground(){return this.model&&this.model.style?this.model.style.foreground:"#333"}},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents(){if(this.wired=!0,this.model?.has.click)for(var t=0;t<this.elements.length;t++){let e=this.elements[t];this.own(this.addClickListener(e,s.Z.hitch(this,"onSelect",t)))}else this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick")));this.wireHover()},onSelect(t,e){this.stopPropagation(e),this.emitClick(e),this.setValue(t),this.emitDataBinding(t),this.emitStateChange("select",t,e)},render(t,e,i,s){this.model=t,this.max=t.props.max,this.style=e,this._scaleX=i,this._scaleY=s;const o=new G.Z;this.domNode.innerText="",this.elements=[];const r=o.div("MatcWidgetTypeProgressSegmentsCntr").build();r.style.gap=t.props.gap+"px";for(let n=0;n<this.max;n++){const t=o.div("MatcWidgetTypeProgressSegmentsElement").build(r);this._borderNodes.push(t),this._shadowNodes.push(t),this._backgroundNodes.push(t),this.elements.push(t)}this.domNode.appendChild(r),this.resize(t),this.setStyle(e,t),t.props&&null!==t.props.value&&void 0!==t.props.value&&this.setValue(t.props.value)},_setDataBindingValue(t){this.setValue(t)},setValue(t){this.value=1*t;const e=this.style;this.elements.forEach(((t,i)=>{t.style.borderWidth=e.borderTopWidth+"px",i<this.value?(t.style.background=e.activeBackground,t.style.borderColor=e.activeBorderColor):(t.style.background=e.background,t.style.borderColor=e.borderTopColor)}))},getValue(){return this.value},getState(){return{}},setState(){},onClick(t){this.stopEvent(t),this.emitClick(t)},destroy(){}},mounted(){}},Ro=Lo,Oo=(0,p.Z)(Ro,Do,Zo,!1,null,null,null),Ao=Oo.exports,Po=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeImagePaging"})},Vo=[],Io={name:"ImagePaging",mixins:[a.Z,d.Z],data(){return{value:1,max:5,model:null}},components:{},computed:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents(){this.wired=!0;for(let t=0;t<this.elements.length;t++){const e=this.elements[t];this.own(this.addClickListener(e,s.Z.hitch(this,"onSelect",t+1)))}},onSelect(t,e){this.stopPropagation(e),this.emitClick(e),this.setValue(t),this.emitDataBinding(t),this.emitStateChange("select",t,e)},render(t,e,i,s){this.model=t,this.max=t.props.max,this.style=e,this._scaleX=i,this._scaleY=s;const o=new G.Z;this.domNode.innerText="",this.elements=[];const r=o.div("MatcWidgetTypeImagePagingCntr").build();for(let n=0;n<this.max;n++){const t=o.div("MatcWidgetTypeImagePagingElement").build(r);this._borderNodes.push(t),this._shadowNodes.push(t),this._backgroundNodes.push(t),this.elements.push(t)}this.domNode.appendChild(r),this.resize(t),this.setStyle(e,t),t.props&&null!==t.props.value&&void 0!==t.props.value&&this.setValue(t.props.value)},resize(t){this.elements.forEach((e=>{e.style.width=t.h+"px"}))},_setDataBindingValue(t){this.setValue(t)},setValue(t){this.value=1*t;const e=this.style;this.elements.forEach(((t,i)=>{t.style.borderWidth=e.borderTopWidth+"px",i+1==this.value?(t.style.background=e.activeBackground,t.style.borderColor=e.activeBorderColor):(t.style.background=e.background,t.style.borderColor=e.borderTopColor)}))},getValue(){return this.value},getState(){return{type:"select",value:this.value}},setState:function(t){t&&"select"==t.type&&this.setValue(t.value)},onClick(t){this.stopEvent(t),this.emitClick(t)}},mounted(){}},zo=Io,Fo=(0,p.Z)(zo,Po,Vo,!1,null,null,null),$o=Fo.exports,Uo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcLabeledCheckBox"},[i("div",{ref:"box",class:["MatcWidgetTypeRadioBox MatcWidgetTypeRadioBox2",{MatcWidgetTypeRadioBoxChecked:t.value}]},[i("div",[i("span",{ref:"button",staticClass:"MatcWidgetTypeRadioBoxCircle"})])]),i("div",{staticClass:"MatchWidgetTypeLabel"},[i("div",{ref:"label",staticClass:"MatcInlineEditable MatcWidgetTypeLabelInlineEditable"},[t._v(" "+t._s(t.label)+" ")])])])},Ho=[],Go={name:"LabeledRadioBox",mixins:[a.Z,d.Z],data:function(){return{label:"",value:!1,topic:"MatcWidgetRadioBoxChange2"}},components:{},methods:{postCreate:function(){this._borderNodes=[this.$refs.box],this._backgroundNodes=[this.$refs.box],this._shadowNodes=[this.$refs.box],this._paddingNodes=[this.$refs.label],this._labelNodes=[this.$refs.label]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.own(y.Z.subscribe(this.topic,s.Z.hitch(this,"onOtherChecked"))),this.wireHover()},onOtherChecked(t){t&&this.model&&t.id!=this.model.id&&this.getFormGroup(this.model)===t.formGroup&&this.setValue(!1)},getLabelNode(){return this.$refs.label},resize(t){const e=this.$refs.box;e.style.width=t.h+"px"},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,t.props.label&&(this.label=t.props.label),void 0!==t.props.gap&&null!==t.props.gap&&(this.domNode.style.gap=t.props.gap+"px"),this.setValue(t.props.checked,!0),this.resize(t),this.setStyle(e,t)},_set_colorButton(t,e){this.$refs.button.style.background=e.colorButton},getValue(){return this.value},_setDataBindingValue:function(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue(t,e){this.value=t,e||this.validate(this.value,!0)},getState(){return{type:"checked",value:this.value}},setState(t){t&&"checked"==t.type&&this.setValue(t.value)},_validateValue(t){const e=this.model.props.validation;return!e||!e.required||!1!==t},isValid(t){return this.validate(this.value,t)},getFormGroup(t){if(t.props)return t.props.formGroup},onChange(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,t),y.Z.publish(this.topic,{id:this.model.id,formGroup:this.getFormGroup(this.model)})}},mounted(){}},Yo=Go,Xo=(0,p.Z)(Yo,Uo,Ho,!1,null,null,null),jo=Xo.exports,qo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcLabeledCheckBox"},[i("div",{ref:"box",class:["MatcWidgetTypeCheckBox",{MatcWidgetTypeCheckBoxChecked:t.value}]},[i("div",[i("span",{ref:"button",staticClass:"MatcWidgetTypeCheckBoxHook"})])]),i("div",{staticClass:"MatchWidgetTypeLabel"},[i("div",{ref:"label",staticClass:"MatcInlineEditable MatcWidgetTypeLabelInlineEditable"},[t._v(" "+t._s(t.label)+" ")])])])},Qo=[],Ko={name:"LabeledCheckBox",mixins:[a.Z,d.Z],data:function(){return{label:"",value:!1}},components:{},methods:{postCreate:function(){this._borderNodes=[this.$refs.box],this._backgroundNodes=[this.$refs.box],this._shadowNodes=[this.$refs.box],this._paddingNodes=[this.$refs.label],this._labelNodes=[this.$refs.label]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.wireHover()},getLabelNode(){return this.$refs.label},resize(t){const e=this.$refs.box;e.style.width=t.h+"px"},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,t.props.label&&(this.label=t.props.label),void 0!==t.props.gap&&null!==t.props.gap&&(this.domNode.style.gap=t.props.gap+"px"),this.setValue(t.props.checked,!0),this.resize(t),this.setStyle(e,t)},_set_colorButton(t,e){this.$refs.button.style.borderColor=e.colorButton},getValue(){return this.value},_setDataBindingValue(t){!0!==t&&!1!==t&&t>=1&&(t=!0),this.setValue(t)},setValue(t,e){this.value=t,e||this.validate(this.value,!0)},getState(){return{type:"checked",value:this.value}},setState(t){t&&"checked"==t.type&&this.setValue(t.value)},_validateValue(t){const e=this.model.props.validation;return!e||!e.required||!1!==t},isValid(t){return this.validate(this.value,t)},onChange(t){this.stopEvent(t),this.setValue(!this.value),this.emitDataBinding(this.value),this.emitStateChange("checked",this.value,t)}},mounted(){}},Jo=Ko,tr=(0,p.Z)(Jo,qo,Qo,!1,null,null,null),er=tr.exports,ir=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeLabeledTextBox "},[i("div",{ref:"labelNode",staticClass:"MatcWidgetTypeLabeledTextBoxLabel"},[t._v(t._s(t.label))]),i("div",{ref:"inputNode",staticClass:"MatcWidgetTypeLabeledTextBoxInputCntr MatcWidgetTypeTextBox"})])},sr=[],or={name:"LabeledTextBox",mixins:[st,d.Z],data:function(){return{label:"",value:null,mode:"edit",hasFocus:!1}},components:{},computed:{},methods:{postCreate(){this.log=new r.Z("LabeledTextBox"),"simulator"==this.mode?(this.input=document.createElement("input"),this.input.type="text"):(this.input=document.createElement("div"),o.Z.add(this.input,"MatcWidgetTypeTextBoxPreview")),o.Z.add(this.input,"MatcWidgetTypeTextBoxInput"),this.labelNode=this.$refs.labelNode,this.inputNode=this.$refs.inputNode,this.inputNode.appendChild(this.input),this._borderNodes=[this.input],this._backgroundNodes=[this.input],this._paddingNodes=[this.input],this._shadowNodes=[this.input],this._labelNodes=[this.input]},getAnimationNode(){return this.inputNode},wireEvents(){this.wired||(this.own(this.addClickListener(this.inputNode,s.Z.hitch(this,"onInputClick"))),this.own((0,$.Z)(this.input,"focus",s.Z.hitch(this,"onFocus"))),"simulator"==this.mode&&(this.own((0,$.Z)(this.input,"blur",s.Z.hitch(this,"onBlur"))),this.own((0,$.Z)(this.input,"change",s.Z.hitch(this,"onChange"))),this.own(y.Z.subscribe("MatcSimulatorEvent",s.Z.hitch(this,"onSimulatorEvent"))))),this.afterWiredEvents(),this.wired=!0,this.setAutoFocus(this.input),this.wireHover()},wireHover(t=U.Z.over,e=U.Z.out){this.own((0,$.Z)(this.inputNode,t,s.Z.hitch(this,"onDomMouseOver"))),this.own((0,$.Z)(this.inputNode,e,s.Z.hitch(this,"onDomMouseOut")))},getLabelNode(){return this.labelNode},initLabel(t){t.props.label&&(this.label=t.props.label),t.props.placeholderLabel&&this.setPlaceholder(t.props.placeholderLabel)},onTextBoxRendered(t){this.setInputSize(this.style,t),this.setLabelPadding(this.style,t)},setLabelPadding(t,e){if(e.props.labelPadding){const e=t.paddingLeft+t.borderLeftWidth;this.labelNode.style.paddingLeft=e+"px";const i=t.paddingRight+t.borderRightWidth;this.labelNode.style.paddingRight=i+"px"}},setInputSize(t){if(t.inputHeight&&t.inputHeight>0){const e=this.getZoomed(t.inputHeight,this._scaleY);this.inputNode.style.height=e+"px"}else{let e=t.fontSize+t.paddingBottom+t.paddingTop+t.borderTopWidth+t.borderBottomWidth;e=this.getZoomed(e,this._scaleY),this.inputNode.style.height=e+"px"}},_set_labelOffset(t,e){const i=this.getZoomed(e.labelOffset,this._scaleY);this.labelNode.style.paddingLeft=i+"px",this.labelNode.style.paddingRight=i+"px"},_set_labelColor(t,e){this.labelNode.style.color=e.labelColor},_set_labelFontSize(t,e){if(-1===e.labelFontSize){const t=this.getZoomed(.75*e.fontSize,this._scaleY);this.labelNode.style.fontSize=t+"px"}else{const t=this.getZoomed(e.labelFontSize,this._scaleY);this.labelNode.style.fontSize=t+"px"}},_set_labelFontWeight(t,e){this.labelNode.style.fontSize=e.labelFontWeight+"px"},beforeSetStyle(){}},mounted(){}},rr=or,nr=(0,p.Z)(rr,ir,sr,!1,null,null,null),ar=nr.exports,lr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"MatcWidgetTypeNavBar "+t.type})},hr=[],dr={name:"NavBar",mixins:[d.Z,a.Z],data:function(){return{type:"",label:"",value:null,mode:"edit",hasFocus:!1}},components:{},computed:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._paddingNodes=[],this._shadowNodes=[],this._labelNodes=[]},wireEvents(){this.wired||this._items.forEach(((t,e)=>{this.own(this.addClickListener(t,(t=>this.onItemClick(t,e)))),this.own((0,$.Z)(t,U.Z.over,(t=>this.onItemHover(t,e)))),this.own((0,$.Z)(t,U.Z.out,(t=>this.onItemHover(t,null))))})),this.wired=!0},onItemClick(t,e){this.stopEvent(t);const i=this.navigation[e];i&&i.to&&this.emit("navigation",i.to)},onItemHover(t,e){const i=this.model.hover,s=this.model.active,o=this.model.style;this._items.forEach(((t,r)=>{const n=this.navigation[r];e===r?this.setDivStyle(t,i):n.selected?this.setDivStyle(t,s):this.setDivStyle(t,o)}))},setDivStyle(t,e){e.background&&(t.style.background=e.background),e.color&&(t.style.color=e.color)},render(t,e,i,s){this.model=t,this.type=t.props.type,this.navigation=t.props.navigation,this.style=e,this._scaleX=i,this._scaleY=s,this.renderElements(this.navigation,e,i),this.setStyle(e,t),this.setSelected(this.navigation,this.model.active)},setSelected(t,e){t.forEach(((t,i)=>{if(t.selected){const t=this._items[i];this.setDivStyle(t,e)}}))},renderElements(t){this.domNode.innerHTML="",this._items=[],this._icons=[];const e=this.db.div("MatcWidgetTypeNavBarCntr").build();t.forEach((t=>{const i=this.db.div("MatcWidgetTypeNavBarItem").build(e);if(t.icon){const e=this.db.span("MatcWidgetTypeNavBarIcon "+t.icon).build(i);this._icons.push(e)}this.db.span("",t.label).build(i),this._labelNodes.push(i),this._paddingNodes.push(i),this._items.push(i)})),this.domNode.appendChild(e),this.cntr=e},_set_itemGap(t,e){this._items.forEach((t=>{const i=this.getZoomed(e.itemGap,this._scaleY);t.style.gap=i+"px"}))},_set_iconSize(t,e){this._icons.forEach((t=>{const i=this.getZoomed(e.iconSize,this._scaleY);t.style.fontSize=i+"px"}))},_set_gap(t,e){if(-1===e.gap)this.cntr.style.gap="0px",this.cntr.style.justifyContent="space-between";else{const t=this.getZoomed(e.gap,this._scaleY);this.cntr.style.gap=t+"px"}}},mounted(){this.log=new r.Z("Navigation"),this.db=new G.Z}},cr=dr,ur=(0,p.Z)(cr,lr,hr,!1,null,null,null),pr=ur.exports,gr=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},mr=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeDropDown"},[i("div",{staticClass:"MatcWidgetTypeDropDownCntr",attrs:{"data-dojo-attach-point":"button"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabelCntr",attrs:{"data-dojo-attach-point":"labelCntr"}},[i("div",{staticClass:"MatcWidgetTypeDropDownLabel",attrs:{"data-dojo-attach-point":"labelNode"}})]),i("div",{staticClass:"MatcWidgetTypeDropDownCarretCntr",attrs:{"data-dojo-attach-point":"caretCnr"}},[i("span",{staticClass:"MatcWidgetTypeDropDownCarret",attrs:{"data-dojo-attach-point":"caret"}})])]),i("div",{staticClass:"MatcWidgetTypeDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}})])}],fr={name:"DropDown",mixins:[a.Z,d.Z],data:function(){return{value:!1,hoverAnimationDuration:0}},components:{},methods:{postCreate(){this._borderNodes=[this.button,this.popup],this._shadowNodes=[this.button],this._backgroundNodes=[this.button],this._paddingNodes=[this.button],this.cleanUpTempListener(),this._isOpen=!1},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onOpenPopup"))),this.own((0,$.Z)(this.domNode,U.Z.over,s.Z.hitch(this,"onDomMouseOver"))),this.own((0,$.Z)(this.domNode,U.Z.out,s.Z.hitch(this,"onDomMouseOut"))),this.wired=!0},getLabelNode(){return this.labelNode},onDomMouseOver(t){this.lastValidation&&this.model.hover&&!this._isOpen&&this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.hover),this.emitMouseOver(t)},onDomMouseOut(t){this.lastValidation&&this.model.hover&&!this._isOpen&&(this.value&&this.model.active?this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.active):this.emitAnimation(this.model.id,this.hoverAnimationDuration,this.model.style)),this.emitMouseOut(t)},resize(t){let e=4;if(this.style.fontSize&&(e=Math.floor(this.style.fontSize/3)),this.caret&&!this.model.props.icon){const t=this._getBorderWidth(e)+"px";this.caret.style.borderLeftWidth=t,this.caret.style.borderRightWidth=t,this.caret.style.borderTopWidth=t}if(this.icon&&(this.icon.style.fontSize=t.h+"px",this.button.style.padding="0px"),this.caretCnr){const t=this._getBorderWidth(40);this.caretCnr.style.width=t+"px"}},render(t,e,i,s){if(this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.navigation=t.props.navigation,t.props.popupPosition&&o.Z.add(this.domNode,t.props.popupPosition),this.renderIcon(t),this.model.props.caretBorderColor&&(this.caret.style.color=e.background,this.caretCnr.style.background=e.borderRightColor),this.setStyle(e,t),this.resize(t),e.iconSize&&this.caret){const t=Math.max(1,this.getZoomed(e.iconSize,this._scaleY));this.caret.style.fontSize=t+"px"}this.set_popupMargin(this.popup,e,t),this.setValue(t.props.label)},setSelected(t){const e=t.find((t=>t.selected));e&&this.setValue(e.label)},renderIcon(t){t.props.icon&&(t.props.hidetext?(this.labelCntr.innerHTML="",this.icon=document.createElement("span"),o.Z.add(this.icon,"MatcWidgetTypeDropDownIcon "+t.props.icon),this.labelCntr.appendChild(this.icon),o.Z.add(this.domNode,"MatcWidgetTypeDropDownWithIcon MatcWidgetTypeDropDownNoText"),this.button.style.padding="0px",this.button.style.borderRadius="0px",this.popup.style.width=this._getBorderWidth(200)+"px",this.caretCnr&&(this.button.removeChild(this.caretCnr),delete this.caretCnr,delete this.caret,delete this.labelNode)):(o.Z.remove(this.caret,"MatcWidgetTypeDropDownCarret"),this.caret.style.border="none",o.Z.add(this.caret,t.props.icon+" MatcWidgetTypeDropDownCarretIcon")))},onOpenPopup(t){return this.stopEvent(t),this.emitOpenPopup(),this.renderPopup(),this.initCompositeState(this.getStateOptions(),t),!1},flushOpen(){this.emitCompositeState("openWithHover",this.getStateOptions())},onSimulatorEvent(t,e,i){"ScreenScroll"!=t&&"Animation"!=t&&"ScreenGesture"!=t&&i!=this.model.id&&(this.cleanUp(),this.emitNoTransitionStateChange("close",""))},onSelect(t,e){this.stopEvent(e),this.cleanUp(),t&&t.to&&this.emit("navigation",t.to);const i={type:"select",value:t.to,runTransition:!0,noheat:!0,e:e};this.emit("stateChange",i)},onClose(t){this.stopEvent(t),this.cleanUp(),this.emitNoTransitionStateChange("close","",t)},renderPopup(){if(!this._isOpen){const t=new G.Z;this.optionNodes=[];const e=this.navigation;for(let i=0;i<e.length;i++){const o=e[i],r=t.div("MatcWidgetTypeDropDownOptionRow").build(this.popup);o.icon&&t.span("MatcWidgetTypeDropDownOptionIcon "+o.icon).build(r),t.div("MatcWidgetTypeDropDownOptionLabel",o.label).build(r),r.style.paddingTop=this._getBorderWidth(this.style["paddingTop"])+"px",r.style.paddingLeft=this._getBorderWidth(this.style["paddingLeft"])+"px",r.style.paddingRight=this._getBorderWidth(this.style["paddingRight"])+"px",r.style.paddingBottom=this._getBorderWidth(this.style["paddingBottom"])+"px",this.wired&&(this.tempOwn((0,$.Z)(r,U.Z.press,s.Z.hitch(this,"onSelect",o))),this.tempOwn((0,$.Z)(r,U.Z.over,s.Z.hitch(this,"onMouseOverOption",i)))),this.optionNodes.push(r)}o.Z.add(this.domNode,"MatcWidgetTypeDropDownOpen"),this.domNode.parentNode&&o.Z.add(this.domNode.parentNode,"MatcWidgetTypeDropDownFront"),this.wired&&(this.tempOwn((0,$.Z)(H.Z.body(),U.Z.over,s.Z.hitch(this,"onMouseOutOption"))),this.tempOwn((0,$.Z)(H.Z.body(),U.Z.press,s.Z.hitch(this,"onClose"))),this.tempOwn(y.Z.subscribe("MatcSimulatorEvent",s.Z.hitch(this,"onSimulatorEvent")))),this.model.focus&&this.emitAnimation(this.model.id,0,this.model.focus),this._isOpen=!0}},_set_caretBackground(t,e){this.caretCnr&&(this.caretCnr.style.background=e.caretBackground)},_set_caretColor(t,e){this.caret&&(this.caret.style.color=e.caretColor),this.icon&&(this.icon.style.color=e.caretColor)},_set_popupShadow(t,e){this._setShadow(this.popup,e.popupShadow)},_set_popupBorderColor(t,e){this.popup.style.borderColor=e.popupBorderColor},_set_popupBorderWidth(t,e){if(e.popupBorderWidth){var i=Math.max(1,this.getZoomed(e.popupBorderWidth,this._scaleY));this.popup.style.borderWidth=i+"px"}else this.popup.style.borderWidth="0px"},_set_popupBackground(t,e){this.popup.style.background=e.popupBackground},_set_popupColor(t,e){this.popup.style.color=e.popupColor},set_popupMargin(t,e,i){if(i?.props?.hideUpperBorder)if("MatcWidgetTypeDropDownPopUber"===i.props.popupPosition){const i=this._getBorderWidth(e.borderTopWidth)+1;t.style.bottom=`calc(100% - ${i}px)`,t.style.borderBottomWidth="0px",t.style.borderBottomRightRadius="0px",t.style.borderBottomLeftRadius="0px"}else{const i=this._getBorderWidth(e.borderBottomWidth)+1;t.style.top=`calc(100% - ${i}px)`,t.style.borderTopWidth="0px",t.style.borderTopRightRadius="0px",t.style.borderTopLeftRadius="0px"}},onMouseOverOption(t,e){this.stopEvent(e),this.hover!=t&&(this.setHoverOption(t),this.addCompositeSubState(this.getStateOptions()))},onMouseOutOption(){-1!=this.selected&&(this.setHoverOption(-1),this.addCompositeSubState(this.getStateOptions()))},setHoverOption(t){if(this.optionNodes){if(this.hover!=t){const e=this.style;for(let i=0;i<this.optionNodes.length;i++){let s=this.optionNodes[i];i===t?(e.selectedOptionColor&&(s.style.color=e.selectedOptionColor),e.selectedOptionBackground&&(s.style.background=e.selectedOptionBackground)):(s.style.color=e.popupColor,s.style.background=e.popupBackground)}}this.hover=t}},cleanUp(){this.cleanUpTempListener(),this.cleanUpPopup(),this.model.focus&&this.lastValidation&&this.emitAnimation(this.model.id,0,this.model.style)},cleanUpPopup(){this._isOpen&&(this.popup?this.popup.innerHTML="":console.warn("DropDown.cleanUp() > Called in wrong state. Popup is null"),delete this.optionNodes,this.domNode&&o.Z.remove(this.domNode,"MatcWidgetTypeDropDownOpen"),this.hover=-1,this._isOpen=!1,this.flushOpen())},getValue(){return this.value},_setDataBindingValue(t){var e=this.model.props.options;if(e)if(isNaN(t)){var i=e.indexOf(t);i>=0&&i<e.length&&(t=e[i],this.setValue(t))}else t>=0&&t<e.length&&(t=e[t],this.setValue(t))},setValue(t){this.value=t,this.labelNode&&this.setTextContent(this.labelNode,this.value)},getStateOptions(){return{hover:this.hover}},getState(){return{type:"select",value:this.value}},setState(t,e){if(t){const r=t.type;switch(r){case"select":this.setValue(t.value),setTimeout(s.Z.hitch(this,"cleanUp"),200);break;case"close":this.cleanUp();break;case"open":this.renderPopup();break;case"openWithHover":if(this.renderPopup(),t.children){var i=this.getLastSubState(t,e);if(i){var o=i.value;this.setHoverOption(o.hover)}}break;default:this.cleanUp();break}}else this.cleanUp()},_validateValue(t){const e=this.model.props.validation;return!e||!e.required||t!==this.model.props.options[0]},isValid(t){return this.validate(this.value,t)},beforeDestroy(){this.cleanUp()}},mounted(){}},vr=fr,yr=(0,p.Z)(vr,gr,mr,!1,null,null,null),br=yr.exports,_r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeCountingStepper"})},Sr=[],wr={name:"Stepper",mixins:[a.Z,d.Z],data:function(){return{value:0,min:!1,max:!1}},components:{},methods:{postCreate(){this._borderNodes=[this.domNode],this._shadowNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._paddingNodes=[this.domNode]},wireEvents(){this.wired=!0,this.own(this.addClickListener(this.plusBtn,s.Z.hitch(this,"onPlus"))),this.own(this.addClickListener(this.minusBtn,s.Z.hitch(this,"onMinus"))),this.wireHover()},render(t,e,i,s){this.model=t,t.min&&(this.min=t.min),t.max&&(this.max=t.max),this.style=e,this._scaleX=i,this._scaleY=s;var o=new G.Z;this.removeAllChildren(this.domNode),this.minusBtn=o.div("MatcWidgetTypeStepperBtn").build(this.domNode),this.minusLbl=o.div("MatcWidgetTypeStepperLabel","-").build(this.minusBtn);let r=o.div("MatcWidgetTypeStepperLblCntr").build(this.domNode);this.lblBtn=o.div("MatcWidgetTypeStepperLabel","").build(r),this.plusBtn=o.div("MatcWidgetTypeStepperBtn").build(this.domNode),this.plusLbl=o.div("MatcWidgetTypeStepperLabel","+").build(this.plusBtn),this.resize(t),void 0!==t.props.value&&null!==t.props.value&&this.setValue(1*t.props.value,!0),this.setStyle(e)},resize(t){let e=t.h;this.model.style.sizeButton<1&&(e*=this.model.style.sizeButton,this.minusBtn.style.height=e+"px",this.plusBtn.style.height=e+"px"),this.minusBtn.style.width=e+"px",this.plusBtn.style.width=e+"px"},_set_colorButton(t,e){this.plusBtn.style.color=e.colorButton,this.minusBtn.style.color=e.colorButton},_set_backgroundButton(t,e){this.plusBtn.style.background=e.backgroundButton,this.minusBtn.style.background=e.backgroundButton},_set_radiusButton(t,e){let i=this._getBorderWidth(e.radiusButton)+"px";this.plusBtn.style.borderRadius=i,this.minusBtn.style.borderRadius=i},onPlus(t){if(this.stopEvent(t),!1===this.max||this.value<this.max){var e=this.value+1;this.emitDataBinding(e),this.setValue(e)}this.emitStateChange("select",this.value,t)},onMinus(t){if(this.stopEvent(t),!1===this.min||this.min>this.value){var e=this.value-1;this.emitDataBinding(e),this.setValue(e)}this.emitStateChange("select",this.value,t)},getValue(){return this.value},_setDataBindingValue(t){t*=1,isNaN(t)?console.debug("_setDataBindingValue() > not int value"+t):this.setValue(t)},setValue(t,e){this.value=t,this.lblBtn.innerHTML=this.value,e||this.setValueLabel(t)},getState:function(){return{type:"select",value:this.value}},setState:function(t){t&&"select"==t.type&&this.setValue(t.value)},beforeDestroy:function(){}},mounted(){}},xr=wr,Cr=(0,p.Z)(xr,_r,Sr,!1,null,null,null),kr=Cr.exports,Tr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeTree"},[t._v(" This is a tree ")])},Mr=[],Nr={name:"ToggleButton",mixins:[d.Z,a.Z],data(){return{value:"",selected:[],collapsed:[],tree:null}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._paddingNodes=[],this._labelNodes=[],this.nodes=[],this.icons=[]},wireEvents(){this.nodes.forEach((t=>{this.own((0,$.Z)(t.div,U.Z.click,(e=>{this.stopEvent(e),this.select(t.node,e)}))),this.own((0,$.Z)(t.div,U.Z.over,(e=>{this.stopEvent(e),this.setHover(t,!0)}))),this.own((0,$.Z)(t.div,U.Z.out,(e=>{this.stopEvent(e),this.setHover(t,!1)})))})),this.icons.forEach((t=>{this.own((0,$.Z)(t.icon,U.Z.click,(e=>{this.stopEvent(e),this.toggle(t,e)})))}))},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this._paddingNodes=[];let o=new G.Z,r=o.div("MatcWidgetTypeTreeCntr").build();this.nodes=[],this.icons=[],this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[];let n=this.getTree(),a={fontSize:Math.round(e.fontSize*this._scaleY),marginRight:Math.round(e.iconMarginRight*this._scaleY),selectedBorderWidth:Math.round(e.selectedBorderWidth*this._scaleY),selectedBorderColor:e.selectedBorderColor,icon:e.icon,paddingRight:Math.round(e.paddingRight*this._scaleY),paddingTop:Math.round(e.paddingTop*this._scaleY),paddingLeft:Math.round(e.paddingLeft*this._scaleY),paddingBottom:Math.round(e.paddingBottom*this._scaleY)};if(n.children.forEach((t=>{this._renderNode(t,r,o,a,0)})),this.removeAllChildren(this.domNode),!0===t.props.collapsed){let t=[];n.children.forEach((e=>{e.children&&e.children.length>0&&t.push(e.id)})),this.setCollapsed(t)}this.domNode.appendChild(r),this.setStyle(e,t)},_renderNode(t,e,i,s,o){let r=s.paddingLeft+o+s.fontSize;0===t.level&&(r=0);let n=i.div("MatcWidgetTypeTreeNode").paddingLeft(r).paddingBottom(s.paddingBottom).paddingTop(s.paddingTop).paddingRight(s.paddingRight).build(e);if(this._borderNodes.push(n),this._backgroundNodes.push(n),this._shadowNodes.push(n),this.nodes.push({div:n,node:t}),t.children.length>0){let o=null;s.icon&&(o=i.span("MatcWidgetTypeTreeNodeIcon "+s.icon).w(s.fontSize).h(s.fontSize).fontSize(s.fontSize).marginRight(s.iconMarginRight).build(n)),i.span("MatcWidgetTypeTreeNodeLabel",t.label).build(n);let a=i.span("MatcWidgetTypeTreeChildren").build(e);t.children.forEach((t=>{this._renderNode(t,a,i,s,r)})),o&&this.icons.push({icon:o,children:a,node:t})}else i.span("MatcWidgetTypeTreeNodeLabel",t.label).build(n)},getTree(){let t={id:"root",level:0,children:[]};if(this.model.props.data){let e=this.model.props.data,i=0,s=[];s[-1]=t,e.forEach((t=>{let e=this.getLevel(t),o=t[e],r={id:i++,value:o,level:e,label:o,children:[]},n=s[e-1];n?n.children.push(r):this.root.children.push(r),s[e]=r}))}return t},getLevel(t){let e=t.length;for(let i=0;i<e;i++)if(t[i])return i;return 0},select(t,e){this.model.props&&this.model.props.selectOnlyLeaves&&t.children.length||(this.setValue(t.value),this.emitDataBinding(this.value),this.onChange(e))},toggle(t,e){let i=this.collapsed.indexOf(t.node.id);i<0?this.collapsed.push(t.node.id):this.collapsed.splice(i,1),this.setCollapsed(this.collapsed),this.onChange(e)},setHover(t,e){try{if(this.model.hover&&t.node.value!==this.value){let i=t.div;e?this.setTreeNodeStyle(i,this.model.hover):this.setTreeNodeStyle(i,this.model.style)}}catch(i){console.error(i)}},setTreeNodeStyle(t,e){if(e.background&&(t.style.background=e.background),e.color&&(t.style.color=e.color),e.borderTopWidth){let i=this._getBorderWidth(e.borderTopWidth);t.style.borderTopWidth=i+"px"}if(e.borderBottomWidth){let i=this._getBorderWidth(e.borderBottomWidth);t.style.borderBottomWidth=i+"px"}if(e.borderRightWidth){let i=this._getBorderWidth(e.borderRightWidth);t.style.borderRightWidth=i+"px"}if(e.borderLeftWidth){let i=this._getBorderWidth(e.borderLeftWidth);t.style.borderLeftWidth=i+"px"}e.borderTopColor&&(t.style.borderTopColor=e.borderTopColor),e.borderBottomColor&&(t.style.borderBottomColor=e.borderBottomColor),e.borderRightColor&&(t.style.borderRightColor=e.borderRightColor),e.borderLeftColor&&(t.style.borderLeftColor=e.borderLeftColor)},setCollapsed(t){this.collapsed=t,this.icons.forEach((t=>{let e=t.node.id;this.collapsed.indexOf(e)>=0?(o.Z.add(t.icon,"MatcWidgetTypeTreeNodeCollapsed"),o.Z.add(t.children,"MatcWidgetTypeTreeNodeCollapsed")):(o.Z.remove(t.icon,"MatcWidgetTypeTreeNodeCollapsed"),o.Z.remove(t.children,"MatcWidgetTypeTreeNodeCollapsed"))}))},onChange(t){this.emitStateChange("all",{selected:this.value,collapsed:this.collapsed},t)},getValue(){return this.value},setValue(t){this.value=t,this.model.active&&this.nodes.forEach((t=>{let e=t.div;t.node.label===this.value?this.setTreeNodeStyle(e,this.model.active):this.setTreeNodeStyle(e,this.model.style)}))},getState(){return{type:"all",value:{selected:this.value,collapsed:this.collapsed}}},setState(t){t&&"all"==t.type&&(this.setCollapsed(t.value.collapsed),this.setValue(t.value.selected))},_validateValue(){return!0},isValid(t){return this.validate(this.value,t)},_setDataBindingValue(t){this.setValue(t)}},mounted(){}},Br=Nr,Wr=(0,p.Z)(Br,Tr,Mr,!1,null,null,null),Er=Wr.exports,Dr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatchWidgetTypeIconButton"},[i("div",{ref:"labelCntr"},[i("span",{class:"MatchWidgetTypeIconButtonIcon "+t.icon,style:{"margin-right":t.margin,color:t.iconColor}}),i("span",{ref:"labelNode",staticClass:"MatcInlineEditable"},[t._v(t._s(t.label))])])])},Zr=[],Lr={name:"IconButton",mixins:[a.Z,d.Z],data:function(){return{value:"",model:null,scale:1}},components:{},computed:{label(){return this.model&&this.model.props&&this.model.props.label?this.model.props.label:""},icon(){return this.model&&this.model.style&&this.model.style.icon?this.model.style.icon:""},margin(){return this.model&&this.model.style&&this.model.style.iconMargin?Math.round(this.scale*this.model.style.iconMargin)+"px":"0px"},iconColor(){return this.model&&this.model.style&&this.model.style.iconColor&&"transparent"!==this.model.style.iconColor?this.model.style.iconColor:""}},methods:{postCreate(){this._borderNodes=[this.domNode],this._backgroundNodes=[this.domNode],this._shadowNodes=[this.domNode],this._paddingNodes=[this.domNode],this._labelNodes=[this.$refs.labelCntr]},wireEvents(){this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onClick"))),this.wireHover()},getLabelNode(){return this.$refs.labelNode},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.scale=i,this.setStyle(e,t)},getValue(){return this.value},setValue(){},getState(){},setState(){},onClick(t){this.stopEvent(t),this.emitClick(t)}},mounted(){}},Rr=Lr,Or=(0,p.Z)(Rr,Dr,Zr,!1,null,null,null),Ar=Or.exports,Pr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypePaging"})},Vr=[],Ir={name:"Paging",mixins:[a.Z,d.Z],data:function(){return{value:0,offset:0}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._paddingNodes=[],this._labelNodes=[]},wireEvents(){this.wired=!0;for(var t=0;t<this.elements.length;t++){let e=this.elements[t];this.own(this.addClickListener(e.div,s.Z.hitch(this,e.callback,e.value))),this.own((0,$.Z)(e.div,U.Z.over,s.Z.hitch(this,"onElementOver",t,e))),this.own((0,$.Z)(e.div,U.Z.out,s.Z.hitch(this,"onElementOut",t,e)))}},onElementOver(t,e){if(this.value-1!==t&&this.model.hover){let t=e.div;t.style.color=this.model.hover.color,t.style.background=this.model.hover.background}},onElementOut(t,e){let i=e.div;e.value!==this.value?(i.style.color=this.model.style.color,i.style.background=this.model.style.background):this.model.active&&(i.style.color=this.model.active.color,i.style.background=this.model.active.background)},onNext(t,e){this.stopPropagation(e),this.emitClick(e),this.offset+=this.currentElementCount,this.offset>this.model.props.max-this.currentElementCount&&(this.offset=this.model.props.max-this.currentElementCount),this.renderElements(this.model,this.style,this.model.w,this._scaleX),this.wireEvents()},onBack(t,e){this.stopPropagation(e),this.emitClick(e),this.offset-=this.currentElementCount,this.offset<2&&(this.offset=0),this.renderElements(this.model,this.style,this.model.w,this._scaleX),this.wireEvents()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,this.renderElements(t,e,t.w,i)},renderElements(t,e,i,s){var o=new G.Z;this.elements=[];var r=o.div("MatcWidgetTypePagingCntr").build();let n=Math.round(8*s)+"px";switch(t.props.justifyContent){case"left":r.style.justifyContent="flex-start",r.style.gap=n;break;case"right":r.style.justifyContent="flex-end",r.style.gap=n;break;case"center":r.style.justifyContent="center",r.style.gap=n;break;default:r.style.justifyContent="space-between",r.style.gap="";break}let a=2*this.getZoomed(e.fontSize,s);var l=this.getNumberOfVisibleElements(t,e,i);this.offset>0&&this.renderElement(o,a,r,"...","onBack",t.props.iconBack);for(var h=0;h<l;h++)this.renderElement(o,a,r,this.offset+h+1,"onSelect");l+this.offset<t.props.max&&this.renderElement(o,a,r,"...","onNext",t.props.iconNext),this.removeAllChildren(this.domNode),this.domNode.appendChild(r),this.currentElementCount=l,this.setStyle(e,t),this.setValue(t.props.selected)},renderElement(t,e,i,s,o,r){var n=t.div("MatcWidgetTypePagingElement").w(e).build(i);if(this._borderNodes.push(n),this._backgroundNodes.push(n),this._paddingNodes.push(n),this.elements.push({div:n,callback:o,value:s}),r){let e=t.span("MatcWidgetTypePagingElementLabel").build(n);t.span(r).build(e),this._labelNodes.push(e)}else{let e=t.span("MatcWidgetTypePagingElementLabel",s).build(n);this._labelNodes.push(e)}},resize(t){var e=this.getNumberOfVisibleElements(this.model,this.style,t.w);e!=this.currentElementCount&&this.renderElements(this.model,this.style,t.w,this._scaleX)},getNumberOfVisibleElements(t,e,i){let s=2*this.getZoomed(e.fontSize,this._scaleX),o=Math.round(.9*i/s)-1;return o=Math.min(o,t.props.max),t.props.maxVisisble>1&&(o=Math.min(o,t.props.maxVisisble)),this.offset>0&&o--,o},onSelect(t,e){this.stopPropagation(e),this.emitClick(e),this.setValue(t),this.emitDataBinding(t,"output"),this.emitStateChange("select",t,e)},setDataBinding(t,e){var i=this.getDataBinding(this.model);if(i&&i["output"]){let s=i["output"];if(s===t)return this.setValue(e),!0}if(i&&i["elements"]){let s=i["elements"];if(s===t)return this.setMax(e),!0}return!1},setMax(t){this.model.props.max=t,this.renderElements(this.model,this.style,this.model.w,this._scaleX),this.wireEvents()},setValue(t){if(this.model.active){let e=this.model.active,i=this.model.style;this.elements.forEach((s=>{let o=s.div;s.value==t?(o.style.background=e.background,o.style.color=e.color):(o.style.background=i.background,o.style.color=i.color)}))}this.value=t},getValue(){return this.value},getState(){return{type:"select",value:this.value}},setState:function(t){t&&"select"==t.type&&this.setValue(t.value)},destroy:function(){this._compositeState&&this.emitCompositeState()}},mounted(){}},zr=Ir,Fr=(0,p.Z)(zr,Pr,Vr,!1,null,null,null),$r=Fr.exports,Ur=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeTimeLine"})},Hr=[],Gr={name:"Timeline",mixins:[d.Z,a.Z],data(){return{value:""}},components:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._paddingNodes=[],this._labelNodes=[],this.nodes=[],this.icons=[]},wireEvents(){this.own(this.addClickListener(this.domNode,(t=>{this.onClick(t)}))),this.wireHover()},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s;let o=new G.Z,r="MatcWidgetTypeTimeLineCntr";-1===e.elementSpacing&&(r+=" MatcWidgetTypeTimeLineCntrAutoSpace");let n=o.div(r).build();o.div("MatcWidgetTypeTimeLineBar").w(Math.round(e.lineWidth*this._scaleY)).left(Math.round((e.circleSize-e.lineWidth)/2*this._scaleY)).background(e.lineBackground).borderRadius(Math.round(e.lineWidth*this._scaleY)/2).build(n),this._labelNodes=[],this.elementDivs={};let a=t.props.options,l=Math.round(e.circleSize*this._scaleY);a&&a.forEach((t=>{let i=o.div("MatcWidgetTypeTimeLineElement").build(n);e.elementSpacing>0&&(i.style.marginTop=Math.round(e.elementSpacing*this._scaleY)+"px");let s=o.div("MatcWidgetTypeTimeLineCircle").w(l).h(l).background(e.cicleBackground).borderColor(e.cicleActiveBorderColor).borderWidth(Math.round(e.circleBorderWidth*this._scaleY)).build(i),r=o.div("MatcWidgetTypeTimeLineLabel",t).paddingLeft(Math.round(e.paddingLeft*this._scaleY)).build(i);this._labelNodes.push(r),this.elementDivs[t]={label:r,circle:s}})),this.removeAllChildren(this.domNode),this.domNode.appendChild(n),this.setStyle(e,t),t.props.selected&&this.setValue(t.props.selected)},getValue(){return this.value},setValue(t){this.value=t;let e=this.style;for(let i in this.elementDivs){let t=this.elementDivs[i],s=i!==this.value?e.cicleBackground:e.cicleActiveBackground,o=i!==this.value?e.cicleBorderColor:e.cicleActiveBorderColor,r=i!==this.value?e.color:e.cicleActiveTextColor;t.label.style.color=r,t.circle.style.borderColor=o,t.circle.style.background=s}},getState(){return{type:"all",value:{selected:this.value}}},setState(t){t&&"all"==t.type&&this.setValue(t.value.selected)},_setDataBindingValue:function(t){var e=this.model.props.options;if(e)if(isNaN(t)){var i=e.indexOf(t);i>=0&&i<e.length&&(t=e[i],this.setValue(t))}else t>=0&&t<e.length&&(t=e[t],this.setValue(t))}},mounted(){}},Yr=Gr,Xr=(0,p.Z)(Yr,Ur,Hr,!1,null,null,null),jr=Xr.exports,qr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeSVGBox"},[t.model?i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,isNotCanvas:"true"}},[i("g",{attrs:{id:"main",fill:"none"}},t._l(t.paths,(function(t){return i("path",{key:t.id,ref:"paths",refInFor:!0,attrs:{d:t.d,stroke:t.stroke,fill:t.fill,id:t.id,"stroke-width":t.strokeWidth}})})),0)]):t._e()])},Qr=[],Kr=i(56457),Jr={name:"SVGBox",mixins:[a.Z,d.Z],data:function(){return{offset:0,model:null,width:0,height:0,paths:[]}},components:{},computed:{},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents(){this.own(this.addClickListener(this.domNode,(t=>{this.emitClick(t)}))),this.wireHover()},resize(t){this.renderElements(t,this.elements,this._scaleX,this.style)},render(t,e,i,s){this.model=t,this.elements=t.props.paths?t.props.paths:t.elements,this.style=e,this._scaleX=i,this._scaleY=s,this.elements&&this.renderElements(this.model,this.elements,i,e)},renderElements(t,e,i,s){this.width=t.w,this.height=t.h;const o=t.w,r=t.h,n=[];e.forEach((t=>{if("path"===t.type){let e=t.d.map((t=>({t:t.t,x:Math.round(t.x*i*o)+this.offset,y:Math.round(t.y*i*r)+this.offset})));e=Kr.zR(e);const a={d:e,stroke:t.stroke,strokeWidth:t.strokeWith};s&&(a.stroke=s.borderTopColor,a.strokeWidth=s.borderTopWidth),n.push(a)}})),this.paths=n},getValue(){},setValue(){},getState(){return{}},setState(){}},mounted(){this.logger=new r.Z("Vector")}},tn=Jr,en=(0,p.Z)(tn,qr,Qr,!1,null,null,null),sn=en.exports,on=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetTypeSVGPaths"},[t.model?i("svg",{style:"top:"+-1*t.overflowOffset+"px; left:"+-1*t.overflowOffset+"px",attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width+2*t.overflowOffset,height:t.height+2*t.overflowOffset,isNotCanvas:"true"}},[i("g",{attrs:{id:"main",fill:"none"}},[t.hasGradient?i("defs",[t._l(t.gradients,(function(e){return i("linearGradient",{key:e.id,attrs:{id:e.id,x1:e.angle.x1,x2:e.angle.x2,y1:e.angle.y1,y2:e.angle.y2}},t._l(e.fill.colors,(function(t,e){return i("stop",{key:e,attrs:{offset:Math.round(t.p)+"%","stop-color":t.c}})})),1)})),t._l(t.markers,(function(e){return["triangleStart"===e.type?i("marker",{key:e.id,attrs:{id:e.id,markerWidth:"3",markerHeight:"3",refX:"1.5",refY:"1.5",orient:"auto-start-reverse"}},[i("polygon",{attrs:{points:"0 0, 3 1.5, 0 3",fill:e.stroke}})]):t._e(),"triangleEnd"===e.type?i("marker",{key:e.id,attrs:{id:e.id,markerWidth:"3",markerHeight:"3",refX:"1.5",refY:"1.5",orient:"auto"}},[i("polygon",{attrs:{points:"0 0, 3 1.5, 0 3",fill:e.stroke}})]):t._e(),"arrowStart"===e.type?i("marker",{key:e.id,attrs:{id:e.id,markerWidth:"10",markerHeight:"8",refX:"4",refY:"3.5",orient:"auto-start-reverse"}},[i("polyline",{attrs:{points:"1 2, 4 3.5, 1 5",stroke:e.stroke,"stroke-linecap":e.strokeLineCap}})]):t._e(),"arrowEnd"===e.type?i("marker",{key:e.id,attrs:{id:e.id,markerWidth:"10",markerHeight:"8",refX:"4",refY:"3.5",orient:"auto"}},[i("polyline",{attrs:{points:"1 2, 4 3.5, 1 5",stroke:e.stroke,"stroke-linecap":e.strokeLineCap}})]):t._e(),"circle"===e.type?i("marker",{key:e.id,attrs:{id:e.id,markerWidth:"30",markerHeight:"30",refX:"1.5",refY:"1.5",orient:"auto"}},[i("circle",{attrs:{cx:"1.5",cy:"1.5",r:"1.5",fill:e.stroke}})]):t._e()]}))],2):t._e(),t._l(t.svgPaths,(function(t){return i("path",{key:t.id,ref:"paths",refInFor:!0,attrs:{d:t.d,stroke:t.stroke,"stroke-dasharray":t.strokeDash,"stroke-linecap":t.strokeLineCap,"marker-end":t.markerEnd,"marker-start":t.markerStart,fill:t.fill,id:t.id,"stroke-width":t.strokeWidth}})}))],2)]):t._e()])},rn=[],nn=i(62766),an={name:"SVGPaths",mixins:[a.Z,d.Z],data:function(){return{model:null,scale:1,width:0,height:0,overflowOffset:40,offSetValue:40,paths:[],svgPaths:[],viewBox:{w:0,h:0},hasGradient:!0}},components:{},computed:{markers(){const t=Kr.OB(this.paths,this.model.id,!1);return t},gradients(){const t=this.paths.map(((t,e)=>t?.fill.gradient?{id:nn.TR(e,t,this.model.id),fill:t.fill,angle:nn.Mi(t.fill)}:null)).filter((t=>null!==t));return t}},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[]},wireEvents(){this.own(this.addClickListener(this.domNode,(t=>{this.emitClick(t)}))),this.wireHover()},resize(t){this.renderElements(t,this.paths,this.viewBox)},render(t,e,i,s){this.model=t,this.paths=t.props.paths,this.viewBox=t.props.bbox,this.style=e,this.scale=i,this._scaleX=i,this._scaleY=s,this.renderElements(this.model,this.paths,this.viewBox)},renderElements(t,e,i){this.width=t.w,this.height=t.h;const s=this._scaleX,o=Kr.kK(e,i,t);o&&(this.svgPaths=o.map(((t,e)=>{const i={id:t.id,stroke:t.stroke,strokeWidth:t.strokeWidth*s,strokeDash:t.strokeDash,strokeLineCap:t.strokeLineCap,fill:t.fill,d:""};return t.markerStart&&(i.markerStart=Kr.fL(e,t,"start",this.model.id)),t.markerEnd&&(i.markerEnd=Kr.fL(e,t,"end",this.model.id)),i.strokeDash&&(i.strokeDash=t.strokeDash.split(",").map((t=>t*s)).join(",")),t.fill.gradient&&(i.fill=nn.WT(e,t,this.model.id)),t.d&&(i.d=Kr.zR(t.d,this.offSetValue,this.offSetValue,t.closed)),i})))},getValue(){},setValue(){},getState(){return{}},setState(){}},mounted(){this.logger=new r.Z("SVGPaths")}},ln=an,hn=(0,p.Z)(ln,on,rn,!1,null,null,null),dn=hn.exports,cn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MatcWidgetVisualPicker"},[i("div",{ref:"cntrNode",staticClass:"MatcWidgetVisualPickerIconCntr"},[i("div",{ref:"borderNode",staticClass:"MatcWidgetVisualPickerBorder"},[i("span",{ref:"iconNode",class:t.icon})]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.value,expression:"value === true"}],ref:"popNode",staticClass:"MatcWidgetVisualPickerPopOver"},[i("span",{ref:"popIconNode",class:t.popIcon})])]),i("div",{ref:"labelNode",staticClass:"MatcWidgetVisualPickerIconLabel"},[t._v(" "+t._s(t.label)+" ")])])},un=[],pn={name:"VisualPicker",mixins:[a.Z,d.Z],data:function(){return{value:"",style:{},model:{},isWired:!1,topic:"MatcWidgetVisualPicker"}},components:{},computed:{label(){return this.model&&this.model.props?this.model.props.label:""},icon(){return this.model&&this.model.style&&this.model.style.icon?"mdi "+this.model.style.icon:""},popIcon(){return this.model&&this.model.style&&this.model.style.popIcon?"mdi "+this.model.style.popIcon:""},size(){return this.bbox?Math.round(.6*Math.min(this.bbox.h,this.bbox.w))+"px":"20px"}},methods:{postCreate(){this._borderNodes=[],this._backgroundNodes=[],this._shadowNodes=[],this._labelNodes=[this.$refs.labelNode]},wireEvents(){this.isWired=!0,this.own(this.addClickListener(this.domNode,s.Z.hitch(this,"onChange"))),this.own(y.Z.subscribe(this.topic,s.Z.hitch(this,"onOtherChecked"))),this.wireHover()},onOtherChecked(t){const e=this.getFormGroup(this.model);e&&t&&this.model&&t.id!=this.model.id&&this.getFormGroup(this.model)===t.formGroup&&this.setValue(!1)},onChange(t){this.setValue(!this.value),this.emit("change",this.value),this.emitClick(t),y.Z.publish(this.topic,{id:this.model.id,formGroup:this.getFormGroup(this.model)})},getLabelNode(){return this.$refs.labelNode},render(t,e,i,s){this.model=t,this.style=e,this._scaleX=i,this._scaleY=s,t.props.cntrBorder?(this._borderNodes=[this.$el],this._backgroundNodes=[this.$el],this._shadowNodes=[this.$el],this._setBorderRadiusAt(this.$refs.cntrNode,e,["borderTopLeftRadius","borderTopRightRadius"])):(this._borderNodes=[this.$refs.borderNode],this._backgroundNodes=[this.$refs.cntrNode],this._shadowNodes=[this.$refs.cntrNode],this._setBorderRadius(this.$refs.cntrNode,e)),this.setStyle(e,t),t.props&&void 0!==t.props.checked&&this.setValue(t.props.checked)},_set_iconSize(t,e){if(this.$refs.iconNode){const t=this._getBorderWidth(e.iconSize);this.$refs.iconNode.style.fontSize=t+"px"}},_set_iconColor(t,e){this.$refs.iconNode&&(this.$refs.iconNode.style.color=e.iconColor)},_set_popBackground(t,e){this.$refs.popNode&&(this.$refs.popNode.style.background=e.popBackground)},_set_popColor(t,e){this.$refs.popNode&&(this.$refs.popNode.style.color=e.popColor)},_set_popIconSize(t,e){if(this.$refs.popIconNode){const t=this._getBorderWidth(e.popIconSize);this.$refs.popIconNode.style.fontSize=t+"px"}},getValue(){return this.value},setValue(t){this.value=t},getState(){return{type:"value",value:""}},setState(t){t&&"value"==t.type&&this.setValue(t.value)},onClick(t){this.stopEvent(t),this.emitClick(t)},getFormGroup(t){if(t.props)return t.props.formGroup}}},gn=pn,mn=(0,p.Z)(gn,cn,un,!1,null,null,null),fn=mn.exports,vn=i(40053);class yn extends Cs.Z{constructor(t){super(),this.logger=new r.Z("RenderFactory"),t&&(this.mode=t),this._labelNodes={},this._widgetNodes={},this._widgetModels={},this._iconNodes={},this._imageNodes={},this._borderNodes={},this._editNodes={},this._uiWidgets={},this._uiWidgetsStates={},this._containerWidgets={},this._scaleX=1,this._scaleY=1,this._componentClassCache={},this.hash=null,this.isPublic=!1,this.styleKeysForResize=["fontSize","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","boxShadow","textShadow","letterSpacing","icon","backgroundImage"],this.logger.log(2,"constructor","exit > "+this.mode)}setScaleFactor(t,e){this.logger.log(2,"setScaleFactor","entry >"+t+" > "+e),this._scaleX=t,this._scaleY=e}setPublic(t){this.logger.log(3,"setPublic","enter",t),this.isPublic=t}setHash(t){this.logger.log(1,"setHash","enter"),this.hash=t}setJwtToken(t){this.logger.log(1,"setJwtToken","enter"),this.jwtToken=t}setMode(t){this.logger.log(3,"setMode","entry >"+t),this.mode=t}setModel(t){this.model=t}setZoomedModel(t){this.zoomedModel=t}setSymbol(t){this.isSymbol=t}createWidgetAnimation(t){this.logger.log(3,"createWidgetAnimation","enter");var e=t.id,i=this.getAnimationWrapper(e);if(i){var s={},o=i.getAnimatedStyle(),r=t.to.style;for(var n in r)s[n]=o[n];t.from.style=s;var a=new Zt.Z,l=a.createWidgetAnimation(i,t);return l}console.warn("createWidgetAnimation() > no widget for id ",e)}getAnimationWrapper(t){var e;if(this._uiWidgets[t])e=this._uiWidgets[t],e.hash=this.hash,e.jwtToken=this.jwtToken;else{var i=this._widgetModels[t];if(i){e=this.$new(a.Z),e._isAnimWrapper=!0,e.model=i,e.hash=this.hash,e.jwtToken=this.jwtToken,e.style=i.style,e._scaleX=this._scaleX,e._scaleY=this._scaleY;var s=this._widgetNodes[t];e._backgroundNodes=[s],e._paddingNodes=[s],e._shadowNodes=[s],e._iconNodes=[this._iconNodes[t]],e._imageNodes=[this._imageNodes[t]],e.domNode=s;var o=this._borderNodes[t];o&&(e._borderNodes=[o],e._backgroundNodes=[o],e._paddingNodes=[o]),this._uiWidgets[t]=e}else console.warn("getAnimationWrapper() > no model for id ",t)}return e}getAllUIWidgets(){return this._uiWidgets}getUIWidget(t){return this._uiWidgets[t.id]}getUIWidgetByID(t){return this._uiWidgets[t]}getWidgetNodeByID(t){return this._widgetNodes[t]}getLabelNode(t){return this._uiWidgets[t.id]?this._uiWidgets[t.id].getLabelNode():this._labelNodes[t.id]}getLabelNodeById(t){return this._uiWidgets[t]?this._uiWidgets[t].getLabelNode():this._labelNodes[t]}getEditNode(t){return this._editNodes[t.id]}resize(t,e){var i=this.getUIWidgetByID(t);if(i)i.resize(e);else{var o=this.model.widgets[t];if(o&&"Icon"==o.type){let t=s.Z.clone(o);t.h=e.h,this._set_icon(null,o.style,t)}if(o&&"Image"==o.type&&o.style.backgroundPosition){let t=s.Z.clone(o);t.h=e.h,t.w=e.w;var r=this.getWidgetNodeByID(o.id);r&&this._set_backgroundImage(r,o.style,t)}}}updatePositions(t){for(let i in this._containerWidgets){const s=this._containerWidgets[i],o=t.widgets[i];if(s&&o)try{s.setZoomedModel(t),s.update(o)}catch(e){this.logger.error("updatePositions","Cannot render",+o?.type),this.logger.sendError(e)}}}updateContainerChild(t,e){if(this._containerWidgets[t.container]){let i=this._containerWidgets[t.container],s=e.widgets[t.container];i&&s&&(i.setZoomedModel(e),i.update(s))}}updateSegementChild(t,e){for(let i=0;i<t.segmentParent.length;i++){let s=t.segmentParent[i],o=this.getUIWidgetByID(s);o&&(o.setZoomedModel(e),o.updateChild(t))}}updateWidgetHTML(t,e){this.setStyle(t,e,!0,!1)}reizeWidgetHTML(t,e){this.setStyle(t,e,!0,!0)}updateLabel(t){const e=this.getUIWidgetByID(t.id);if(!e){let e=this._labelNodes[t.id];e&&this.setInnerHTML(e,t.props.label)}}updateWidget(t){let e=this._widgetNodes[t.id];e&&this.setStyle(e,t,!0,!1);const i=this.getUIWidgetByID(t.id);if(!i){const e=this._labelNodes[t.id];e&&this.setInnerHTML(e,t.props.label)}}createUIWidget(t,e){return this.createWidgetHTML(t,e),this._uiWidgets[e.id]}$new(t){const e=n.Z.extend(t),i=new e;return i.mode=this.mode,i.$mount(),i.setJwtToken(this.jwtToken),i.hash=this.hash,i.setPublic(this.isPublic),i}createWidgetHTML(t,e){if(o.Z.add(t,"MatchWidgetType"+e.type),this["_create"+e.type])this["_create"+e.type](t,e),this._widgetNodes[e.id]=t,this._widgetModels[e.id]=e;else{let i=vn.Z.getWidgetClass(e.type);i?this.createWidgetByClass(t,e,i):console.warn("No render method for",e.type)}if(this.setStyle(t,e,!1),this._uiWidgets[e.id]){const t=this._uiWidgets[e.id];if("simulator"==this.mode)try{t.wireEvents(),t.onSimulatoStarted()}catch(i){this.logger.error("createWidgetHTML","Could not wire events for "+t.type),this.logger.sendError(i)}if("simulator"==this.mode||"view"==this.mode)if(e.inherited){const i=this.model.widgets[e.inherited];i&&null!=this._uiWidgetsStates[i.id]&&void 0!=this._uiWidgetsStates[i.id]&&(t.setState(this._uiWidgetsStates[i.id]),this.emit("uiWidgetInit",{state:this._uiWidgetsStates[i.id],id:e.id}))}else null!=this._uiWidgetsStates[e.id]&&void 0!=this._uiWidgetsStates[e.id]&&(e.props&&e.props.ignoreStateOnPageLoad?this.logger.log(-1,"createWidgetHTML","Ingore state for "+e.id):t.setState(this._uiWidgetsStates[e.id]))}}createWidgetByClass(t,e,i){const s=this.$new(i);s.placeAt(t),this._uiWidgets[e.id]=s}_createScreenSegment(t,e){const i=this.$new(no);i.placeAt(t),this.zoomedModel?i.setZoomedModel(this.zoomedModel):i.setZoomedModel(this.model),i.setSymbol(this.isSymbol),this._uiWidgets[e.id]=i,this._containerWidgets[e.id]=i}_createLabeledTextBox(t,e){const i=this.$new(ar);i.placeAt(t),this._uiWidgets[e.id]=i}_createProgessSegments(t,e){const i=this.$new(Ao);i.placeAt(t),this._uiWidgets[e.id]=i}_createIFrameWidget(t,e){const i=this.$new(Eo);i.placeAt(t),this._uiWidgets[e.id]=i}_createIconButton(t,e){var i=this.$new(Ar);i.placeAt(t),this._uiWidgets[e.id]=i}_createImagePaging(t,e){const i=this.$new($o);i.placeAt(t),this._uiWidgets[e.id]=i}_createVisualPicker(t,e){const i=this.$new(fn);i.placeAt(t),this._uiWidgets[e.id]=i}_createSVGBox(t,e){const i=this.$new(sn);i.placeAt(t),this._uiWidgets[e.id]=i}_createSVGPaths(t,e){const i=this.$new(dn);i.placeAt(t),this._uiWidgets[e.id]=i}_createTree(t,e){const i=this.$new(Er);i.placeAt(t),this._uiWidgets[e.id]=i}_createNavBar(t,e){const i=this.$new(pr);i.placeAt(t),this._uiWidgets[e.id]=i}_createNavMenu(t,e){const i=this.$new(br);i.placeAt(t),this._uiWidgets[e.id]=i}_createTimeline(t,e){const i=this.$new(jr);i.placeAt(t),this._uiWidgets[e.id]=i}_createVerticalNavigation(t,e){const i=this.$new(Er);i.placeAt(t),this._uiWidgets[e.id]=i}_createCountingStepper(t,e){const i=this.$new(kr);i.placeAt(t),this._uiWidgets[e.id]=i}_createRepeater(t,e){const i=this.$new(Bs);i.placeAt(t),this.zoomedModel?i.setZoomedModel(this.zoomedModel):i.setZoomedModel(this.model),i.setSymbol(this.isSymbol),this._uiWidgets[e.id]=i,this._containerWidgets[e.id]=i}_createDragNDropTarget(t,e){const i=this.$new(Wt);this.zoomedModel?i.setZoomedModel(this.zoomedModel):i.setZoomedModel(this.model),i.placeAt(t),this._uiWidgets[e.id]=i}_createWebLink(t,e){const i=this.$new(Ys);i.placeAt(t),this._uiWidgets[e.id]=i}_createProgressBar(t,e){const i=this.$new(Js);i.placeAt(t),this._uiWidgets[e.id]=i}_createUpload(t,e){const i=this.$new(Rs);i.placeAt(t),this._uiWidgets[e.id]=i}_createUploadPreview(t,e){const i=this.$new(zs);i.hash=this.hash,i.placeAt(t),this._uiWidgets[e.id]=i}_createCamera(t,e){const i=this.$new(Rs);i.placeAt(t),this._uiWidgets[e.id]=i}_createCheckBox(t,e){const i=this.$new(m);i.placeAt(t),this._uiWidgets[e.id]=i}_createCheckBoxGroup(t,e){const i=this.$new(Hi);i.placeAt(t),this._uiWidgets[e.id]=i}_createRest(t,e){const i=this.$new(hs);i.placeAt(t),this._uiWidgets[e.id]=i}_createRadioBox(t,e){const i=this.$new(w);i.placeAt(t),this._uiWidgets[e.id]=i}_createRadioBox2(t,e){const i=this.$new(N);i.placeAt(t),this._uiWidgets[e.id]=i}_createRadioGroup(t,e){const i=this.$new(Qi);i.placeAt(t),this._uiWidgets[e.id]=i}_createSketch(t,e){var i=this.$new(Ss);i.hash=this.hash,i.placeAt(t),this._uiWidgets[e.id]=i}_createVector(t,e){var i=this.$new(ms);i.hash=this.hash,i.placeAt(t),this._uiWidgets[e.id]=i}_createPaging(t,e){var i=this.$new($r);i.placeAt(t),this._uiWidgets[e.id]=i}_createDragNDrop(t,e){var i=this.$new(xt);i.placeAt(t),this._uiWidgets[e.id]=i}_createIconToggle(t,e){var i=this.$new(li);i.placeAt(t),this._uiWidgets[e.id]=i}_createLabeledIconToggle(t,e){var i=this.$new(ss);i.placeAt(t),this._uiWidgets[e.id]=i}_createStepper(t,e){var i=this.$new(gi);i.factory=this,i.placeAt(t),this._uiWidgets[e.id]=i}_createLogicOr(t,e){o.Z.add(t,"MatcLogic");var i=this.$new(De);i.placeAt(t),this._uiWidgets[e.id]=i}_createIconToggleButton(t,e){var i=this.$new(ko);i.placeAt(t),this._uiWidgets[e.id]=i}_createTable(t,e){var i=this.$new(le);i.placeAt(t),this._uiWidgets[e.id]=i}_createBarChart(t,e){var i=this.$new(Zi.Z);i.type="bar",i.placeAt(t),this._uiWidgets[e.id]=i}_createRingChart(t,e){var i=this.$new(Zi.Z);i.type="ring",i.placeAt(t),this._uiWidgets[e.id]=i}_createPieChart(t,e){var i=this.$new(Zi.Z);i.type="pie",i.placeAt(t),this._uiWidgets[e.id]=i}_createMultiRingChart(t,e){var i=this.$new(Zi.Z);i.type="multiring",i.placeAt(t),this._uiWidgets[e.id]=i}_createStackedRingChart(t,e){var i=this.$new(Zi.Z);i.type="stackedring",i.placeAt(t),this._uiWidgets[e.id]=i}_createVolumeSlider(t,e){var i=this.$new(Ue);i.placeAt(t),this._uiWidgets[e.id]=i}_createPolyLine(t,e){var i=this.$new(Pe);i.placeAt(t),this._uiWidgets[e.id]=i}_createScript(t,e){var i=this.$new(bo);i.placeAt(t),this._uiWidgets[e.id]=i}_createLockSlider(t,e){var i=this.$new(po);i.placeAt(t),this._uiWidgets[e.id]=i}_createSegmentButton(t,e){var i=this.$new(ge);i.placeAt(t),this._uiWidgets[e.id]=i}_createSegmentPicker(t,e){var i=this.$new(_e);i.placeAt(t),this._uiWidgets[e.id]=i}_createTypeAheadTextBox(t,e){var i=this.$new(Ti);i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createImageCarousel(t,e){var i=this.$new(qe);i.hash=this.hash,i.mode=this.mode,i.factory=this.factory,i.placeAt(t),this._uiWidgets[e.id]=i}_createToggleButton(t,e){var i=this.$new(Te);i.placeAt(t),this._uiWidgets[e.id]=i}_createSwitch(t,e){var i=this.$new(L);i.placeAt(t),this._uiWidgets[e.id]=i}_createDropDown(t,e){var i=this.$new(q);i.factory=this,i.placeAt(t),this._uiWidgets[e.id]=i}_createHoverDropDown(t,e){var i=this.$new(Vi);i.factory=this,i.placeAt(t),this._uiWidgets[e.id]=i}_createMobileDropDown(t,e){var i=this.$new(_i);i.factory=this,i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createHSlider(t,e){var i=this.$new(ie);i.placeAt(t),this._uiWidgets[e.id]=i}_createTextBox(t,e){var i=this.$new(st);i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createRating(t,e){var i=this.$new(ii);i.placeAt(t),this._uiWidgets[e.id]=i}_createDate(t,e){var i=this.$new($t);return i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i,i}_createPassword(t,e){var i=this.$new(ht);i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createDateDropDown(t,e){var i=this.$new(jt);i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createTextArea(t,e){var i=this.$new(mt);i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createSpinner(t,e){var i=this.$new(At);i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createScreen(){}_createButton(t,e){o.Z.add(t,"MatcEventedWidget");const i=this._createBorder(t,e);this._createInlineEdit(i,e)}_createButtonSlow(t,e){const i=this.$new(I);i.mode=this.mode,i.placeAt(t),this._uiWidgets[e.id]=i}_createBox(t,e){const i=this._createBorder(t,e);return i}_createLabel(t,e){const i=this.$new(Di,{mode:this.mode});i.placeAt(t),this._uiWidgets[e.id]=i}_createLabeledRadioBox(t,e){const i=this.$new(jo,{mode:this.mode});i.placeAt(t),this._uiWidgets[e.id]=i}_createLabeledCheckBox(t,e){const i=this.$new(er,{mode:this.mode});i.placeAt(t),this._uiWidgets[e.id]=i}_createImage(t,e){const i=document.createElement("div");o.Z.add(i,"MatchWidgetTypeImageCntr"),t.appendChild(i),this._imageNodes[e.id]=i,o.Z.add(t,"MatchWidgetTypeImage")}_createIcon(t,e){const i=this._createBorder(t,e),s=document.createElement("span");this._iconNodes[e.id]=s,i.appendChild(s)}_createHotSpot(t){o.Z.add(t,"MatcEventedWidget")}_createInlineEdit(t,e){var i=document.createElement("div");return o.Z.add(i,"MatcInlineEditable"),this._labelNodes[e.id]=i,e.props.label?this.setInnerHTML(i,e.props.label):"edit"==this.mode&&this.setTextContent(i,""),t.appendChild(i),i}_createBorder(t,e){var i=document.createElement("div");return o.Z.add(i,"MatcBorderNode"),t.appendChild(i),this._borderNodes[e.id]=i,i}setStyle(t,e,i=!1,s=!1){var o=this.getStyle(e,t);if(o)if(this._uiWidgets[e.id])try{var r=this._uiWidgets[e.id];r.isSimulator="simulator"==this.mode,r.setFactory(this),s?r.updateScale(e,o,this._scaleX,this._scaleY):r.render(e,o,this._scaleX,this._scaleY,i)}catch(n){this.logger.error("setStyle","Error",n)}else o=this.getStyle(e,t),o&&this.setStyle2DomNode(t,o,e,s)}setStyle2DomNode(t,e,i,s=!1){if(!0===s)for(let o=0;o<this.styleKeysForResize.length;o++){let s=this.styleKeysForResize[o];null!==e[s]&&0!==e[s]&&(this["_set_"+s]?this["_set_"+s](t,e,i):t.style[s]=e[s])}else for(let o in e)this["_set_"+o]?this["_set_"+o](t,e,i):null!=e[o]&&(t.style[o]=e[o])}_set_fixed(){}_set_icon(t,e,i){var s=this._iconNodes[i.id];if(s){var o=i.h;e.borderTopWidth&&(o-=this.getZoomed(e.borderTopWidth,this._scaleY)),e.borderBottomWidth&&(o-=this.getZoomed(e.borderBottomWidth,this._scaleY)),e.iconSizeFactor&&(o=Math.round(e.iconSizeFactor*o)),s.className=e.icon,s.style.fontSize=o+"px"}}_set_fontSize(t,e){var i=e.fontSize*this._scaleX;this._scaleX<1&&(i*=.95),t.style.fontSize=Math.round(i)+"px"}_set_rotate(t,e){var i="rotate("+Math.round(e.rotate)+"deg)";t.style.transform=i,t.style.webkitTransform=i,t.style.transformOrigin="50% 50%",t.style.webkitTransformOrigin="50% 50%"}_set_boxShadow(t,e,i){if("Icon"===i.type)this._set_icon_boxShadow(t,e,i);else{let l=e.boxShadow,h=this._borderNodes[i.id];if(h&&(t=h),l){var s=this.getZoomed(l.v,this._scaleY),o=this.getZoomed(l.h,this._scaleX),r=this.getZoomed(l.b,Math.max(this._scaleY,this._scaleX)),n=this.getZoomed(l.s,Math.max(this._scaleY,this._scaleX)),a=l.i?"inset":"";t.style.boxShadow=o+"px "+s+"px "+r+"px "+n+"px "+l.c+" "+a}else t.style.boxShadow="none"}}_set_textShadow(t,e){var i=e.textShadow;if(i){var s=this.getZoomed(i.v,this._scaleY),o=this.getZoomed(i.h,this._scaleX),r=this.getZoomed(i.b,Math.max(this._scaleY,this._scaleX));t.style.textShadow=o+"px "+s+"px "+r+"px "+i.c}else t.style.textShadow="none"}_set_icon_boxShadow(t,e,i){let s=this._iconNodes[i.id];if(s){let t=e.boxShadow;if(t){var o=this.getZoomed(t.v,this._scaleY),r=this.getZoomed(t.h,this._scaleX),n=this.getZoomed(t.b,Math.max(this._scaleY,this._scaleX));s.style.textShadow=r+"px "+o+"px "+n+"px "+t.c}else s.style.textShadow="none"}}_set_valign(t,e,i){if(this._labelNodes[i.id]){var s=this._labelNodes[i.id],r=e.valign;o.Z.remove(s,"MatcWidgeValignMiddle MatcWidgeValignBottom"),"middle"==r&&o.Z.add(s,"MatcWidgeValignMiddle"),"bottom"==r&&o.Z.add(s,"MatcWidgeValignBottom")}}_set_borderStyle(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderStyle=e.borderStyle}_set_borderTopWidth(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderTopWidth);s.style.borderTopWidth=o+"px"}_set_borderBottomWidth(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderBottomWidth);s.style.borderBottomWidth=o+"px"}_set_borderLeftWidth(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderLeftWidth);s.style.borderLeftWidth=o+"px"}_set_borderRightWidth(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderRightWidth);s.style.borderRightWidth=o+"px"}_set_borderRadius(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this.getZoomed(e.borderRadius,this._scaleX)+"px";s.style.borderRadius=o,t.style.borderRadius=o}_set_borderTopLeftRadius(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderTopLeftRadius)+"px";s.style.borderTopLeftRadius=o,t.style.borderTopLeftRadius=o}_set_borderTopRightRadius(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderTopRightRadius)+"px";s.style.borderTopRightRadius=o,t.style.borderTopRightRadius=o}_set_borderBottomLeftRadius(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderBottomLeftRadius)+"px";s.style.borderBottomLeftRadius=o,t.style.borderBottomLeftRadius=o}_set_borderBottomRightRadius(t,e,i){var s=this._borderNodes[i.id];s||(s=t);var o=this._getBorderWidth(e.borderBottomRightRadius)+"px";s.style.borderBottomRightRadius=o,t.style.borderBottomRightRadius=o}_set_backdropFilter(t,e){let i=e.backdropFilter;if(i){let e=i.blur;e=this.getZoomed(e,this._scaleX),t.style.backdropFilter=`blur(${e}px)`}else t.style.backdropFilter="none"}_set_filter(t,e){let i=e.filter;if(i){let e=[];if(i.blur){let t=i.blur;t=this.getZoomed(t,this._scaleX),e.push(`blur(${t}px)`)}i.grayscale&&e.push(`grayscale(${i.grayscale}%)`),i.opacity&&e.push(`opacity(${i.opacity}%)`),void 0!==i.contrast&&e.push(`contrast(${i.contrast}%)`),void 0!==i.brightness&&e.push(`brightness(${i.brightness}%)`),void 0!==i.saturate&&e.push(`saturate(${i.saturate}%)`),void 0!==i.hueRotate&&e.push(`hue-rotate(${360*i.hueRotate/100}deg)`),t.style.filter=e.join(" ")}else t.style.filter="none"}_set_borderColor(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderColor=e.borderColor}_set_borderTopColor(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderTopColor=e.borderTopColor}_set_borderBottomColor(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderBottomColor=e.borderBottomColor}_set_borderRightColor(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderRightColor=e.borderRightColor}_set_borderLeftColor(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderLeftColor=e.borderLeftColor}_set_borderTopStyle(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderTopStyle=e.borderTopStyle}_set_borderBottomStyle(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderBottomStyle=e.borderBottomStyle}_set_borderRightStyle(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderRightStyle=e.borderRightStyle}_set_borderLeftStyle(t,e,i){var s=this._borderNodes[i.id];s||(s=t),s.style.borderLeftStyle=e.borderLeftStyle}_set_verticalAlign(t,e,i){var s=this.getLabelNode(i);s&&(s.className="MatcInlineEditable",e.textAlign?o.Z.add(s,"MatcInlineEditVAlign-"+e.verticalAlign+"-"+e.textAlign):o.Z.add(s,"MatcInlineEditVAlign-"+e.verticalAlign))}_setScalledPadding(t,e,i,s){var o=this._borderNodes[s.id];if(o||(o=e),i[t]<0)o.style[t]="0px";else{var r=this._getBorderWidth(i[t]);o.style[t]=r+"px"}}_set_paddingTop(t,e,i){this._setScalledPadding("paddingTop",t,e,i)}_set_paddingLeft(t,e,i){this._setScalledPadding("paddingLeft",t,e,i)}_set_paddingRight(t,e,i){this._setScalledPadding("paddingRight",t,e,i)}_set_paddingBottom(t,e,i){this._setScalledPadding("paddingBottom",t,e,i)}_set_opacity(t,e){0===e.opacity?o.Z.add(t,"MatcHidden"):o.Z.remove(t,"MatcHidden"),e.opacity<=1&&(t.style.opacity=e.opacity)}_set_disabled(t,e){e.disabled&&(t.disabled=!0,console.debug("_set_disabled",t.disabled))}_set_background(t,e,i){var s=this._borderNodes[i.id];s&&(t=s);var o=e.background;if(o&&o.colors){let e="("+o.direction+"deg";const i=o.colors.slice();i.sort(((t,e)=>t.p-e.p));for(let t=0;t<i.length;t++){const s=i[t];e+=","+s.c+" "+s.p+"% "}t.style.background="linear-gradient"+e,t.style.background="-webkit-linear-gradient"+e}else e.backgroundImage?t.style.backgroundColor=e.background:t.style.background=e.background}_set_backgroundPosition(){}_set_backgroundSize(){}_set_backgroundImageRotation(t,e,i){let s=this._imageNodes[i.id];if(s)s.style.transform=`rotate(${e.backgroundImageRotation}deg)`;else{let s=this._iconNodes[i.id];s&&(s.style.transform=`rotate(${e.backgroundImageRotation}deg)`,o.Z.add(t,"MatchWidgetTypeIconRotated"))}}_set_backgroundImage(t,e,i){let s=this._borderNodes[i.id];s&&(t=s);let r=this._imageNodes[i.id];r&&(t=r);let n=e.backgroundImage;if(o.Z.add(t,"MatcScreenImage"),n){if(n.w>n.h?o.Z.add(t,"MatcScreenImageHorizontal"):o.Z.add(t,"MatcScreenImageVertical"),this.hash?t.style.backgroundImage="url(/rest/images/"+this.hash+"/"+n.url+")":this.jwtToken?t.style.backgroundImage="url(/rest/images/"+n.url+"?token="+this.jwtToken+")":(this.isPublic||(this.logger.warn("_set_backgroundImage","error > no token or hash"),this.logger.sendError(new Error("RenderFactgoryNoToken"))),t.style.backgroundImage="url(/rest/images/"+n.url+")"),e.backgroundSize?t.style.backgroundSize=e.backgroundSize+"%":t.style.backgroundSize="100%",e.backgroundPosition){var a=e.backgroundPosition;t.style.backgroundPosition=Math.round(a.left*i.w)+"px "+Math.round(a.top*i.h)+"px"}else t.style.backgroundPosition="0 0";t.style.backgroundRepeat="no-repeat",t.style.border="none"}else if("Image"==i.type){var l=2*i.w,h=2*i.h,d=document.createElement("canvas"),c=d.getContext("2d");d.width=l,d.height=h,h+=.5,l+=.5;var u=.5;c.moveTo(u,u),c.lineTo(l,h),c.moveTo(l,u),c.lineTo(u,h),c.strokeStyle="#000",c.strokeWidth=2,c.imageSmoothingEnabled=!1,c.stroke(),t.style.backgroundImage="url("+d.toDataURL("image/png")+")",t.style.border="1px solid #000"}}_set_css(t,e){o.Z.add(t,e.css)}_set_letterSpacing(t,e){t.style.letterSpacing=e.letterSpacing*this._scaleX+"px"}_getBorderWidth(t){return t>0?Math.max(1,this.getZoomed(t,this._scaleX)):0}_defaultRendering(t){return"fontSize"!=t&&t.indexOf("border")<0&&"backgroundImage"!=t}cleanUp(){for(var t in this.logger.log(2,"cleanUp","entry"),this._widgetsToDestroy||(this._widgetsToDestroy=[]),this._uiWidgets){var e=this._uiWidgets[t];if("simulator"==this.mode||"view"==this.mode){var i=this.model.widgets[t];i&&i.inherited&&(t=i.inherited),this._uiWidgetsStates[t]=e.getState(),e.beforeDestroy(),this._widgetsToDestroy.push(e)}else e.destroy()}this._iconNodes={},this._imageNodes={},this._labelNodes={},this._borderNodes={},this._editNodes={},this._uiWidgets={},this._widgetNodes={},this._containerWidgets={}}destroyWidgets(){if(this.logger.log(2,"destroyWidgets","enter > "),this._widgetsToDestroy)for(var t=0;t<this._widgetsToDestroy.length;t++)this._widgetsToDestroy[t].destroy();delete this._widgetsToDestroy}destroyWidgetsById(t){this.logger.log(1,"destroyWidgets","enter > ",t),t.forEach((t=>{const e=this._uiWidgets[t];if(e){if("simulator"==this.mode||"view"==this.mode){const i=this.model.widgets[t];i&&i.inherited&&(t=i.inherited),this._uiWidgetsStates[t]=e.getState()}e.beforeDestroy(),delete this._uiWidgets[t]}}))}}},16355:function(t,e,i){"use strict";i(21703),i(48675),i(3462),i(37380),i(1118),i(23767),i(8585),i(68696),i(82801);var s=i(54524);class o{constructor(){this.logger=new s.Z("RestEngine")}run(t,e){return"GET"===t.method?this.get(t,e):"POST"===t.method&&"FORM"===t.input.type?this.postOrPutForm(t,e):"POST"===t.method&&"JSON"===t.input.type?this.postOrPut(t,e):"POST"!==t.method||"IMAGE"!==t.input.type&&"FILE"!==t.input.type?"PUT"===t.method&&"JSON"===t.input.type?this.postOrPut(t,e):"PUT"===t.method&&"FORM"===t.input.type?this.postOrPutForm(t,e):"PUT"!==t.method||"IMAGE"!==t.input.type&&"FILE"!==t.input.type?"DELETE"===t.method?this.delete(t,e):void 0:this.postOrPostImage(t,e):this.postOrPostImage(t,e)}async buildURL(t,e){let i=await this.fillString(t.url,e,!1);return this.logger.log(11,"buildURL","exit",i),i}async buildFormData(t,e){const i=new FormData,s=t.input.template.split("\n");for(let o of s){const t=o.split(":");if(2!==t.length)throw new Error("buildFormData() > template not ok");{const s=t[0],o=t[1],r=await this.fillString(o,e,!0);i.append(s,r)}}return this.logger.log(-1,"buildFormData","exit",i),i}async buildData(t,e){let i=await this.fillString(t.input.template,e,!0);return this.logger.log(1,"buildData","exit",i),i}async buildToken(t,e){let i=await this.fillString(t.token,e,!0);return this.logger.log(1,"buildToken","exit",i),i}async fillString(t,e,i=!0){for(let s in e){let o=this.getValueByKey(e,s);o=await this.getStringFilelValue(o,i);let r="${"+s+"}";t=this.replacePattern(t,r,o)}if(t.indexOf("${")>=0)throw this.logger.error("fillString","exit",t),new Error("fillString() > Not all parameters replaced!"+t);return t}fillSimpleString(t,e){let i=this.getDataBindingVariables(t);return i.forEach((i=>{if(void 0!==e[i]){let s=this.getValueByKey(e,i),o="${"+i+"}";t=this.replacePattern(t,o,s)}else this.logger.warn("fillSimpleString","Could not find",i)})),t}getDataBindingVariables(t){let e=[];return this.parseString(t,e),e}getValueByKey(t,e){return t[e]}replacePattern(t,e,i){let s=0;while(t.indexOf(e)>=0&&s<100)t=t.replace(e,i),s++;return t}getStringFilelValue(t,e){return t&&t.name&&t.size&&e&&(t=this.readFileAsBase64(t)),t}async readFileAsBase64(t){let e=await this.base64(t);return e}dataUrl(t){return new Promise(((e,i)=>{const s=new FileReader;s.onerror=t=>i(t),s.onload=()=>e(s.result),s.readAsDataURL(t)}))}base64(t){return new Promise(((e,i)=>{const s=new FileReader;s.onerror=t=>i(t),s.onload=()=>{let t=Array.from(new Uint8Array(s.result)),i=btoa(t.map((t=>String.fromCharCode(t))).join(""));e(i)},s.readAsArrayBuffer(t)}))}handleOutput(t,e,i){if(this.logger.log(2,"handleOutput","enter",i),200==i.status||201==i.status){if("JSON"===e.output.type)try{t(i.json())}catch(s){throw new Error(`Could not ${e.method} ${e.url}: ${s.message}`)}return"TEXT"===e.output.type&&t(i.text()),void("IMAGE"===e.output.type&&i.arrayBuffer().then((e=>{t(e)})))}throw new Error(`Could not ${e.method} ${e.url}: ${i.statusText}`)}get(t,e){return new Promise((async(i,s)=>{let o=await this.buildURL(t,e),r=await this.createDefaultHeader(t,e);fetch(o,{method:"GET",mode:"cors",cache:"no-cache",headers:r,redirect:"follow",referrer:"no-referrer"}).then((e=>{this.handleOutput(i,t,e)})).catch((t=>{s(t)}))}))}postOrPostImage(t,e){return new Promise((async(i,s)=>{const o=await this.buildURL(t,e),r=await this.createDefaultHeader(t,e),n=new FormData;for(let t in e)n.append(t,e[t]);fetch(o,{method:t.method,mode:"cors",cache:"no-cache",headers:r,redirect:"follow",referrer:"no-referrer",body:n}).then((e=>{this.handleOutput(i,t,e)})).catch((t=>{throw s(t),t}))}))}postOrPutForm(t,e){return this.logger.log(1,"postOrPutForm","enter >"),new Promise((async(i,s)=>{const o=await this.buildURL(t,e),r=await this.buildFormData(t,e),n=await this.createDefaultHeader(t,e);fetch(o,{method:t.method,mode:"cors",cache:"no-cache",headers:n,redirect:"follow",referrer:"no-referrer",body:r}).then((e=>{this.handleOutput(i,t,e)})).catch((t=>{throw s(t),t}))}))}postOrPut(t,e){return new Promise((async(i,s)=>{let o=await this.buildURL(t,e),r=await this.buildData(t,e),n=await this.createDefaultHeader(t,e);fetch(o,{method:t.method,mode:"cors",cache:"no-cache",headers:n,redirect:"follow",referrer:"no-referrer",body:r}).then((e=>{this.handleOutput(i,t,e)})).catch((t=>{throw s(t),t}))}))}delete(t,e){return new Promise((async(i,s)=>{let o=await this.buildURL(t,e),r=await this.createDefaultHeader(t,e);fetch(o,{method:"DELETE",mode:"cors",cache:"no-cache",headers:r,redirect:"follow",referrer:"no-referrer"}).then((e=>{this.handleOutput(i,t,e)})).catch((t=>{throw s(t),t}))}))}async createDefaultHeader(t,e){let i=await this.buildToken(t,e),s=t.authType?t.authType:"Bearer",o={};return"JSON"===t.input.type&&(o["Content-Type"]="application/json",o["Accept"]="application/json"),i&&(o["Authorization"]=`${s} ${i}`),t.headers&&t.headers.forEach((t=>{let i=this.fillSimpleString(t.key,e),s=this.fillSimpleString(t.value,e);o[i]=s})),o}getNeededDataBings(t){let e=[];return this.parseString(t.url,e),this.parseString(t.token,e),"POST"!==t.method&&"PUT"!==t.method||"JSON"!==t.input.type&&"FORM"!==t.input.type||this.parseString(t.input.template,e),"POST"!==t.method&&"PUT"!==t.method||"FILE"!==t.input.type&&"IMAGE"!==t.input.type||t.input.fileDataBinding&&e.push(t.input.fileDataBinding),t.headers&&t.headers.forEach((t=>{this.parseString(t.key,e),this.parseString(t.value,e)})),e}parseString(t,e){let i=t.match(/\$\{(.*?)\}/g);i&&i.forEach((t=>{let i=t.substring(2,t.length-1);e.indexOf(i)<0&&e.push(i)}))}}e.Z=new o},18368:function(t,e,i){"use strict";i.d(e,{Z:function(){return n}});var s=i(43918),o=i(59344);let r=new Worker(new URL(i.p+i.u(647),i.b));class n{run(t,e,n,a={type:"None"}){return s.Z.log(1,"ScriptEngine.run()"),this.isDone=!1,new Promise(((l,h)=>{try{const d=(new Date).getTime();r.onmessage=e=>this.onMessage(e,l,h,d,t),r.postMessage({code:t,model:o.Z.clone(e),viewModel:o.Z.clone(n),sourceEvent:a}),setTimeout((()=>{s.Z.log(5,"ScriptEngine.run() > isDone:",this.isDone),this.isDone||(l({status:"error",error:"Running too long"}),s.Z.error("ScriptEngine.run() > need to terminate script"),r.terminate(),r=new Worker(new URL(i.p+i.u(268),i.b)))}),1e3)}catch(d){s.Z.error("ScriptEngine.run() > Error",d),l({status:"error",error:d.message})}s.Z.log(1,"ScriptEngine.run() > exit")}))}onMessage(t,e,i,o){const r=(new Date).getTime();s.Z.log(2,"ScriptEngine.onMessage() > took",r-o),this.isDone=!0,e(t.data)}}},49799:function(t,e,i){"use strict";var s=i(43918);class o{constructor(){this.images=new Set}reset(){this.images=new Set}load(t,e,i){s.Z.log(-1,"Preloader.load() > enter"),this.loadImages(t,e),this.loadIcons(t,i)}loadImages(t,e){const i=Object.values(t.screens);i.sort(((t,e)=>t.props.start?-1:e.props.start?1:0)),i.forEach((i=>{i.props.start?this.loadScreen(t,i,e,"high"):setTimeout((()=>{this.loadScreen(t,i,e,"low")}),1e3)}))}loadScreen(t,e,i,s){this.loadImage(e,i,s),e.children&&e.children.forEach((e=>{const o=t.widgets[e];o&&this.loadImage(o,i,s)}))}loadIcons(t,e){try{const i=Object.values(t.widgets).filter((t=>"Icon"===t.type));if(i.length>0){s.Z.log(-1,"loadIcons","enter > ",i.length);const t=document.createElement("div");t.className="MatcSimulatorImagePreloader",e.appendChild(t);const o=document.createElement("span");o.className="mdi mdi-android",t.appendChild(o)}}catch(i){s.Z.error("loadIcons","exit > error",i),console.trace()}}loadImage(t,e,i="high"){if(t.style&&t.style.backgroundImage){const o="/rest/images/"+e+"/"+t.style.backgroundImage.url;if(!this.images.has(o)){const t=document.createElement("img");t.fetchpriority=i,t.src=o,this.images.add(o),t.onload=()=>{s.Z.log(4,"Preloader.loadImage() >  done >",o,i)}}}}}e.Z=new o},33963:function(t,e,i){"use strict";i.d(e,{Z:function(){return o}});var s=i(59344);class o{constructor(t){this.r=0,this.g=0,this.b=0,this.a=1,t&&this.setColor(t)}setColor(t){return s.Z.isString(t)?this.fromString(t):s.Z.isArray(t)?this.fromArray(t):this._set(t.r,t.g,t.b,t.a),this}_set(t,e,i,s){this.r=t,this.b=i,this.g=e,this.a=s}toRgb(){const t=this;return[t.r,t.g,t.b]}toRgba(){const t=this;return[t.r,t.g,t.b,t.a]}toHex(){const t=["r","g","b"],e=t.map((t=>{let e=this[t].toString(16);return e.length<2?"0"+e:e}));return"#"+e.join("")}toCss(t){const e=this.r+", "+this.g+", "+this.b;return(t?"rgba("+e+", "+this.a:"rgb("+e)+")"}toString(){return this.toCss(!0)}static blendColors(t,e,i,s){const r=s||new o,n=["r","g","b","a"];return n.forEach((s=>{r[s]=t[s]+(e[s]-t[s])*i,"a"!=s&&(r[s]=Math.round(r[s]))})),r}fromRgb(t){const e=t.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return e&&this.fromArray(e[1].split(/\s*,\s*/))}fromHex(t){let e=this,i=4==t.length?4:8,s=(1<<i)-1;if(t=Number("0x"+t.substr(1)),isNaN(t))return;let o=["b","g","r"];return o.forEach((o=>{var r=t&s;t>>=i,e[o]=4==i?17*r:r})),e.a=1,e}fromArray(t){const e=this;e._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(e.a)&&(e.a=1)}fromString(t){if("transparent"!==t)return this.fromRgb(t)||this.fromHex(t);this._set(0,0,0,0)}}},52468:function(t,e){"use strict";class i{get(t){return window.getComputedStyle(t,null)}set(t,e){for(let i in e)t.style[i]=e[i]}}e.Z=new i},54953:function(t,e,i){"use strict";function s(t){location.hash=t}i.d(e,{Z:function(){return s}})},62766:function(t,e,i){"use strict";function s(t,e,i=""){return i+e.id}function o(t,e,i=""){return"url(#"+i+e.id+")"}function r(t,e=1){const i=t.direction,s=n(i),[o,r,h,d]=l(s),c=a(o,h,r,d,e);return c}function n(t){let e=t%360;return e<0&&(e+=360),e}function a(t,e,i,s,o){return t=(t+1)/2*o,i=(1-i)/2*o,e=(e+1)/2*o,s=(1-s)/2*o,{x1:t,y1:i,x2:e,y2:s}}function l(t){const e=t%45,i=Math.PI/180*e,s=1/Math.cos(i)*Math.sin(i);let o=s,r=1,n=o,a=r;const l=t%180;l<45?(n=o,a=r):l<90?(n=r,a=1-o):l<135?(n=r,a=-o):l<180&&(n=1-o,a=-r),t<180&&(n=-n,a=-a);let h=-n,d=-a;return[n,a,h,d]}i.d(e,{Mi:function(){return r},TR:function(){return s},WT:function(){return o}})},56457:function(t,e,i){"use strict";i.d(e,{Bm:function(){return g},G$:function(){return a},Gz:function(){return l},HQ:function(){return C},J:function(){return A},Lm:function(){return z},ML:function(){return _},OB:function(){return I},T$:function(){return d},U1:function(){return o},Vf:function(){return S},W3:function(){return n},XK:function(){return u},Xu:function(){return L},Ye:function(){return h},ZM:function(){return f},cZ:function(){return m},d9:function(){return x},dS:function(){return N},fL:function(){return P},jY:function(){return y},kK:function(){return k},k_:function(){return w},lH:function(){return p},m$:function(){return M},nX:function(){return E},qu:function(){return D},r6:function(){return $},rI:function(){return Z},t4:function(){return B},vh:function(){return O},xW:function(){return b},y_:function(){return T},z1:function(){return W},zR:function(){return v}});const s=!0;function o(t,e){const[i,s]=r(t),o=(new DOMMatrix).translate(i,s,0).rotate(e).translate(-1*i,-1*s,0);t.d.forEach((t=>{const e=new DOMPoint(t.x,t.y),i=o.transformPoint(e);if(t.x=i.x,t.y=i.y,"C"===t.t){const e=new DOMPoint(t.x1,t.y1),i=o.transformPoint(e);t.x1=Math.round(i.x),t.y1=Math.round(i.y);const s=new DOMPoint(t.x2,t.y2),r=o.transformPoint(s);t.x2=Math.round(r.x),t.y2=Math.round(r.y)}}))}function r(t){let e=0,i=0;t.d.forEach((t=>{e+=t.x,i+=t.y}));const s=i/t.d.length,o=e/t.d.length;return[o,s]}function n(t,e,i){const s=t.findIndex((t=>t.id===e));let o=t.findIndex((t=>t.id===i));if(s<0||o<0)return console.warn("SVGUtil.changePathOrder() > could not find noth paths",s,o),t;const r=t.splice(s,1)[0];return o=t.findIndex((t=>t.id===i)),t.splice(o+1,0,r),t}function a(t,e){const i=[],s=[];return t.forEach((t=>{e.indexOf(t.id)>=0?s.push(t):i.push(t)})),i.concat(s)}function l(t,e){const i=[],s=[];return t.forEach((t=>{e.indexOf(t.id)>=0?s.push(t):i.push(t)})),s.concat(i)}function h(t,e){return e.map((e=>"Path"===e.type?e.d.map((e=>"C"===e.t?{x:(e.x-t.x)/t.w,y:(e.y-t.y)/t.h,x1:(e.x1-t.x)/t.w,y1:(e.y1-t.y)/t.h,x2:(e.x2-t.x)/t.w,y2:(e.y2-t.y)/t.h}:{x:(e.x-t.x)/t.w,y:(e.y-t.y)/t.h})):[]))}function d(t,e){const i=x(t);for(let s of i){const t=s.d;s.strokeWidth=s.strokeWidth*e,s.strokeDash&&(s.strokeDash=s.strokeDash.split(",").map((t=>t*e)).join(","));for(let i=0;i<t.length;i++){const s=t[i];s.x=c(s.x*e),s.y=c(s.y*e),"C"===s.t&&(s.x1=c(s.x1*e),s.y1=c(s.y1*e),s.x2=c(s.x2*e),s.y2=c(s.y2*e))}}return i}function c(t){return Math.round(t)}function u(t,e){return{x:Math.round(t.x*e),y:Math.round(t.y*e),w:Math.round(t.w*e),h:Math.round(t.h*e),zoom:e}}function p(t,e){return{x:Math.round(t.x/e),y:Math.round(t.y/e),w:Math.round(t.w/e),h:Math.round(t.h/e),zoom:e}}function g(t,e){return t.d.every((t=>t.x>=e.x&&t.x<=e.x+e.w&&t.y>=e.y&&t.y<=e.y+e.h))}function m(t,e){return t.x>=e.x&&t.x<=e.x+e.w&&t.y>=e.y&&t.y<=e.y+e.h}function f(t,e=5){if(t.length<2)return;const i=t[0],s=t[t.length-1],o=Math.abs(i.x-s.x),r=Math.abs(i.y-s.y);o<=e&&r<=e&&(s.t="Z")}function v(t,e=0,i=0,s=!1){let o=t.map((t=>"C"===t.t||"CZ"===t.t?`C ${t.x1+e} ${t.y1+i}, ${t.x2+e} ${t.y2+i}, ${t.x+e} ${t.y+i}`:"Z"===t.t?"Z":"A"===t.t?`A ${t.rx} ${t.ry}  ${t.xar} ${t.laf} ${t.sf} ${t.x} ${t.y}`:`${t.t} ${t.x+e} ${t.y+i}`)).join(" ");return s&&t.length>0&&(o+="Z"),o}function y(t){return t.getBBox({stroke:s,marker:!0})}function b(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];e.push(y(s))}return e}function _(t,e,i){const s=Math.max(e.map((t=>t.strokeWidth)))*i;console.debug(s);const o=s/2,r={x:Math.round(t.x-o),y:Math.round(t.y-o),w:Math.round(t.w+s),h:Math.round(t.h+s),zoom:t.zoom};return r}function S(t,e=20){return t.h<e&&(t.h+=e,t.y-=Math.round(e/2)),t.w<e&&(t.w+=e,t.x-=Math.round(e/2)),t}function w(t){const e={x:1e8,y:1e8,w:0,h:0,isBoundingBox:!0};for(let i=0;i<t.length;i++){const s=t[i];e.x=Math.min(e.x,s.x),e.y=Math.min(e.y,s.y),e.w=Math.max(e.w,s.x+s.width),e.h=Math.max(e.h,s.y+s.height)}return e.h-=e.y,e.w-=e.x,e}function x(t){return JSON.parse(JSON.stringify(t))}function C(t){if(0===t.length)return!1;for(let e of t)if(0===e.d.length)return!1;return!0}function k(t,e,i){if(e.w===i.w&&e.h===i.h)return t;const s=x(t),o=i.w/e.w,r=i.h/e.h;return s.forEach((t=>{const e=t.d;for(let i=0;i<e.length;i++){const t=e[i];t.x=Math.round(t.x*o),t.y=Math.round(t.y*r),"C"===t.t&&(t.x1=Math.round(t.x1*o),t.y1=Math.round(t.y1*r),t.x2=Math.round(t.x2*o),t.y2=Math.round(t.y2*r))}})),s}function T(t,e,i){const s=Math.abs(e.h-i.h),o=Math.abs(e.w-i.w);s<=1&&o<=1||t.forEach((t=>{"Path"===t.type&&t.d.forEach((t=>{const s=(t.x-e.x)/e.w;t.x=Math.round(i.x+i.w*s);const o=(t.y-e.y)/e.h;if(t.y=Math.round(i.y+i.h*o),"C"===t.t){const s=(t.x1-e.x)/e.w;t.x1=Math.round(i.x+i.w*s);const o=(t.y1-e.y)/e.h;t.y1=Math.round(i.y+i.h*o);const r=(t.x2-e.x)/e.w;t.x2=Math.round(i.x+i.w*r);const n=(t.y2-e.y)/e.h;t.y2=Math.round(i.y+i.h*n)}}))}))}function M(t,e,i){const s=Math.round(i.x-e.x),o=Math.round(i.y-e.y);if(0===s&&0===o)return t;t.forEach((t=>{"Path"===t.type&&t.d.forEach((t=>{t.x+=s,t.y+=o,"C"===t.t&&(t.x1+=s,t.y1+=o,t.x2+=s,t.y2+=o)}))}))}function N(t,e){const i=x(t);return i.forEach((t=>{const i=t.d;for(let s=0;s<i.length;s++){const t=i[s];t.x+=e.x,t.y+=e.y,"C"===t.t&&(t.x1+=e.x,t.y1+=e.y,t.x2+=e.x,t.y2+=e.y)}})),i}function B(t,e){const i=x(t);return i.forEach((t=>{const i=t.d;for(let s=0;s<i.length;s++){const t=i[s];t.x-=e.x,t.y-=e.y,"C"===t.t&&(t.x1-=e.x,t.y1-=e.y,t.x2-=e.x,t.y2-=e.y)}})),i}function W(t){const e={x:1e8,y:1e8,w:0,h:0,isBoundingBox:!0};for(let i of t){const t=i.d;for(let i=0;i<t.length;i++){const s=t[i];e.x=Math.min(e.x,s.x),e.y=Math.min(e.y,s.y),e.w=Math.max(e.w,s.x),e.h=Math.max(e.h,s.y)}}return e.h-=e.y,e.w-=e.x,e}function E(t){return t.filter((t=>!t._temp))}function D(t){return t.filter(((e,i)=>{const s=t[i+1];return!s||(s.x===e.x&&s.y===e.y&&console.warn("SVGUtil.filterDouble() > remove ",i),!(s.x===e.x&&s.y===e.y))}))}function Z(t,e,i=2){const s=[],o=0,r=Math.round(t.w/2),n=Math.round(t.h/2);return s.push({x:t.x-o,y:t.y-o,w:e,h:e,r:i,type:"LeftUp",vertical:!0,horizontal:!0}),s.push({x:t.x-o,y:t.y+t.h-o,w:e,h:e,r:i,type:"LeftDown"}),s.push({x:t.x+t.w-o,y:t.y-o,w:e,h:e,r:i,type:"RightUp"}),s.push({x:t.x+t.w-o,y:t.y+t.h-o,w:e,h:e,r:i,type:"RighDown"}),s.push({x:t.x+t.w-o,y:t.y+n-o,w:e,h:e,r:i,type:"East"}),s.push({x:t.x-o,y:t.y+n-o,w:e,h:e,r:i,type:"West"}),s.push({x:t.x+r-o,y:t.y-o,w:e,h:e,r:i,type:"North"}),s.push({x:t.x+r-o,y:t.y+t.h-o,w:e,h:e,r:i,type:"South"}),s}function L(t,e,i){const s=[],o=[];return e.forEach((e=>{const r=t.d[e],n=R(t,e,i);n.forEach((e=>{e.id+="_"+s.length,s.push(e),o.push({id:e.id+"_line"+t.id,d:`M ${r.x} ${r.y} L ${e.x} ${e.y}`})}))})),{points:s,lines:o}}function R(t,e,i){const s=[],o=2*i,r=t.d[e];r&&"C"===r.t&&s.push({id:"x2",parent:e,isX2:!0,o:i,x:r.x2,y:r.y2,h:o,w:o});const n=t.d[e+1];return n&&"C"===n.t&&s.push({id:"x1",parent:e+1,isX1:!0,o:i,x:n.x1,y:n.y1,h:o,w:o}),s}function O(t,e){let i=e.parent;e.isX1&&i--;const s={},o=t.d[i],r=t.d[i+1];if(r){const t=r.x1-o.x,e=r.y1-o.y;s.x1=Math.sqrt(t*t+e*e)}const n=o.x2-o.x,a=o.y2-o.y;return s.x2=Math.sqrt(n*n+a*a),s}function A(t,e){let i=e.parent;e.isX1&&i--;const s={x1:1/0,x2:1/0},o=t.d[i],r=t.d[i+1];if(r){const t=r.x1-o.x,e=r.y1-o.y;s.x1=t/e}const n=o.x2-o.x,a=o.y2-o.y;return s.x2=n/a,s}function P(t,e,i,s){return`url(#${s}_${i}_${e.id})`}function V(t,e,i,s){return`${s}_${i}_${e.id}`}function I(t,e){const i=[];return t.forEach(((t,s)=>{if(t.markerStart){const o={id:V(s,t,"start",e),stroke:t.stroke,strokeLineCap:t.strokeLineCap,type:t.markerStart};i.push(o)}if(t.markerEnd){const o={id:V(s,t,"end",e),stroke:t.stroke,strokeLineCap:t.strokeLineCap,type:t.markerEnd};i.push(o)}})),i}function z(t,e,i,s,o=!1){const r=t.d[e+1],n={t:"L",x:Math.round(i.x),y:Math.round(i.y)};return t.d.splice(e+1,0,n),r&&"C"===r.t&&o&&F(t,e+1,s),t}function F(t,e,i,s=.66){const o=t.d[e],r=t.d[e-1],n=t.d[e+1];if(o.t="C",r){const t=n.x1-r.x,e=n.y1-r.y;o.x1=r.x+t*s,o.y1=r.y+e*s,o.x2=o.x-20,o.y2=o.y}if(n){n.x1=o.x+20,n.y1=o.y;const t=n.x2-n.x,e=n.y2-n.y;n.x2=n.x+t*s,n.y2=n.y+e*s}}function $(t,e){const i=t.getPointAtLength(e-1),s=t.getPointAtLength(e+1);return{x:s.x-i.x,y:s.y-i.y}}},67265:function(t,e,i){"use strict";i.d(e,{n:function(){return mt}});var s,o=i(43918),r=(i(41539),i(54747),i(31807)),n=i.n(r),a=(i(91058),i(19601),i(57327),i(66992),i(78783),i(4129),i(33948),i(93096)),l=i.n(a),h=i(91296),d=i.n(h),c=i(20773),u=i.n(c),p=[],g=function(){return p.some((function(t){return t.activeTargets.length>0}))},m=function(){return p.some((function(t){return t.skippedTargets.length>0}))},f="ResizeObserver loop completed with undelivered notifications.",v=function(){var t;"function"===typeof ErrorEvent?t=new ErrorEvent("error",{message:f}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=f),window.dispatchEvent(t)};(function(t){t["BORDER_BOX"]="border-box",t["CONTENT_BOX"]="content-box",t["DEVICE_PIXEL_CONTENT_BOX"]="device-pixel-content-box"})(s||(s={}));var y,b=function(t){return Object.freeze(t)},_=function(){function t(t,e){this.inlineSize=t,this.blockSize=e,b(this)}return t}(),S=function(){function t(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,b(this)}return t.prototype.toJSON=function(){var t=this,e=t.x,i=t.y,s=t.top,o=t.right,r=t.bottom,n=t.left,a=t.width,l=t.height;return{x:e,y:i,top:s,right:o,bottom:r,left:n,width:a,height:l}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),w=function(t){return t instanceof SVGElement&&"getBBox"in t},x=function(t){if(w(t)){var e=t.getBBox(),i=e.width,s=e.height;return!i&&!s}var o=t,r=o.offsetWidth,n=o.offsetHeight;return!(r||n||t.getClientRects().length)},C=function(t){var e,i;if(t instanceof Element)return!0;var s=null===(i=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===i?void 0:i.defaultView;return!!(s&&t instanceof s.Element)},k=function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},T="undefined"!==typeof window?window:{},M=new WeakMap,N=/auto|scroll/,B=/^tb|vertical/,W=/msie|trident/i.test(T.navigator&&T.navigator.userAgent),E=function(t){return parseFloat(t||"0")},D=function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!1),new _((i?e:t)||0,(i?t:e)||0)},Z=b({devicePixelContentBoxSize:D(),borderBoxSize:D(),contentBoxSize:D(),contentRect:new S(0,0,0,0)}),L=function(t,e){if(void 0===e&&(e=!1),M.has(t)&&!e)return M.get(t);if(x(t))return M.set(t,Z),Z;var i=getComputedStyle(t),s=w(t)&&t.ownerSVGElement&&t.getBBox(),o=!W&&"border-box"===i.boxSizing,r=B.test(i.writingMode||""),n=!s&&N.test(i.overflowY||""),a=!s&&N.test(i.overflowX||""),l=s?0:E(i.paddingTop),h=s?0:E(i.paddingRight),d=s?0:E(i.paddingBottom),c=s?0:E(i.paddingLeft),u=s?0:E(i.borderTopWidth),p=s?0:E(i.borderRightWidth),g=s?0:E(i.borderBottomWidth),m=s?0:E(i.borderLeftWidth),f=c+h,v=l+d,y=m+p,_=u+g,C=a?t.offsetHeight-_-t.clientHeight:0,k=n?t.offsetWidth-y-t.clientWidth:0,T=o?f+y:0,L=o?v+_:0,R=s?s.width:E(i.width)-T-k,O=s?s.height:E(i.height)-L-C,A=R+f+k+y,P=O+v+C+_,V=b({devicePixelContentBoxSize:D(Math.round(R*devicePixelRatio),Math.round(O*devicePixelRatio),r),borderBoxSize:D(A,P,r),contentBoxSize:D(R,O,r),contentRect:new S(c,l,R,O)});return M.set(t,V),V},R=function(t,e,i){var o=L(t,i),r=o.borderBoxSize,n=o.contentBoxSize,a=o.devicePixelContentBoxSize;switch(e){case s.DEVICE_PIXEL_CONTENT_BOX:return a;case s.BORDER_BOX:return r;default:return n}},O=function(){function t(t){var e=L(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=b([e.borderBoxSize]),this.contentBoxSize=b([e.contentBoxSize]),this.devicePixelContentBoxSize=b([e.devicePixelContentBoxSize])}return t}(),A=function(t){if(x(t))return 1/0;var e=0,i=t.parentNode;while(i)e+=1,i=i.parentNode;return e},P=function(){var t=1/0,e=[];p.forEach((function(i){if(0!==i.activeTargets.length){var s=[];i.activeTargets.forEach((function(e){var i=new O(e.target),o=A(e.target);s.push(i),e.lastReportedSize=R(e.target,e.observedBox),o<t&&(t=o)})),e.push((function(){i.callback.call(i.observer,s,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,s=e;i<s.length;i++){var o=s[i];o()}return t},V=function(t){p.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(i){i.isActive()&&(A(i.target)>t?e.activeTargets.push(i):e.skippedTargets.push(i))}))}))},I=function(){var t=0;V(t);while(g())t=P(),V(t);return m()&&v(),t>0},z=[],F=function(){return z.splice(0).forEach((function(t){return t()}))},$=function(t){if(!y){var e=0,i=document.createTextNode(""),s={characterData:!0};new MutationObserver((function(){return F()})).observe(i,s),y=function(){i.textContent=""+(e?e--:e++)}}z.push(t),y()},U=function(t){$((function(){requestAnimationFrame(t)}))},H=0,G=function(){return!!H},Y=250,X={attributes:!0,characterData:!0,childList:!0,subtree:!0},j=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],q=function(t){return void 0===t&&(t=0),Date.now()+t},Q=!1,K=function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=Y),!Q){Q=!0;var i=q(t);U((function(){var s=!1;try{s=I()}finally{if(Q=!1,t=i-q(),!G())return;s?e.run(1e3):t>0?e.run(t):e.start()}}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,X)};document.body?e():T.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),j.forEach((function(e){return T.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),j.forEach((function(e){return T.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}(),J=new K,tt=function(t){!H&&t>0&&J.start(),H+=t,!H&&J.stop()},et=function(t){return!w(t)&&!k(t)&&"inline"===getComputedStyle(t).display},it=function(){function t(t,e){this.target=t,this.observedBox=e||s.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t=R(this.target,this.observedBox,!0);return et(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},t}(),st=function(){function t(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e}return t}(),ot=new WeakMap,rt=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].target===e)return i;return-1},nt=function(){function t(){}return t.connect=function(t,e){var i=new st(t,e);ot.set(t,i)},t.observe=function(t,e,i){var s=ot.get(t),o=0===s.observationTargets.length;rt(s.observationTargets,e)<0&&(o&&p.push(s),s.observationTargets.push(new it(e,i&&i.box)),tt(1),J.schedule())},t.unobserve=function(t,e){var i=ot.get(t),s=rt(i.observationTargets,e),o=1===i.observationTargets.length;s>=0&&(o&&p.splice(p.indexOf(i),1),i.observationTargets.splice(s,1),tt(-1))},t.disconnect=function(t){var e=this,i=ot.get(t);i.observationTargets.slice().forEach((function(i){return e.unobserve(t,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},t}(),at=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");nt.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!C(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");nt.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!C(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");nt.unobserve(this,t)},t.prototype.disconnect=function(){nt.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}(),lt=(i(85827),i(74916),i(4723),i(68309),i(15306),function(t){var e=Array.prototype.reduce.call(t,(function(t,e){var i=e.name.match(/data-simplebar-(.+)/);if(i){var s=i[1].replace(/\W+(.)/g,(function(t,e){return e.toUpperCase()}));switch(e.value){case"true":t[s]=!0;break;case"false":t[s]=!1;break;case void 0:t[s]=!0;break;default:t[s]=e.value}}return t}),{});return e});function ht(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}function dt(t){return t&&t.ownerDocument?t.ownerDocument:document}var ct=null,ut=null;function pt(t){if(null===ct){var e=dt(t);if("undefined"===typeof e)return ct=0,ct;var i=e.body,s=e.createElement("div");s.classList.add("simplebar-hide-scrollbar"),i.appendChild(s);var o=s.getBoundingClientRect().right;i.removeChild(s),ct=o}return ct}n()&&window.addEventListener("resize",(function(){ut!==window.devicePixelRatio&&(ut=window.devicePixelRatio,ct=null)}));var gt=function(){function t(e,i){var s=this;this.onScroll=function(){var t=ht(s.el);s.scrollXTicking||(t.requestAnimationFrame(s.scrollX),s.scrollXTicking=!0),s.scrollYTicking||(t.requestAnimationFrame(s.scrollY),s.scrollYTicking=!0)},this.scrollX=function(){s.axis.x.isOverflowing&&(s.showScrollbar("x"),s.positionScrollbar("x")),s.scrollXTicking=!1},this.scrollY=function(){s.axis.y.isOverflowing&&(s.showScrollbar("y"),s.positionScrollbar("y")),s.scrollYTicking=!1},this.onMouseEnter=function(){s.showScrollbar("x"),s.showScrollbar("y")},this.onMouseMove=function(t){s.mouseX=t.clientX,s.mouseY=t.clientY,(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseMoveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseMoveForAxis("y")},this.onMouseLeave=function(){s.onMouseMove.cancel(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseLeaveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseLeaveForAxis("y"),s.mouseX=-1,s.mouseY=-1},this.onWindowResize=function(){s.scrollbarWidth=s.getScrollbarWidth(),s.hideNativeScrollbar()},this.hideScrollbars=function(){s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.track.rect)||(s.axis.y.scrollbar.el.classList.remove(s.classNames.visible),s.axis.y.isVisible=!1),s.isWithinBounds(s.axis.x.track.rect)||(s.axis.x.scrollbar.el.classList.remove(s.classNames.visible),s.axis.x.isVisible=!1)},this.onPointerEvent=function(t){var e,i;s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&(e=s.isWithinBounds(s.axis.x.track.rect)),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&(i=s.isWithinBounds(s.axis.y.track.rect)),(e||i)&&(t.preventDefault(),t.stopPropagation(),"mousedown"===t.type&&(e&&(s.axis.x.scrollbar.rect=s.axis.x.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.x.scrollbar.rect)?s.onDragStart(t,"x"):s.onTrackClick(t,"x")),i&&(s.axis.y.scrollbar.rect=s.axis.y.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.scrollbar.rect)?s.onDragStart(t,"y"):s.onTrackClick(t,"y"))))},this.drag=function(e){var i,o=s.axis[s.draggedAxis].track,r=o.rect[s.axis[s.draggedAxis].sizeAttr],n=s.axis[s.draggedAxis].scrollbar,a=s.contentWrapperEl[s.axis[s.draggedAxis].scrollSizeAttr],l=parseInt(s.elStyles[s.axis[s.draggedAxis].sizeAttr],10);e.preventDefault(),e.stopPropagation(),i="y"===s.draggedAxis?e.pageY:e.pageX;var h=i-o.rect[s.axis[s.draggedAxis].offsetAttr]-s.axis[s.draggedAxis].dragOffset,d=h/(r-n.size),c=d*(a-l);"x"===s.draggedAxis&&(c=s.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?c-(r+n.size):c,c=s.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-c:c),s.contentWrapperEl[s.axis[s.draggedAxis].scrollOffsetAttr]=c},this.onEndDrag=function(t){var e=dt(s.el),i=ht(s.el);t.preventDefault(),t.stopPropagation(),s.el.classList.remove(s.classNames.dragging),e.removeEventListener("mousemove",s.drag,!0),e.removeEventListener("mouseup",s.onEndDrag,!0),s.removePreventClickId=i.setTimeout((function(){e.removeEventListener("click",s.preventClick,!0),e.removeEventListener("dblclick",s.preventClick,!0),s.removePreventClickId=null}))},this.preventClick=function(t){t.preventDefault(),t.stopPropagation()},this.el=e,this.minScrollbarWidth=20,this.options=Object.assign({},t.defaultOptions,i),this.classNames=Object.assign({},t.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,t.instances.has(this.el)||(this.recalculate=l()(this.recalculate.bind(this),64),this.onMouseMove=l()(this.onMouseMove.bind(this),64),this.hideScrollbars=d()(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=d()(this.onWindowResize.bind(this),64,{leading:!0}),t.getRtlHelpers=u()(t.getRtlHelpers),this.init())}t.getRtlHelpers=function(){var e=document.createElement("div");e.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var i=e.firstElementChild;document.body.appendChild(i);var s=i.firstElementChild;i.scrollLeft=0;var o=t.getOffset(i),r=t.getOffset(s);i.scrollLeft=999;var n=t.getOffset(s);return{isRtlScrollingInverted:o.left!==r.left&&r.left-n.left!==0,isRtlScrollbarInverted:o.left!==r.left}},t.getOffset=function(t){var e=t.getBoundingClientRect(),i=dt(t),s=ht(t);return{top:e.top+(s.pageYOffset||i.documentElement.scrollTop),left:e.left+(s.pageXOffset||i.documentElement.scrollLeft)}};var e=t.prototype;return e.init=function(){t.instances.set(this.el,this),n()&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.initDOM=function(){var t=this;if(Array.prototype.filter.call(this.el.children,(function(e){return e.classList.contains(t.classNames.wrapper)})).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);while(this.el.firstChild)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var e=document.createElement("div"),i=document.createElement("div");e.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),e.appendChild(i),this.axis.x.track.el=e.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=e.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},e.setAccessibilityAttributes=function(){var t=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",t)},e.initListeners=function(){var t=this,e=ht(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(e){t.el.addEventListener(e,t.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(e){t.el.addEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})})),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),e.addEventListener("resize",this.onWindowResize);var i=!1,s=e.ResizeObserver||at;this.resizeObserver=new s((function(){i&&t.recalculate()})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),e.requestAnimationFrame((function(){i=!0})),this.mutationObserver=new e.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},e.recalculate=function(){var t=ht(this.el);this.elStyles=t.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var e=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1,s=this.contentEl.offsetWidth,o=this.contentWrapperEl.offsetWidth,r=this.elStyles.overflowX,n=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=e?"auto":"100%",this.placeholderEl.style.width=i?s+"px":"auto",this.placeholderEl.style.height=a+"px";var h=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=l>s,this.axis.y.isOverflowing=a>h,this.axis.x.isOverflowing="hidden"!==r&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==n&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var d=this.axis.x.isOverflowing?this.scrollbarWidth:0,c=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>o-c,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>h-d,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},e.getScrollbarSize=function(t){if(void 0===t&&(t="y"),!this.axis[t].isOverflowing)return 0;var e,i=this.contentEl[this.axis[t].scrollSizeAttr],s=this.axis[t].track.el[this.axis[t].offsetSizeAttr],o=s/i;return e=Math.max(~~(o*s),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(e=Math.min(e,this.options.scrollbarMaxSize)),e},e.positionScrollbar=function(e){if(void 0===e&&(e="y"),this.axis[e].isOverflowing){var i=this.contentWrapperEl[this.axis[e].scrollSizeAttr],s=this.axis[e].track.el[this.axis[e].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[e].sizeAttr],10),r=this.axis[e].scrollbar,n=this.contentWrapperEl[this.axis[e].scrollOffsetAttr];n="x"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-n:n;var a=n/(i-o),l=~~((s-r.size)*a);l="x"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l+(s-r.size):l,r.el.style.transform="x"===e?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},e.toggleTrackVisibility=function(t){void 0===t&&(t="y");var e=this.axis[t].track.el,i=this.axis[t].scrollbar.el;this.axis[t].isOverflowing||this.axis[t].forceVisible?(e.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll"):(e.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden"),this.axis[t].isOverflowing?i.style.display="block":i.style.display="none"},e.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},e.onMouseMoveForAxis=function(t){void 0===t&&(t="y"),this.axis[t].track.rect=this.axis[t].track.el.getBoundingClientRect(),this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect();var e=this.isWithinBounds(this.axis[t].scrollbar.rect);e?this.axis[t].scrollbar.el.classList.add(this.classNames.hover):this.axis[t].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[t].track.rect)?(this.showScrollbar(t),this.axis[t].track.el.classList.add(this.classNames.hover)):this.axis[t].track.el.classList.remove(this.classNames.hover)},e.onMouseLeaveForAxis=function(t){void 0===t&&(t="y"),this.axis[t].track.el.classList.remove(this.classNames.hover),this.axis[t].scrollbar.el.classList.remove(this.classNames.hover)},e.showScrollbar=function(t){void 0===t&&(t="y");var e=this.axis[t].scrollbar.el;this.axis[t].isVisible||(e.classList.add(this.classNames.visible),this.axis[t].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.onDragStart=function(t,e){void 0===e&&(e="y");var i=dt(this.el),s=ht(this.el),o=this.axis[e].scrollbar,r="y"===e?t.pageY:t.pageX;this.axis[e].dragOffset=r-o.rect[this.axis[e].offsetAttr],this.draggedAxis=e,this.el.classList.add(this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(s.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.onTrackClick=function(t,e){var i=this;if(void 0===e&&(e="y"),this.options.clickOnTrack){var s=ht(this.el);this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect();var o=this.axis[e].scrollbar,r=o.rect[this.axis[e].offsetAttr],n=parseInt(this.elStyles[this.axis[e].sizeAttr],10),a=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],l="y"===e?this.mouseY-r:this.mouseX-r,h=l<0?-1:1,d=-1===h?a-n:a+n,c=function t(){var o,r;-1===h?a>d&&(a-=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((o={},o[i.axis[e].offsetAttr]=a,o)),s.requestAnimationFrame(t)):a<d&&(a+=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((r={},r[i.axis[e].offsetAttr]=a,r)),s.requestAnimationFrame(t))};c()}},e.getContentElement=function(){return this.contentEl},e.getScrollElement=function(){return this.contentWrapperEl},e.getScrollbarWidth=function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:pt(this.el)}catch(t){return pt(this.el)}},e.removeListeners=function(){var t=this,e=ht(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(e){t.el.removeEventListener(e,t.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(e){t.el.removeEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.unMount=function(){this.removeListeners(),t.instances.delete(this.el)},e.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},e.findChild=function(t,e){var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,(function(t){return i.call(t,e)}))[0]},t}();gt.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},gt.instances=new WeakMap,gt.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(t){"init"===t.getAttribute("data-simplebar")||gt.instances.has(t)||new gt(t,lt(t.attributes))}))},gt.removeObserver=function(){this.globalObserver.disconnect()},gt.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!==typeof MutationObserver&&(this.globalObserver=new MutationObserver(gt.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},gt.handleMutations=function(t){t.forEach((function(t){Array.prototype.forEach.call(t.addedNodes,(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!gt.instances.has(t)&&document.documentElement.contains(t)&&new gt(t,lt(t.attributes)):Array.prototype.forEach.call(t.querySelectorAll("[data-simplebar]"),(function(t){"init"!==t.getAttribute("data-simplebar")&&!gt.instances.has(t)&&document.documentElement.contains(t)&&new gt(t,lt(t.attributes))})))})),Array.prototype.forEach.call(t.removedNodes,(function(t){1===t.nodeType&&("init"===t.getAttribute("data-simplebar")?gt.instances.has(t)&&!document.documentElement.contains(t)&&gt.instances.get(t).unMount():Array.prototype.forEach.call(t.querySelectorAll('[data-simplebar="init"]'),(function(t){gt.instances.has(t)&&!document.documentElement.contains(t)&&gt.instances.get(t).unMount()})))}))}))},gt.getOptions=lt,n()&&gt.initHtmlApi();function mt(t,e=!1){return!!(navigator.platform.indexOf("Win")>-1||e)&&(o.Z.log(-1,"ScrollUtil.addScrollIfNeeded() Detected Windows. Add JS Scrollbars"),t.setAttribute("data-simplebar",!0),!0)}}}]);
//# sourceMappingURL=330.158b9ddf.js.map